"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.List=void 0;var _typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=require("react"),_reactTooltip=_interopRequireDefault(require("react-tooltip")),_reactI18next=require("react-i18next"),_useNearScreen2=require("../../../../hooks/useNearScreen"),_Filters=require("../../Filters.interface"),_itemList=require("../item-list"),_userRow=require("../user-row"),_userPositionsRow=require("../user-positions-row"),_skeletons=require("../skeletons"),_style=require("./style"),_search=_interopRequireDefault(require("../../../../assets/svg/search.svg")),_useArrowCounter=require("../../../../hooks/use-arrow-counter"),_config=require("../../../../constants/filters/config"),_types=require("../../../../constants/filters/types"),_getTypeOfDate=require("../../utils/getTypeOfDate"),_jsxRuntime=require("react/jsx-runtime"),List=function(a){var b=a.multiple,c=a.type,d=a.getSelection,e=a.onSelect,f=a.data,g=a.dataSelected,h=void 0===g?[]:g,i=a.getNextPageFilter,j=a.loadingNextPage,k=a.pagination,l=void 0===k?{}:k,m=a.searchValue,n=(0,_reactI18next.useTranslation)(_config.I18N_SECTION),o=n.t,p=(0,_react.useState)(h),q=(0,_slicedToArray2.default)(p,2),r=q[0],s=q[1],t=(0,_useNearScreen2.useNearScreen)({once:!1}),u=t.isNearScreen,v=t.fromRef,w=(0,_react.useRef)(null),x=l.page,y=l.lastPage,z=(0,_react.useMemo)(function(){return r.length===_config.LIMIT_MAX_ITEMS},[r]),A=function(){var a=document.querySelector("[data-js=\"filter-list\"]"),b=a?a.querySelectorAll("input[type=checkbox]"):[];return b},B=function(){var a=A(),b=[];return null===a||void 0===a?void 0:a.forEach(function(a){var c=a.checked,d=a.value,e=f.find(function(a){return d===a.id+""});c&&e&&b.push(e)}),b},C=function(a){var b=A(),c=[];return null===b||void 0===b?void 0:b.forEach(function(b){var d=b.checked,e=b.value;d&&e===a.id+""&&(c=[a]),d&&a.type===_types.FILTER_TYPES.DATE&&(c=[a])}),c},D=(0,_react.useCallback)(function(a){var c=b?B():C(a);c.length<=_config.LIMIT_MAX_ITEMS&&(e(c),s(c),d(a))},[f]),E=(0,_useArrowCounter.useArrowCounter)({dataMax:f.length,onConfirm:function onClickFromKeyboard(a){var b=f[a];if(b){var c=document.querySelector("[data-js=\"filter-list\"]"),d=null===c||void 0===c?void 0:c.querySelector("input[type='checkbox'][value=\"".concat(b.id,"\"]"));document.activeElement===d&&(d.checked=!d.checked,D(b))}},onExit:function onExit(){return!0},ignoreNext:!1,resetCounter:!1}),F=(0,_react.useCallback)(function(a){var b,c,d,e,f,g,h,i;null!==(b=a[0])&&void 0!==b&&null!==(c=b.value)&&void 0!==c&&c.from&&null!==(d=a[0])&&void 0!==d&&null!==(e=d.value)&&void 0!==e&&e.to&&(i=(0,_getTypeOfDate.getTypeOfDate)(a[0].value)),(null!==(f=a[0])&&void 0!==f&&f.fromDate||null!==(g=a[0])&&void 0!==g&&g.toDate)&&(i=(0,_getTypeOfDate.getTypeOfDate)(a[0]));return"boolean"==typeof i&&!0===i?"lastMonth":"withoutDeadline"===(null===(h=a[0])||void 0===h?void 0:h.fromDate)?"withoutDeadline":{0:"thisMonth",100:"today",1:"lastMonth",3:"lastThreeMonth",6:"lastSixMonth",107:"nextSevenDays",12:"lastTwelveMonth"}[i]},[]),G=function(a){var b,c,d,e,f=!1;if("object"!==(0,_typeof2.default)(a.value)&&(f=!!(null!==r&&void 0!==r&&r.find(function(b){return b.id+""===a.id+""}))),"object"===(0,_typeof2.default)(a.value)&&(null!==(b=a.value)&&void 0!==b&&b.to&&null!==(c=a.value)&&void 0!==c&&c.from||!(null!==(d=a.value)&&void 0!==d&&d.toDate&&null!==(e=a.value)&&void 0!==e&&e.fromDate))){var g=F(r);f=g&&g===a.title}return(a.id&&a.email||Object.keys(a).find(function(a){return"categoryName"===a}))&&(f=!!(null!==r&&void 0!==r&&r.find(function(b){return b.id+""===a.id+""}))),f};(0,_react.useEffect)(function(){var a="l2-dropdown-item-".concat(E),b=document.querySelector("[data-js=\"".concat(a,"\"]"));null===b||void 0===b?void 0:b.focus()},[E]),(0,_react.useEffect)(function(){u&&+x!=+y&&(null===f||void 0===f?void 0:f.length)>=20&&!j&&i(m)},[u,x,y,m,f,j]);var H=(0,_react.useCallback)(function(){return c===_Filters.ListTypes.text?(0,_jsxRuntime.jsx)(_skeletons.L2TextSkeletons,{noStyles:!0}):(0,_jsxRuntime.jsx)(_skeletons.L2AvatarSkeletons,{noStyles:!0})},[c]),I=(0,_react.useCallback)(function(a){return a.length?a.map(function(a,b){var d=G(a),e=a.title,f=a.icon,g=a.borderColor,h=a.id;return c===_Filters.ListTypes.text||c===_Filters.ListTypes.date?(0,_jsxRuntime.jsx)(_itemList.ItemList,{text:e,onSelect:D,value:a,selected:d,isFocused:b===E,isDisabled:z&&!d,borderColor:g,icon:f,index:b},e+h):c===_Filters.ListTypes.avatars?(0,_jsxRuntime.jsx)(_userRow.UserRow,{data:a,onSelect:D,selected:d,isFocused:b===E,isDisabled:z&&!d,index:b},h):(0,_jsxRuntime.jsx)(_userPositionsRow.UserPositionsRow,{categoryName:a.categoryName,name:a.name,id:a.id,onSelect:D,isFocused:b===E,selected:d,isDisabled:z&&!d,index:b},"category_".concat(a.categoryName,"_position_").concat(a.name,"_id_").concat(a.id))}):null},[f,r,E]);return(0,_jsxRuntime.jsxs)(_style.SCListWrapper,{"data-js":"filter-list",ref:w,children:[z&&(0,_jsxRuntime.jsx)(_reactTooltip.default,{id:"full-text-checkbox-filters",delayHide:1e3}),I(f),j&&(0,_jsxRuntime.jsx)(H,{}),!!f.length&&(0,_jsxRuntime.jsx)("div",{ref:v}),!f.length&&(0,_jsxRuntime.jsxs)(_style.SCEmptyWrapper,{children:[(0,_jsxRuntime.jsx)(_style.SCImage,{src:_search.default,alt:"There's no results","data-robot-id":"filters-list-empty-img"}),(0,_jsxRuntime.jsx)(_style.SCText,{"data-robot-id":"filters-list-empty-label",children:o("withoutResults")})]})]})};exports.List=List;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMaXN0IiwibXVsdGlwbGUiLCJ0eXBlIiwiZ2V0U2VsZWN0aW9uIiwib25TZWxlY3QiLCJkYXRhIiwiZGF0YVNlbGVjdGVkIiwiZ2V0TmV4dFBhZ2VGaWx0ZXIiLCJsb2FkaW5nTmV4dFBhZ2UiLCJwYWdpbmF0aW9uIiwic2VhcmNoVmFsdWUiLCJ1c2VUcmFuc2xhdGlvbiIsIkkxOE5fU0VDVElPTiIsInQiLCJ1c2VTdGF0ZSIsInZhbHVlcyIsInNldFZhbHVlcyIsInVzZU5lYXJTY3JlZW4iLCJvbmNlIiwiaXNOZWFyU2NyZWVuIiwiZnJvbVJlZiIsIkxJU1RfUkVGIiwidXNlUmVmIiwicGFnZSIsImxhc3RQYWdlIiwiZGlzYWJsZVNlbGVjdGlvbiIsInVzZU1lbW8iLCJsZW5ndGgiLCJMSU1JVF9NQVhfSVRFTVMiLCJnZXRDaGVja2JveGVzIiwibGlzdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFsbENoZWNrQm94IiwicXVlcnlTZWxlY3RvckFsbCIsImdldE11bHRpcGxlU2VsZWN0aW9uIiwiY2hlY2tib3hlcyIsIm5ld1ZhbHVlcyIsImZvckVhY2giLCJjaGVja2VkIiwiY2hlY2tib3hWYWx1ZSIsInZhbHVlIiwiaXRlbSIsImZpbmQiLCJsaXN0SXRlbSIsImlkIiwicHVzaCIsImdldFNpbXBsZVNlbGVjdGlvbiIsIm5ld1ZhbHVlIiwiRklMVEVSX1RZUEVTIiwiREFURSIsImhhbmRsZUNoZWNrSXRlbSIsInVzZUNhbGxiYWNrIiwiYXJyb3dDb3VudGVyIiwidXNlQXJyb3dDb3VudGVyIiwiZGF0YU1heCIsIm9uQ29uZmlybSIsIm9uQ2xpY2tGcm9tS2V5Ym9hcmQiLCJzZWxlY3RlZEl0ZW0iLCJjaGVja2JveCIsImFjdGl2ZUVsZW1lbnQiLCJvbkV4aXQiLCJpZ25vcmVOZXh0IiwicmVzZXRDb3VudGVyIiwiZ2V0RGF0ZVRpdGxlIiwiYWN0dWFsVmFsdWVzIiwiZGlmZiIsImZyb20iLCJ0byIsImdldFR5cGVPZkRhdGUiLCJmcm9tRGF0ZSIsInRvRGF0ZSIsImlzU2VsZWN0ZWRTZWxlY3RvciIsIml0ZW1TZWxlY3RlZCIsImlzU2VsZWN0ZWQiLCJkYXRlVGl0bGUiLCJ0aXRsZSIsImVtYWlsIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsInVzZUVmZmVjdCIsIml0ZW1OYW1lIiwiZm9jdXMiLCJMb2FkaW5nU2tlbGV0b25zIiwiTGlzdFR5cGVzIiwidGV4dCIsInJlbmRlclJvd3MiLCJyb3dzVG9SZW5kZXIiLCJtYXAiLCJpbmRleCIsImljb24iLCJib3JkZXJDb2xvciIsIml0ZW1JZCIsImRhdGUiLCJhdmF0YXJzIiwiY2F0ZWdvcnlOYW1lIiwibmFtZSIsIlNlYXJjaCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2ZpbHRlcnMvY29tcG9uZW50cy9saXN0L0xpc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZ1bmN0aW9uQ29tcG9uZW50LCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCBSZWFjdFRvb2x0aXAgZnJvbSAncmVhY3QtdG9vbHRpcCdcblxuLy8gV29yZGluZ1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0J1xuaW1wb3J0IHsgdXNlTmVhclNjcmVlbiB9IGZyb20gJy4uLy4uLy4uLy4uL2hvb2tzL3VzZU5lYXJTY3JlZW4nXG5cbi8vIEludGVyZmFjZVxuaW1wb3J0IHsgTGlzdFByb3BzIH0gZnJvbSAnLi9MaXN0LmludGVyZmFjZSdcbmltcG9ydCB7IExpc3RUeXBlcyB9IGZyb20gJy4uLy4uL0ZpbHRlcnMuaW50ZXJmYWNlJ1xuXG4vLyBVSSBDb21wb25lbnRzXG5pbXBvcnQgeyBJdGVtTGlzdCB9IGZyb20gJy4uL2l0ZW0tbGlzdCdcbmltcG9ydCB7IFVzZXJSb3cgfSBmcm9tICcuLi91c2VyLXJvdydcbmltcG9ydCB7IFVzZXJQb3NpdGlvbnNSb3cgfSBmcm9tICcuLi91c2VyLXBvc2l0aW9ucy1yb3cnXG5pbXBvcnQgeyBMMkF2YXRhclNrZWxldG9ucywgTDJUZXh0U2tlbGV0b25zIH0gZnJvbSAnLi4vc2tlbGV0b25zJ1xuXG4vLyBTdHlsZXNcbmltcG9ydCB7IFNDRW1wdHlXcmFwcGVyLCBTQ0ltYWdlLCBTQ0xpc3RXcmFwcGVyLCBTQ1RleHQgfSBmcm9tICcuL3N0eWxlJ1xuXG4vLyBJbWFnZXNcbmltcG9ydCBTZWFyY2ggZnJvbSAnLi4vLi4vLi4vLi4vYXNzZXRzL3N2Zy9zZWFyY2guc3ZnJ1xuXG4vLyBIb29rc1xuaW1wb3J0IHsgdXNlQXJyb3dDb3VudGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlLWFycm93LWNvdW50ZXInXG5cbi8vIENPTlNUQU5UU1xuaW1wb3J0IHsgSTE4Tl9TRUNUSU9OLCBMSU1JVF9NQVhfSVRFTVMgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMvZmlsdGVycy9jb25maWcnXG5pbXBvcnQgeyBGSUxURVJfVFlQRVMgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMvZmlsdGVycy90eXBlcydcblxuLy8gVXRpbHNcbmltcG9ydCB7IGdldFR5cGVPZkRhdGUgfSBmcm9tICcuLi8uLi91dGlscy9nZXRUeXBlT2ZEYXRlJ1xuXG5leHBvcnQgY29uc3QgTGlzdDogRnVuY3Rpb25Db21wb25lbnQ8TGlzdFByb3BzPiA9ICh7XG4gIG11bHRpcGxlLFxuICB0eXBlLFxuICBnZXRTZWxlY3Rpb24sXG4gIG9uU2VsZWN0LFxuICBkYXRhLFxuICBkYXRhU2VsZWN0ZWQgPSBbXSxcbiAgZ2V0TmV4dFBhZ2VGaWx0ZXIsXG4gIGxvYWRpbmdOZXh0UGFnZSxcbiAgcGFnaW5hdGlvbiA9IHt9LFxuICBzZWFyY2hWYWx1ZSxcbn0pID0+IHtcbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbihJMThOX1NFQ1RJT04pXG4gIGNvbnN0IFt2YWx1ZXMsIHNldFZhbHVlc10gPSB1c2VTdGF0ZShkYXRhU2VsZWN0ZWQpXG4gIGNvbnN0IHsgaXNOZWFyU2NyZWVuLCBmcm9tUmVmIH0gPSB1c2VOZWFyU2NyZWVuKHsgb25jZTogZmFsc2UgfSlcbiAgY29uc3QgTElTVF9SRUYgPSB1c2VSZWYobnVsbClcbiAgY29uc3QgeyBwYWdlLCBsYXN0UGFnZSB9ID0gcGFnaW5hdGlvblxuICBjb25zdCBNSU5fSVRFTVNfVE9fUEFHSU5BVEUgPSAyMFxuXG4gIGNvbnN0IGRpc2FibGVTZWxlY3Rpb24gPSB1c2VNZW1vKCgpID0+IHZhbHVlcy5sZW5ndGggPT09IExJTUlUX01BWF9JVEVNUywgW3ZhbHVlc10pXG5cbiAgY29uc3QgZ2V0Q2hlY2tib3hlcyA9ICgpID0+IHtcbiAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtanM9XCJmaWx0ZXItbGlzdFwiXScpXG4gICAgY29uc3QgYWxsQ2hlY2tCb3ggPSBsaXN0ID8gbGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpIDogW11cbiAgICByZXR1cm4gYWxsQ2hlY2tCb3ggYXMgQXJyYXk8SFRNTElucHV0RWxlbWVudD5cbiAgfVxuXG4gIGNvbnN0IGdldE11bHRpcGxlU2VsZWN0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBnZXRDaGVja2JveGVzKClcbiAgICBjb25zdCBuZXdWYWx1ZXMgPSBbXVxuXG4gICAgY2hlY2tib3hlcz8uZm9yRWFjaCgoeyBjaGVja2VkLCB2YWx1ZTogY2hlY2tib3hWYWx1ZSB9KSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gZGF0YS5maW5kKGxpc3RJdGVtID0+IGNoZWNrYm94VmFsdWUgPT09IFN0cmluZyhsaXN0SXRlbS5pZCkpXG5cbiAgICAgIGlmIChjaGVja2VkICYmIGl0ZW0pIHtcbiAgICAgICAgbmV3VmFsdWVzLnB1c2goaXRlbSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIG5ld1ZhbHVlc1xuICB9XG5cbiAgY29uc3QgZ2V0U2ltcGxlU2VsZWN0aW9uID0gaXRlbSA9PiB7XG4gICAgY29uc3QgY2hlY2tib3hlcyA9IGdldENoZWNrYm94ZXMoKVxuICAgIGxldCBuZXdWYWx1ZSA9IFtdXG5cbiAgICBjaGVja2JveGVzPy5mb3JFYWNoKCh7IGNoZWNrZWQsIHZhbHVlOiBjaGVja2JveFZhbHVlIH0pID0+IHtcbiAgICAgIGlmIChjaGVja2VkICYmIGNoZWNrYm94VmFsdWUgPT09IFN0cmluZyhpdGVtLmlkKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IFtpdGVtXVxuICAgICAgfVxuXG4gICAgICBpZiAoY2hlY2tlZCAmJiBpdGVtLnR5cGUgPT09IEZJTFRFUl9UWVBFUy5EQVRFKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gW2l0ZW1dXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBuZXdWYWx1ZVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2hlY2tJdGVtID0gdXNlQ2FsbGJhY2soXG4gICAgdmFsdWUgPT4ge1xuICAgICAgY29uc3QgbmV3VmFsdWVzID0gbXVsdGlwbGUgPyBnZXRNdWx0aXBsZVNlbGVjdGlvbigpIDogZ2V0U2ltcGxlU2VsZWN0aW9uKHZhbHVlKVxuXG4gICAgICBpZiAobmV3VmFsdWVzLmxlbmd0aCA8PSBMSU1JVF9NQVhfSVRFTVMpIHtcbiAgICAgICAgb25TZWxlY3QobmV3VmFsdWVzKVxuICAgICAgICBzZXRWYWx1ZXMobmV3VmFsdWVzKVxuICAgICAgICBnZXRTZWxlY3Rpb24odmFsdWUpXG4gICAgICB9XG4gICAgfSxcbiAgICBbZGF0YV1cbiAgKVxuXG4gIGNvbnN0IG9uQ2xpY2tGcm9tS2V5Ym9hcmQgPSB2YWx1ZSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gZGF0YVt2YWx1ZV1cblxuICAgIGlmIChzZWxlY3RlZEl0ZW0pIHtcbiAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1qcz1cImZpbHRlci1saXN0XCJdJylcbiAgICAgIGNvbnN0IGNoZWNrYm94ID0gbGlzdD8ucXVlcnlTZWxlY3RvcihgaW5wdXRbdHlwZT0nY2hlY2tib3gnXVt2YWx1ZT1cIiR7c2VsZWN0ZWRJdGVtLmlkfVwiXWApIGFzIEhUTUxJbnB1dEVsZW1lbnRcblxuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGNoZWNrYm94KSB7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSAhY2hlY2tib3guY2hlY2tlZFxuICAgICAgICBoYW5kbGVDaGVja0l0ZW0oc2VsZWN0ZWRJdGVtKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFycm93Q291bnRlciA9IHVzZUFycm93Q291bnRlcih7XG4gICAgZGF0YU1heDogZGF0YS5sZW5ndGgsXG4gICAgb25Db25maXJtOiBvbkNsaWNrRnJvbUtleWJvYXJkLFxuICAgIG9uRXhpdDogKCkgPT4gdHJ1ZSxcbiAgICBpZ25vcmVOZXh0OiBmYWxzZSxcbiAgICByZXNldENvdW50ZXI6IGZhbHNlLFxuICB9KVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYW1vcyBzaSBsYSBmZWNoYSBkZWwgY2hpcCBlc3TDoSBlbnRyZSBsYXMgcHJlY2FyZ2FkYXMuXG4gICAqL1xuICBjb25zdCBnZXREYXRlVGl0bGUgPSB1c2VDYWxsYmFjayhhY3R1YWxWYWx1ZXMgPT4ge1xuICAgIGxldCBkaWZmXG5cbiAgICBpZiAoYWN0dWFsVmFsdWVzWzBdPy52YWx1ZT8uZnJvbSAmJiBhY3R1YWxWYWx1ZXNbMF0/LnZhbHVlPy50bykge1xuICAgICAgZGlmZiA9IGdldFR5cGVPZkRhdGUoYWN0dWFsVmFsdWVzWzBdLnZhbHVlKVxuICAgIH1cblxuICAgIGlmIChhY3R1YWxWYWx1ZXNbMF0/LmZyb21EYXRlIHx8IGFjdHVhbFZhbHVlc1swXT8udG9EYXRlKSB7XG4gICAgICBkaWZmID0gZ2V0VHlwZU9mRGF0ZShhY3R1YWxWYWx1ZXNbMF0pXG4gICAgfVxuICAgIGNvbnN0IGRhdGVzID0ge1xuICAgICAgMDogJ3RoaXNNb250aCcsXG4gICAgICAxMDA6ICd0b2RheScsXG4gICAgICAxOiAnbGFzdE1vbnRoJyxcbiAgICAgIDM6ICdsYXN0VGhyZWVNb250aCcsXG4gICAgICA2OiAnbGFzdFNpeE1vbnRoJyxcbiAgICAgIDEwNzogJ25leHRTZXZlbkRheXMnLFxuICAgICAgMTI6ICdsYXN0VHdlbHZlTW9udGgnLFxuICAgIH1cblxuICAgIC8vIFNpIGRpZmYgZXMgdHJ1ZSBzaWduaWZpY2EgcXVlIGVzIE5hTiBlbnRvbmNlcyBlc3RhbW9zIHZpZW5kbyBlbCBtZXMgcGFzYWRvLlxuICAgIGlmICh0eXBlb2YgZGlmZiA9PT0gJ2Jvb2xlYW4nICYmIGRpZmYgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAnbGFzdE1vbnRoJ1xuICAgIH1cblxuICAgIGlmIChhY3R1YWxWYWx1ZXNbMF0/LmZyb21EYXRlID09PSAnd2l0aG91dERlYWRsaW5lJykge1xuICAgICAgcmV0dXJuICd3aXRob3V0RGVhZGxpbmUnXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGVzW2RpZmZdXG4gIH0sIFtdKVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBzaSBsYSBkYXRhIHF1ZSB2aWVuZSBkZXNkZSBlbCBjaGlwIGNvaW5jaWRlIGNvbiBhbGd1bmEgZGUgbGFzIG9wY2lvbmVzIGRlIGxhXG4gICAqICBsaXN0YSBwcmVjYXJnYWRhIHkgdmVyaWZpY2Egc2kgZGViaWVyYSBlc3RhciBzZWxlY2Npb25hZGEuXG4gICAqL1xuICBjb25zdCBpc1NlbGVjdGVkU2VsZWN0b3IgPSAoaXRlbVNlbGVjdGVkKTogYm9vbGVhbiA9PiB7XG4gICAgbGV0IGlzU2VsZWN0ZWQgPSBmYWxzZVxuXG4gICAgLy8gVmVyaWZpY2Egc2kgZXMgZGUgdGlwbyB0ZXh0b1xuICAgIGlmICh0eXBlb2YgaXRlbVNlbGVjdGVkLnZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgaXNTZWxlY3RlZCA9ICEhdmFsdWVzPy5maW5kKHNlbGVjdGVkSXRlbSA9PiBTdHJpbmcoc2VsZWN0ZWRJdGVtLmlkKSA9PT0gU3RyaW5nKGl0ZW1TZWxlY3RlZC5pZCkpXG4gICAgfVxuXG4gICAgLy8gVmVyaWZpY2Egc2kgZXMgZGUgdGlwbyBmZWNoYVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBpdGVtU2VsZWN0ZWQudmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAoKGl0ZW1TZWxlY3RlZC52YWx1ZT8udG8gJiYgaXRlbVNlbGVjdGVkLnZhbHVlPy5mcm9tKSB8fFxuICAgICAgICAhKGl0ZW1TZWxlY3RlZC52YWx1ZT8udG9EYXRlICYmIGl0ZW1TZWxlY3RlZC52YWx1ZT8uZnJvbURhdGUpKVxuICAgICkge1xuICAgICAgY29uc3QgZGF0ZVRpdGxlID0gZ2V0RGF0ZVRpdGxlKHZhbHVlcylcblxuICAgICAgaXNTZWxlY3RlZCA9IGRhdGVUaXRsZSAmJiBkYXRlVGl0bGUgPT09IGl0ZW1TZWxlY3RlZC50aXRsZVxuICAgIH1cblxuICAgIC8vIFZlcmlmaWNhIHNpIGVzIGRlIHRpcG8gYXZhdGFyIG8gcG9zaWNpb24uXG4gICAgaWYgKChpdGVtU2VsZWN0ZWQuaWQgJiYgaXRlbVNlbGVjdGVkLmVtYWlsKSB8fCBPYmplY3Qua2V5cyhpdGVtU2VsZWN0ZWQpLmZpbmQoa2V5ID0+IGtleSA9PT0gJ2NhdGVnb3J5TmFtZScpKSB7XG4gICAgICBpc1NlbGVjdGVkID0gISF2YWx1ZXM/LmZpbmQoc2VsZWN0ZWRJdGVtID0+IFN0cmluZyhzZWxlY3RlZEl0ZW0uaWQpID09PSBTdHJpbmcoaXRlbVNlbGVjdGVkLmlkKSlcbiAgICB9XG5cbiAgICByZXR1cm4gaXNTZWxlY3RlZFxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpdGVtTmFtZSA9IGBsMi1kcm9wZG93bi1pdGVtLSR7YXJyb3dDb3VudGVyfWBcbiAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtanM9XCIke2l0ZW1OYW1lfVwiXWApIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICBpdGVtPy5mb2N1cygpXG4gIH0sIFthcnJvd0NvdW50ZXJdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzTmVhclNjcmVlbiAmJiArcGFnZSAhPT0gK2xhc3RQYWdlICYmIGRhdGE/Lmxlbmd0aCA+PSBNSU5fSVRFTVNfVE9fUEFHSU5BVEUgJiYgIWxvYWRpbmdOZXh0UGFnZSkge1xuICAgICAgZ2V0TmV4dFBhZ2VGaWx0ZXIoc2VhcmNoVmFsdWUpXG4gICAgfVxuICB9LCBbaXNOZWFyU2NyZWVuLCBwYWdlLCBsYXN0UGFnZSwgc2VhcmNoVmFsdWUsIGRhdGEsIGxvYWRpbmdOZXh0UGFnZV0pXG5cbiAgY29uc3QgTG9hZGluZ1NrZWxldG9ucyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAodHlwZSA9PT0gTGlzdFR5cGVzLnRleHQpIHtcbiAgICAgIHJldHVybiA8TDJUZXh0U2tlbGV0b25zIG5vU3R5bGVzIC8+XG4gICAgfVxuXG4gICAgcmV0dXJuIDxMMkF2YXRhclNrZWxldG9ucyBub1N0eWxlcyAvPlxuICB9LCBbdHlwZV0pXG5cbiAgY29uc3QgcmVuZGVyUm93cyA9IHVzZUNhbGxiYWNrKFxuICAgIHJvd3NUb1JlbmRlciA9PiB7XG4gICAgICBpZiAocm93c1RvUmVuZGVyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcm93c1RvUmVuZGVyLm1hcCgoaXRlbSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBpc1NlbGVjdGVkU2VsZWN0b3IoaXRlbSlcbiAgICAgICAgICBjb25zdCB7IHRpdGxlLCBpY29uLCBib3JkZXJDb2xvciwgaWQ6IGl0ZW1JZCB9ID0gaXRlbVxuICAgICAgICAgIGlmICh0eXBlID09PSBMaXN0VHlwZXMudGV4dCB8fCB0eXBlID09PSBMaXN0VHlwZXMuZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPEl0ZW1MaXN0XG4gICAgICAgICAgICAgICAga2V5PXt0aXRsZSArIGl0ZW1JZH1cbiAgICAgICAgICAgICAgICB0ZXh0PXt0aXRsZX1cbiAgICAgICAgICAgICAgICBvblNlbGVjdD17aGFuZGxlQ2hlY2tJdGVtfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtpdGVtfVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgIGlzRm9jdXNlZD17aW5kZXggPT09IGFycm93Q291bnRlcn1cbiAgICAgICAgICAgICAgICBpc0Rpc2FibGVkPXtkaXNhYmxlU2VsZWN0aW9uICYmICFpc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yPXtib3JkZXJDb2xvcn1cbiAgICAgICAgICAgICAgICBpY29uPXtpY29ufVxuICAgICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGUgPT09IExpc3RUeXBlcy5hdmF0YXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8VXNlclJvd1xuICAgICAgICAgICAgICAgIGtleT17aXRlbUlkfVxuICAgICAgICAgICAgICAgIGRhdGE9e2l0ZW19XG4gICAgICAgICAgICAgICAgb25TZWxlY3Q9e2hhbmRsZUNoZWNrSXRlbX1cbiAgICAgICAgICAgICAgICBzZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgICAgICAgICBpc0ZvY3VzZWQ9e2luZGV4ID09PSBhcnJvd0NvdW50ZXJ9XG4gICAgICAgICAgICAgICAgaXNEaXNhYmxlZD17ZGlzYWJsZVNlbGVjdGlvbiAmJiAhaXNTZWxlY3RlZH1cbiAgICAgICAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8VXNlclBvc2l0aW9uc1Jvd1xuICAgICAgICAgICAgICBrZXk9e2BjYXRlZ29yeV8ke2l0ZW0uY2F0ZWdvcnlOYW1lfV9wb3NpdGlvbl8ke2l0ZW0ubmFtZX1faWRfJHtpdGVtLmlkfWB9XG4gICAgICAgICAgICAgIGNhdGVnb3J5TmFtZT17aXRlbS5jYXRlZ29yeU5hbWV9XG4gICAgICAgICAgICAgIG5hbWU9e2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgaWQ9e2l0ZW0uaWR9XG4gICAgICAgICAgICAgIG9uU2VsZWN0PXtoYW5kbGVDaGVja0l0ZW19XG4gICAgICAgICAgICAgIGlzRm9jdXNlZD17aW5kZXggPT09IGFycm93Q291bnRlcn1cbiAgICAgICAgICAgICAgc2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgICAgICAgIGlzRGlzYWJsZWQ9e2Rpc2FibGVTZWxlY3Rpb24gJiYgIWlzU2VsZWN0ZWR9XG4gICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9LFxuICAgIFtkYXRhLCB2YWx1ZXMsIGFycm93Q291bnRlcl1cbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPFNDTGlzdFdyYXBwZXIgZGF0YS1qcz1cImZpbHRlci1saXN0XCIgcmVmPXtMSVNUX1JFRn0+XG4gICAgICB7ZGlzYWJsZVNlbGVjdGlvbiAmJiA8UmVhY3RUb29sdGlwIGlkPVwiZnVsbC10ZXh0LWNoZWNrYm94LWZpbHRlcnNcIiBkZWxheUhpZGU9ezEwMDB9IC8+fVxuICAgICAge3JlbmRlclJvd3MoZGF0YSl9XG4gICAgICB7bG9hZGluZ05leHRQYWdlICYmIDxMb2FkaW5nU2tlbGV0b25zIC8+fVxuICAgICAgeyEhZGF0YS5sZW5ndGggJiYgPGRpdiByZWY9e2Zyb21SZWZ9IC8+fVxuICAgICAgeyFkYXRhLmxlbmd0aCAmJiAoXG4gICAgICAgIDxTQ0VtcHR5V3JhcHBlcj5cbiAgICAgICAgICA8U0NJbWFnZSBzcmM9e1NlYXJjaH0gYWx0PVwiVGhlcmUncyBubyByZXN1bHRzXCIgZGF0YS1yb2JvdC1pZD1cImZpbHRlcnMtbGlzdC1lbXB0eS1pbWdcIiAvPlxuICAgICAgICAgIDxTQ1RleHQgZGF0YS1yb2JvdC1pZD1cImZpbHRlcnMtbGlzdC1lbXB0eS1sYWJlbFwiPnt0KCd3aXRob3V0UmVzdWx0cycpfTwvU0NUZXh0PlxuICAgICAgICA8L1NDRW1wdHlXcmFwcGVyPlxuICAgICAgKX1cbiAgICA8L1NDTGlzdFdyYXBwZXI+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6ImdrQ0FrQ2FBLElBQWtDLENBQUcsV0FXNUMsSUFWSkMsRUFBUSxHQUFSQSxRQUFRLENBQ1JDLENBQUksR0FBSkEsSUFBSSxDQUNKQyxDQUFZLEdBQVpBLFlBQVksQ0FDWkMsQ0FBUSxHQUFSQSxRQUFRLENBQ1JDLENBQUksR0FBSkEsSUFBSSxLQUNKQyxZQUFZLENBQVpBLENBQVksWUFBRyxFQUFFLEdBQ2pCQyxDQUFpQixHQUFqQkEsaUJBQWlCLENBQ2pCQyxDQUFlLEdBQWZBLGVBQWUsS0FDZkMsVUFBVSxDQUFWQSxDQUFVLFlBQUcsQ0FBQyxDQUFDLEdBQ2ZDLENBQVcsR0FBWEEsV0FBVyxHQUVHLEdBQUFDLDRCQUFjLEVBQUNDLG9CQUFZLENBQUMsQ0FBbENDLENBQUMsR0FBREEsQ0FBQyxHQUNtQixHQUFBQyxlQUFRLEVBQUNSLENBQVksQ0FBQyxvQ0FBM0NTLENBQU0sTUFBRUMsQ0FBUyxRQUNVLEdBQUFDLDZCQUFhLEVBQUMsQ0FBRUMsSUFBSSxHQUFRLENBQUMsQ0FBQyxDQUF4REMsQ0FBWSxHQUFaQSxZQUFZLENBQUVDLENBQU8sR0FBUEEsT0FBTyxDQUN2QkMsQ0FBUSxDQUFHLEdBQUFDLGFBQU0sRUFBQyxJQUFJLENBQUMsQ0FDckJDLENBQUksQ0FBZWQsQ0FBVSxDQUE3QmMsSUFBSSxDQUFFQyxDQUFRLENBQUtmLENBQVUsQ0FBdkJlLFFBQVEsQ0FHaEJDLENBQWdCLENBQUcsR0FBQUMsY0FBTyxFQUFDLGlCQUFNWCxFQUFNLENBQUNZLE1BQU0sR0FBS0MsdUJBQWUsRUFBRSxDQUFD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