"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.L2Dropdown=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=require("react"),_reactDom=_interopRequireDefault(require("react-dom")),_reactI18next=require("react-i18next"),_list=require("../list"),_dateRange=require("../date-range"),_search=require("./components/search"),_titleContainer=require("./components/title-container"),_searchEntity=require("../search-entity"),_constants=require("../../../../constants"),_Context=require("../../Context"),_amplitude=require("../../../../constants/filters/amplitude"),_config=require("../../../../constants/filters/config"),_search2=_interopRequireDefault(require("../../../../assets/svg/search.svg")),_style=require("./style"),_skeletons=require("../skeletons"),_Filters=require("../../Filters.interface"),_jsxRuntime=require("react/jsx-runtime");function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){(0,_defineProperty2.default)(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}var CUSTOM_TITLE="custom",AVATARS="avatars",SEARCH_TYPE="search",L2DropdownPortal=function(a){var b=a.onClose,c=a.onGoBack,d=a.l2Positions,f=a.isSimpleFilter,e=a.optionsToFilter,g=a.dataSelected,h=void 0===g?[]:g,i=a.setDataSelected,j=a.customDateFromChip,k=a.openedByChip,l=a.errorState,m=a.addFilterToUrl,n=a.filters,o=a.loading,p=a.getNextPageFilter,q=a.loadingNextPage,r=a.pagination,s=a.setPagination,u=a.setOptionsToFilter,v=a.setLoadingNextPage,w=(0,_react.useContext)(_Context.FilterContext),x=w.trackEvent,y=w.config,z=e.id,A=e.data,B=e.title,C=e.get,D=e.format,E=y[z],F=E.hasSearch,G=E.type,H=E.isMultiple,I=E.hasFilter,J=(0,_react.useState)(""),K=(0,_slicedToArray2.default)(J,2),L=K[0],M=K[1],N=(0,_react.useState)(A),O=(0,_slicedToArray2.default)(N,2),P=O[0],Q=O[1],R=(0,_react.useState)(!!h.length&&j&&"boolean"==typeof j),S=(0,_slicedToArray2.default)(R,2),T=S[0],U=S[1],V=(0,_react.useState)(k&&T),W=(0,_slicedToArray2.default)(V,2),X=W[0],Y=W[1],Z=(0,_reactI18next.useTranslation)(_config.I18N_SECTION),$=Z.t,t=(0,_react.useRef)(null);(0,_react.useEffect)(function(){Q(A)},[A]);var _=function(a,c){null===c||void 0===c?void 0:c.preventDefault(),x({event:_amplitude.AMPLITUDE_EVENTS.SELECT_OPTION,actionType:_amplitude.AMPLITUDE_ACTIONS.CLICK,multiple:H,option:z,amountValues:h.length}),m(z,f?a:h),b()},aa=(0,_react.useCallback)(function(){b()},[]),ba=(0,_react.useCallback)(function(a){var b=a.keyCode;if("search"===G){if(b===_constants.KEY_LEFT){var d;k||null!==(d=h[0])&&void 0!==d&&d.id||c()}if(b===_constants.KEY_BACKSPACE){var e;k||!(0<L.length)||null!==(e=h[0])&&void 0!==e&&e.id||c()}}else if(b===_constants.KEY_LEFT||b===_constants.KEY_BACKSPACE&&!I){var f;k||L.length||null!==(f=h[0])&&void 0!==f&&f.id||c()}},[L,h]),ca=(0,_react.useCallback)(function(){U(!1)},[]);(0,_react.useEffect)(function(){Y(k&&T||!k),k&&!T&&Y(!1)},[T,k]);var da=(0,_react.useCallback)(function(){T?ca():c()},[T]),ea=(0,_react.useCallback)(function(a){var b=a.title;U(b===CUSTOM_TITLE)},[]),fa=function(a){i({selectedData:a}),f&&_(a)},ga=function(){var a=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function b(a){var c,d,f,g,h,i,j;return _regenerator.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c=a.target.value,M(c),d=1,v(!0),b.prev=4,b.next=7,C(d,c);case 7:f=b.sent,g=f.data,h=f.page,i=f.lastPage,j=D(z,g),s({page:h,lastPage:i}),u(_objectSpread(_objectSpread({},e),{},{data:j}));case 14:return b.prev=14,v(!1),b.finish(14);case 17:case"end":return b.stop();}},b,null,[[4,,14,17]])}));return function(){return a.apply(this,arguments)}}();(0,_react.useEffect)(function(){G===AVATARS&&Q(n[z].data)},[n,G]);var ha={text:(0,_jsxRuntime.jsx)(_list.List,{type:G,onSelect:fa,getSelection:ea,data:P,dataSelected:h,multiple:H,openedByChip:k,getNextPageFilter:p,loadingNextPage:q,pagination:r,searchValue:L}),avatars:(0,_jsxRuntime.jsx)(_list.List,{type:G,onSelect:fa,getSelection:ea,data:P,dataSelected:h,multiple:H,openedByChip:k,getNextPageFilter:p,loadingNextPage:q,pagination:r,searchValue:L}),positions:(0,_jsxRuntime.jsx)(_list.List,{type:G,onSelect:fa,getSelection:ea,data:P,dataSelected:h,multiple:H,openedByChip:k,getNextPageFilter:p,loadingNextPage:q,pagination:r,searchValue:L}),custom:(0,_jsxRuntime.jsx)(_style.SCWrapperDate,{children:(0,_jsxRuntime.jsx)(_dateRange.DateRange,{onSelect:fa,dataSelected:h[0],filterId:z})}),search:(0,_jsxRuntime.jsx)(_searchEntity.SearchEntity,{autoFocus:!0,onSelect:fa,placeholder:$("taskSearch"),dataSelected:h[0]})},ia=(0,_react.useMemo)(function(){var a,b,c,d;return T?!(null!==(a=h[0])&&void 0!==a&&null!==(b=a.value)&&void 0!==b&&b.toDate||null!==(c=h[0])&&void 0!==c&&null!==(d=c.value)&&void 0!==d&&d.fromDate):!h.length},[T,h]);return(0,_react.useEffect)(function(){return document.addEventListener("keydown",ba),function(){document.removeEventListener("keydown",ba)}},[L,ia,h]),(0,_react.useEffect)(function(){if(F&&!o){var b=document.querySelector("[data-js=\"filter-l2-search\"]");b.focus()}else{var a;null===t||void 0===t||null===(a=t.current)||void 0===a?void 0:a.focus()}},[t,o,F]),(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[(0,_jsxRuntime.jsxs)(_style.SCWrapper,{l2Positions:d,"data-js":"filters-l2-dropdown",children:[(0,_jsxRuntime.jsx)(_style.SCFocusable,{ref:t,"data-robot-id":"filters-l2dropdown-input"}),!f&&(0,_jsxRuntime.jsx)(_titleContainer.TitleContainer,{title:B||z,onClose:b,onGoBack:da,showBackButton:X}),F&&!I&&!o&&(0,_jsxRuntime.jsx)(_search.Search,{onSearch:ga}),I&&!F&&(0,_jsxRuntime.jsx)(_search.Search,{data:A,setData:Q,isFilter:I}),void 0!==l&&l?(0,_jsxRuntime.jsxs)(_style.SCEmptyWrapper,{children:[(0,_jsxRuntime.jsx)(_style.SCImage,{src:_search2.default,alt:"There's no results","data-robot-id":"filters-l2dropdown-img"}),(0,_jsxRuntime.jsx)(_style.SCText,{"data-robot-id":"filters-l2dropdown-msg",children:$("errorMessage")})]}):(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[o&&G===_Filters.ListTypes.text&&(0,_jsxRuntime.jsx)(_skeletons.L2TextSkeletons,{}),o&&G===_Filters.ListTypes.avatars&&(0,_jsxRuntime.jsx)(_skeletons.L2AvatarSkeletons,{}),o&&G===_Filters.ListTypes.positions&&(0,_jsxRuntime.jsx)(_skeletons.L2PositionsSkeletons,{}),!o&&ha[T?CUSTOM_TITLE:G],(!!(null!==P&&void 0!==P&&P.length)||G===SEARCH_TYPE)&&!f&&(0,_jsxRuntime.jsx)(_style.SCConfirmButton,{onClick:function onClick(a){return _({},a)},disabled:ia,"data-robot-id":"filters-l2dropdown-button",children:$("confirm")})]})]}),(0,_jsxRuntime.jsx)(_style.SCBackdrop,{"aria-label":"backdrop",onClick:aa,"data-robot-id":"filters-l2dropdown-backdrop"})]})},L2Dropdown=function(a){var b=a.portalElementId,c=document.querySelector(b||"#root");return c?_reactDom.default.createPortal((0,_jsxRuntime.jsx)(L2DropdownPortal,_objectSpread({},a)),c):null};exports.L2Dropdown=L2Dropdown;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDVVNUT01fVElUTEUiLCJBVkFUQVJTIiwiU0VBUkNIX1RZUEUiLCJMMkRyb3Bkb3duUG9ydGFsIiwib25DbG9zZSIsIm9uR29CYWNrIiwibDJQb3NpdGlvbnMiLCJpc1NpbXBsZUZpbHRlciIsIm9wdGlvbnNUb0ZpbHRlciIsImRhdGFTZWxlY3RlZCIsInNldERhdGFTZWxlY3RlZCIsImN1c3RvbURhdGVGcm9tQ2hpcCIsIm9wZW5lZEJ5Q2hpcCIsImVycm9yU3RhdGUiLCJhZGRGaWx0ZXJUb1VybCIsImZpbHRlcnMiLCJsb2FkaW5nIiwiZ2V0TmV4dFBhZ2VGaWx0ZXIiLCJsb2FkaW5nTmV4dFBhZ2UiLCJwYWdpbmF0aW9uIiwic2V0UGFnaW5hdGlvbiIsInNldE9wdGlvbnNUb0ZpbHRlciIsInNldExvYWRpbmdOZXh0UGFnZSIsInVzZUNvbnRleHQiLCJGaWx0ZXJDb250ZXh0IiwidHJhY2tFdmVudCIsImNvbmZpZyIsImlkIiwiZGF0YVRvRmlsdGVyIiwiZGF0YSIsImZpbHRlclRpdGxlIiwidGl0bGUiLCJnZXQiLCJmb3JtYXQiLCJoYXNTZWFyY2giLCJ0eXBlIiwiaXNNdWx0aXBsZSIsImhhc0ZpbHRlciIsInVzZVN0YXRlIiwic2VhcmNoVmFsdWUiLCJzZXRTZWFyY2hWYWx1ZSIsImZpbHRlcmVkRGF0YSIsInNldEZpbHRlcmVkRGF0YSIsImxlbmd0aCIsImlzQ3VzdG9tRGF0ZSIsInNldElzQ3VzdG9tRGF0ZSIsInNob3dCYWNrQnV0dG9uIiwic2V0U2hvd0JhY2tCdXR0b24iLCJ1c2VUcmFuc2xhdGlvbiIsIkkxOE5fU0VDVElPTiIsInQiLCJGT0NVU0FCTEVfRUxFTUVOVF9SRUYiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJoYW5kbGVTdWJtaXQiLCJkYXRhRnJvbVNpbXBsZUZpbHRlcnMiLCJlIiwicHJldmVudERlZmF1bHQiLCJldmVudCIsIkFNUExJVFVERV9FVkVOVFMiLCJTRUxFQ1RfT1BUSU9OIiwiYWN0aW9uVHlwZSIsIkFNUExJVFVERV9BQ1RJT05TIiwiQ0xJQ0siLCJtdWx0aXBsZSIsIm9wdGlvbiIsImFtb3VudFZhbHVlcyIsImhhbmRsZUNhbmNlbCIsInVzZUNhbGxiYWNrIiwiZ29CYWNrRnJvbUtleWJvYXJkIiwia2V5Q29kZSIsIktFWV9MRUZUIiwiS0VZX0JBQ0tTUEFDRSIsIm9uR29CYWNrTDIiLCJvbkdvQmFja1NlbGVjdG9yIiwiZ2V0U2VsZWN0aW9uIiwic2VsZWN0aW9uIiwib25TZWxlY3QiLCJvcHRpb25zIiwic2VsZWN0ZWREYXRhIiwib25TZWFyY2giLCJ2YWx1ZSIsInRhcmdldCIsIkRFRkFVTFRfUEFHRSIsInBhZ2UiLCJsYXN0UGFnZSIsImZvcm1hdHRlZERhdGEiLCJMMk9wdGlvbnMiLCJ0ZXh0IiwiYXZhdGFycyIsInBvc2l0aW9ucyIsImN1c3RvbSIsInNlYXJjaCIsImlzQ29uZmlybUJ1dHRvbkRpc2FibGVkIiwidXNlTWVtbyIsInRvRGF0ZSIsImZyb21EYXRlIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJmb2N1cyIsImN1cnJlbnQiLCJTZWFyY2hJbWciLCJMaXN0VHlwZXMiLCJMMkRyb3Bkb3duIiwicHJvcHMiLCJwb3J0YWxFbGVtZW50SWQiLCJzZWxlY3RvciIsIlJlYWN0RE9NIiwiY3JlYXRlUG9ydGFsIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvZmlsdGVycy9jb21wb25lbnRzL2wyLWRyb3Bkb3duL0wyRHJvcGRvd24udHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCB7XG4gIEZ1bmN0aW9uQ29tcG9uZW50LFxuICBSZWFjdEVsZW1lbnQsXG4gIHVzZUNhbGxiYWNrLFxuICB1c2VTdGF0ZSxcbiAgdXNlRWZmZWN0LFxuICB1c2VDb250ZXh0LFxuICB1c2VNZW1vLFxuICB1c2VSZWYsXG4gIFJlYWN0UG9ydGFsLFxufSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nXG4vLyBXb3JkaW5nXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG4vLyBUeXBlc1xuaW1wb3J0IHsgTDJEcm9wZG93blR5cGVzIH0gZnJvbSAnLi9MMkRyb3Bkb3duLmludGVyZmFjZSdcbi8vIFVJIENvbXBvbmVudHNcbmltcG9ydCB7IExpc3QgfSBmcm9tICcuLi9saXN0J1xuaW1wb3J0IHsgRGF0ZVJhbmdlIH0gZnJvbSAnLi4vZGF0ZS1yYW5nZSdcbmltcG9ydCB7IFNlYXJjaCB9IGZyb20gJy4vY29tcG9uZW50cy9zZWFyY2gnXG5pbXBvcnQgeyBUaXRsZUNvbnRhaW5lciB9IGZyb20gJy4vY29tcG9uZW50cy90aXRsZS1jb250YWluZXInXG5pbXBvcnQgeyBTZWFyY2hFbnRpdHkgfSBmcm9tICcuLi9zZWFyY2gtZW50aXR5J1xuLy8gVXRpbHNcbmltcG9ydCB7IEtFWV9CQUNLU1BBQ0UsIEtFWV9MRUZUIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29uc3RhbnRzJ1xuLy8gQ29udGV4dFxuaW1wb3J0IHsgQ29udGV4dFR5cGVzLCBGaWx0ZXJDb250ZXh0IH0gZnJvbSAnLi4vLi4vQ29udGV4dCdcbi8vIENPTlNUQU5UU1xuaW1wb3J0IHsgQU1QTElUVURFX0FDVElPTlMsIEFNUExJVFVERV9FVkVOVFMgfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMvZmlsdGVycy9hbXBsaXR1ZGUnXG5pbXBvcnQgeyBJMThOX1NFQ1RJT04gfSBmcm9tICcuLi8uLi8uLi8uLi9jb25zdGFudHMvZmlsdGVycy9jb25maWcnXG4vLyBJbWFnZXNcbmltcG9ydCBTZWFyY2hJbWcgZnJvbSAnLi4vLi4vLi4vLi4vYXNzZXRzL3N2Zy9zZWFyY2guc3ZnJ1xuLy8gU3R5bGVzXG5pbXBvcnQge1xuICBTQ1dyYXBwZXIsXG4gIFNDQ29uZmlybUJ1dHRvbixcbiAgU0NCYWNrZHJvcCxcbiAgU0NXcmFwcGVyRGF0ZSxcbiAgU0NJbWFnZSxcbiAgU0NUZXh0LFxuICBTQ0VtcHR5V3JhcHBlcixcbiAgU0NGb2N1c2FibGUsXG59IGZyb20gJy4vc3R5bGUnXG5cbmltcG9ydCB7IEwyQXZhdGFyU2tlbGV0b25zLCBMMlRleHRTa2VsZXRvbnMsIEwyUG9zaXRpb25zU2tlbGV0b25zIH0gZnJvbSAnLi4vc2tlbGV0b25zJ1xuaW1wb3J0IHsgTGlzdFR5cGVzIH0gZnJvbSAnLi4vLi4vRmlsdGVycy5pbnRlcmZhY2UnXG5cbi8qKlxuICogVGl0dWxvIGEgZXZhbHVhciBwYXJhIGRlZmluaXIgc2kgc2UgbXVlc3RyYSB1bmEgTGlzdCBvIHVuIGRhdGVSYW5nZVxuICovXG5jb25zdCBDVVNUT01fVElUTEUgPSAnY3VzdG9tJ1xuY29uc3QgQVZBVEFSUyA9ICdhdmF0YXJzJ1xuY29uc3QgU0VBUkNIX1RZUEUgPSAnc2VhcmNoJ1xuXG5jb25zdCBMMkRyb3Bkb3duUG9ydGFsOiBGdW5jdGlvbkNvbXBvbmVudDxMMkRyb3Bkb3duVHlwZXM+ID0gKHtcbiAgb25DbG9zZSxcbiAgb25Hb0JhY2ssXG4gIGwyUG9zaXRpb25zLFxuICBpc1NpbXBsZUZpbHRlcixcbiAgb3B0aW9uc1RvRmlsdGVyLFxuICBkYXRhU2VsZWN0ZWQgPSBbXSxcbiAgc2V0RGF0YVNlbGVjdGVkLFxuICBjdXN0b21EYXRlRnJvbUNoaXAsXG4gIG9wZW5lZEJ5Q2hpcCxcbiAgZXJyb3JTdGF0ZSA9IGZhbHNlLFxuICBhZGRGaWx0ZXJUb1VybCxcbiAgZmlsdGVycyxcbiAgbG9hZGluZyxcbiAgZ2V0TmV4dFBhZ2VGaWx0ZXIsXG4gIGxvYWRpbmdOZXh0UGFnZSxcbiAgcGFnaW5hdGlvbixcbiAgc2V0UGFnaW5hdGlvbixcbiAgc2V0T3B0aW9uc1RvRmlsdGVyLFxuICBzZXRMb2FkaW5nTmV4dFBhZ2UsXG59KTogUmVhY3RFbGVtZW50ID0+IHtcbiAgY29uc3QgeyB0cmFja0V2ZW50LCBjb25maWcgfSA9IHVzZUNvbnRleHQoRmlsdGVyQ29udGV4dCkgYXMgQ29udGV4dFR5cGVzXG4gIGNvbnN0IHsgaWQsIGRhdGE6IGRhdGFUb0ZpbHRlciwgdGl0bGU6IGZpbHRlclRpdGxlLCBnZXQsIGZvcm1hdCB9ID0gb3B0aW9uc1RvRmlsdGVyXG4gIGNvbnN0IHsgaGFzU2VhcmNoLCB0eXBlLCBpc011bHRpcGxlLCBoYXNGaWx0ZXIgfSA9IGNvbmZpZ1tpZF1cbiAgY29uc3QgW3NlYXJjaFZhbHVlLCBzZXRTZWFyY2hWYWx1ZV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW2ZpbHRlcmVkRGF0YSwgc2V0RmlsdGVyZWREYXRhXSA9IHVzZVN0YXRlKGRhdGFUb0ZpbHRlcilcbiAgY29uc3QgW2lzQ3VzdG9tRGF0ZSwgc2V0SXNDdXN0b21EYXRlXSA9IHVzZVN0YXRlKFxuICAgICEhZGF0YVNlbGVjdGVkLmxlbmd0aCAmJiBjdXN0b21EYXRlRnJvbUNoaXAgJiYgdHlwZW9mIGN1c3RvbURhdGVGcm9tQ2hpcCA9PT0gJ2Jvb2xlYW4nXG4gIClcbiAgY29uc3QgW3Nob3dCYWNrQnV0dG9uLCBzZXRTaG93QmFja0J1dHRvbl0gPSB1c2VTdGF0ZShvcGVuZWRCeUNoaXAgJiYgaXNDdXN0b21EYXRlKVxuICBjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKEkxOE5fU0VDVElPTilcbiAgY29uc3QgRk9DVVNBQkxFX0VMRU1FTlRfUkVGID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsPihudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0RmlsdGVyZWREYXRhKGRhdGFUb0ZpbHRlcilcbiAgfSwgW2RhdGFUb0ZpbHRlcl0pXG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKGRhdGFGcm9tU2ltcGxlRmlsdGVycz86IGFueSwgZT86IGFueSkgPT4ge1xuICAgIGU/LnByZXZlbnREZWZhdWx0KClcblxuICAgIHRyYWNrRXZlbnQoe1xuICAgICAgZXZlbnQ6IEFNUExJVFVERV9FVkVOVFMuU0VMRUNUX09QVElPTixcbiAgICAgIGFjdGlvblR5cGU6IEFNUExJVFVERV9BQ1RJT05TLkNMSUNLLFxuICAgICAgbXVsdGlwbGU6IGlzTXVsdGlwbGUsXG4gICAgICBvcHRpb246IGlkLFxuICAgICAgYW1vdW50VmFsdWVzOiBkYXRhU2VsZWN0ZWQubGVuZ3RoLFxuICAgIH0pXG5cbiAgICBhZGRGaWx0ZXJUb1VybChpZCwgaXNTaW1wbGVGaWx0ZXIgPyBkYXRhRnJvbVNpbXBsZUZpbHRlcnMgOiBkYXRhU2VsZWN0ZWQpXG4gICAgb25DbG9zZSgpXG4gIH1cblxuICBjb25zdCBoYW5kbGVDYW5jZWwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgb25DbG9zZSgpXG4gIH0sIFtdKVxuXG4gIGNvbnN0IGdvQmFja0Zyb21LZXlib2FyZCA9IHVzZUNhbGxiYWNrKFxuICAgICh7IGtleUNvZGUgfSkgPT4ge1xuICAgICAgaWYgKHR5cGUgPT09ICdzZWFyY2gnKSB7XG4gICAgICAgIGlmIChrZXlDb2RlID09PSBLRVlfTEVGVCkge1xuICAgICAgICAgICFvcGVuZWRCeUNoaXAgJiYgIWRhdGFTZWxlY3RlZFswXT8uaWQgJiYgb25Hb0JhY2soKVxuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlDb2RlID09PSBLRVlfQkFDS1NQQUNFKSB7XG4gICAgICAgICAgIW9wZW5lZEJ5Q2hpcCAmJiBzZWFyY2hWYWx1ZS5sZW5ndGggPiAwICYmICFkYXRhU2VsZWN0ZWRbMF0/LmlkICYmIG9uR29CYWNrKClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBLRVlfTEVGVCB8fCAoa2V5Q29kZSA9PT0gS0VZX0JBQ0tTUEFDRSAmJiAhaGFzRmlsdGVyKSkge1xuICAgICAgICAhb3BlbmVkQnlDaGlwICYmICFzZWFyY2hWYWx1ZS5sZW5ndGggJiYgIWRhdGFTZWxlY3RlZFswXT8uaWQgJiYgb25Hb0JhY2soKVxuICAgICAgfVxuICAgIH0sXG4gICAgW3NlYXJjaFZhbHVlLCBkYXRhU2VsZWN0ZWRdXG4gIClcblxuICAvKipcbiAgICogU2V0ZWEgZWwgdGlwbyBmZWNoYSBwZXJzb25hbGl6YWRhIGVuIGZhbHNlLCBwYXJhIGluZGljYXIgcXVlIGRhdGEgZGViZSBtb3N0cmFyIGVsIEwyXG4gICAqL1xuICBjb25zdCBvbkdvQmFja0wyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzQ3VzdG9tRGF0ZShmYWxzZSlcbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBTaSB2aWVuZSBkZWwgY2hpcCB5IElzQ3VzdG9tRGF0ZSAtPiBNb3N0cmFyIGVsIGJvdMOzblxuICAgIC8vIFNpIG5vIHZpZW5lIGRlbCBjaGlwIC0+IE1vc3RyYXIgZWwgYm90w7NuXG4gICAgc2V0U2hvd0JhY2tCdXR0b24oKG9wZW5lZEJ5Q2hpcCAmJiBpc0N1c3RvbURhdGUpIHx8ICFvcGVuZWRCeUNoaXApXG5cbiAgICAvLyBTaSB2aWVuZSBkZWwgY2hpcCBwZXJvIG5vIGlzQ3VzdG9tRGF0ZSAtPiBObyBtb3N0cmFyIGVsIGJvdMOzblxuICAgIG9wZW5lZEJ5Q2hpcCAmJiAhaXNDdXN0b21EYXRlICYmIHNldFNob3dCYWNrQnV0dG9uKGZhbHNlKVxuICB9LCBbaXNDdXN0b21EYXRlLCBvcGVuZWRCeUNoaXBdKVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYSBxdWUgZnVuY2nDs24gZGUgdm9sdmVyIGF0csOhcyBkZWJlIGxsYW1hcnNlXG4gICAqL1xuICBjb25zdCBvbkdvQmFja1NlbGVjdG9yID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlzQ3VzdG9tRGF0ZSA/IG9uR29CYWNrTDIoKSA6IG9uR29CYWNrKClcbiAgfSwgW2lzQ3VzdG9tRGF0ZV0pXG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhIHNpIGxhIG9wY2nDs24gc2VsZWNjaW9uYWRhIGVzIFwiY3VzdG9tXCIgcGFyYSByZW5kZXJpemFyIGVsIHNlbGVjdG9yIGRlIGZlY2hhIHBlcnNvbmFsaXphZG9cbiAgICovXG4gIGNvbnN0IGdldFNlbGVjdGlvbiA9IHVzZUNhbGxiYWNrKHNlbGVjdGlvbiA9PiB7XG4gICAgY29uc3QgeyB0aXRsZSB9ID0gc2VsZWN0aW9uXG4gICAgc2V0SXNDdXN0b21EYXRlKHRpdGxlID09PSBDVVNUT01fVElUTEUpXG4gIH0sIFtdKVxuXG4gIGNvbnN0IG9uU2VsZWN0ID0gb3B0aW9ucyA9PiB7XG4gICAgc2V0RGF0YVNlbGVjdGVkKHsgc2VsZWN0ZWREYXRhOiBvcHRpb25zIH0pXG4gICAgaWYgKGlzU2ltcGxlRmlsdGVyKSB7XG4gICAgICBoYW5kbGVTdWJtaXQob3B0aW9ucylcbiAgICB9XG4gIH1cblxuICBjb25zdCBvblNlYXJjaCA9IGFzeW5jICh7IHRhcmdldDogeyB2YWx1ZSB9IH0pID0+IHtcbiAgICBzZXRTZWFyY2hWYWx1ZSh2YWx1ZSlcblxuICAgIGNvbnN0IERFRkFVTFRfUEFHRSA9IDFcblxuICAgIHNldExvYWRpbmdOZXh0UGFnZSh0cnVlKVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgcGFnZSwgbGFzdFBhZ2UgfSA9IGF3YWl0IGdldChERUZBVUxUX1BBR0UsIHZhbHVlKVxuICAgICAgY29uc3QgZm9ybWF0dGVkRGF0YSA9IGZvcm1hdChpZCwgZGF0YSlcblxuICAgICAgc2V0UGFnaW5hdGlvbih7IHBhZ2UsIGxhc3RQYWdlIH0pXG4gICAgICBzZXRPcHRpb25zVG9GaWx0ZXIoe1xuICAgICAgICAuLi5vcHRpb25zVG9GaWx0ZXIsXG4gICAgICAgIGRhdGE6IGZvcm1hdHRlZERhdGEsXG4gICAgICB9KVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nTmV4dFBhZ2UoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9idGVuZW1vcyBsb3MgY29sYWJvcmFkb3JlcyB5IGxvcyBzZXRlYW1vc1xuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZSA9PT0gQVZBVEFSUykge1xuICAgICAgc2V0RmlsdGVyZWREYXRhKGZpbHRlcnNbaWRdLmRhdGEpXG4gICAgfVxuICB9LCBbZmlsdGVycywgdHlwZV0pXG5cbiAgY29uc3QgTDJPcHRpb25zID0ge1xuICAgIHRleHQ6IChcbiAgICAgIDxMaXN0XG4gICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgIG9uU2VsZWN0PXtvblNlbGVjdH1cbiAgICAgICAgZ2V0U2VsZWN0aW9uPXtnZXRTZWxlY3Rpb259XG4gICAgICAgIGRhdGE9e2ZpbHRlcmVkRGF0YX1cbiAgICAgICAgZGF0YVNlbGVjdGVkPXtkYXRhU2VsZWN0ZWR9XG4gICAgICAgIG11bHRpcGxlPXtpc011bHRpcGxlfVxuICAgICAgICBvcGVuZWRCeUNoaXA9e29wZW5lZEJ5Q2hpcH1cbiAgICAgICAgZ2V0TmV4dFBhZ2VGaWx0ZXI9e2dldE5leHRQYWdlRmlsdGVyfVxuICAgICAgICBsb2FkaW5nTmV4dFBhZ2U9e2xvYWRpbmdOZXh0UGFnZX1cbiAgICAgICAgcGFnaW5hdGlvbj17cGFnaW5hdGlvbn1cbiAgICAgICAgc2VhcmNoVmFsdWU9e3NlYXJjaFZhbHVlfVxuICAgICAgLz5cbiAgICApLFxuICAgIGF2YXRhcnM6IChcbiAgICAgIDxMaXN0XG4gICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgIG9uU2VsZWN0PXtvblNlbGVjdH1cbiAgICAgICAgZ2V0U2VsZWN0aW9uPXtnZXRTZWxlY3Rpb259XG4gICAgICAgIGRhdGE9e2ZpbHRlcmVkRGF0YX1cbiAgICAgICAgZGF0YVNlbGVjdGVkPXtkYXRhU2VsZWN0ZWR9XG4gICAgICAgIG11bHRpcGxlPXtpc011bHRpcGxlfVxuICAgICAgICBvcGVuZWRCeUNoaXA9e29wZW5lZEJ5Q2hpcH1cbiAgICAgICAgZ2V0TmV4dFBhZ2VGaWx0ZXI9e2dldE5leHRQYWdlRmlsdGVyfVxuICAgICAgICBsb2FkaW5nTmV4dFBhZ2U9e2xvYWRpbmdOZXh0UGFnZX1cbiAgICAgICAgcGFnaW5hdGlvbj17cGFnaW5hdGlvbn1cbiAgICAgICAgc2VhcmNoVmFsdWU9e3NlYXJjaFZhbHVlfVxuICAgICAgLz5cbiAgICApLFxuICAgIHBvc2l0aW9uczogKFxuICAgICAgPExpc3RcbiAgICAgICAgdHlwZT17dHlwZX1cbiAgICAgICAgb25TZWxlY3Q9e29uU2VsZWN0fVxuICAgICAgICBnZXRTZWxlY3Rpb249e2dldFNlbGVjdGlvbn1cbiAgICAgICAgZGF0YT17ZmlsdGVyZWREYXRhfVxuICAgICAgICBkYXRhU2VsZWN0ZWQ9e2RhdGFTZWxlY3RlZH1cbiAgICAgICAgbXVsdGlwbGU9e2lzTXVsdGlwbGV9XG4gICAgICAgIG9wZW5lZEJ5Q2hpcD17b3BlbmVkQnlDaGlwfVxuICAgICAgICBnZXROZXh0UGFnZUZpbHRlcj17Z2V0TmV4dFBhZ2VGaWx0ZXJ9XG4gICAgICAgIGxvYWRpbmdOZXh0UGFnZT17bG9hZGluZ05leHRQYWdlfVxuICAgICAgICBwYWdpbmF0aW9uPXtwYWdpbmF0aW9ufVxuICAgICAgICBzZWFyY2hWYWx1ZT17c2VhcmNoVmFsdWV9XG4gICAgICAvPlxuICAgICksXG4gICAgY3VzdG9tOiAoXG4gICAgICA8U0NXcmFwcGVyRGF0ZT5cbiAgICAgICAgPERhdGVSYW5nZSBvblNlbGVjdD17b25TZWxlY3R9IGRhdGFTZWxlY3RlZD17ZGF0YVNlbGVjdGVkWzBdfSBmaWx0ZXJJZD17aWR9IC8+XG4gICAgICA8L1NDV3JhcHBlckRhdGU+XG4gICAgKSxcbiAgICBzZWFyY2g6IDxTZWFyY2hFbnRpdHkgYXV0b0ZvY3VzIG9uU2VsZWN0PXtvblNlbGVjdH0gcGxhY2Vob2xkZXI9e3QoJ3Rhc2tTZWFyY2gnKX0gZGF0YVNlbGVjdGVkPXtkYXRhU2VsZWN0ZWRbMF19IC8+LFxuICB9XG5cbiAgY29uc3QgaXNDb25maXJtQnV0dG9uRGlzYWJsZWQgPSB1c2VNZW1vKFxuICAgICgpID0+IChpc0N1c3RvbURhdGUgPyAhKGRhdGFTZWxlY3RlZFswXT8udmFsdWU/LnRvRGF0ZSB8fCBkYXRhU2VsZWN0ZWRbMF0/LnZhbHVlPy5mcm9tRGF0ZSkgOiAhZGF0YVNlbGVjdGVkLmxlbmd0aCksXG4gICAgW2lzQ3VzdG9tRGF0ZSwgZGF0YVNlbGVjdGVkXVxuICApXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZ29CYWNrRnJvbUtleWJvYXJkKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBnb0JhY2tGcm9tS2V5Ym9hcmQpXG4gICAgfVxuICB9LCBbc2VhcmNoVmFsdWUsIGlzQ29uZmlybUJ1dHRvbkRpc2FibGVkLCBkYXRhU2VsZWN0ZWRdKVxuXG4gIC8qKlxuICAgKiBIYWNlbW9zIGZvY3VzIHNvYnJlIGVzdGUgZWxlbWVudG8gZHVtbXkgYXBlbmFzIGNhcmdhIGVsIGNvbXBvbmVudGUgcGFyYSBxdWUgZWwgZm9jbyBubyBxdWVkZVxuICAgKiBlbiBhbGd1biBtZW51IGFudGVyaW9yLCBzaSBoYXNTZWFyY2ggZXMgdHJ1ZSwgZW50b25jZXMgaGFjZW1vcyBmb2NvIGVuIGVsIHNlYXJjaFxuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaGFzU2VhcmNoICYmICFsb2FkaW5nKSB7XG4gICAgICBjb25zdCBzZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1qcz1cImZpbHRlci1sMi1zZWFyY2hcIl0nKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICBzZWFyY2guZm9jdXMoKVxuICAgIH0gZWxzZSB7XG4gICAgICBGT0NVU0FCTEVfRUxFTUVOVF9SRUY/LmN1cnJlbnQ/LmZvY3VzKClcbiAgICB9XG4gIH0sIFtGT0NVU0FCTEVfRUxFTUVOVF9SRUYsIGxvYWRpbmcsIGhhc1NlYXJjaF0pXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxTQ1dyYXBwZXIgbDJQb3NpdGlvbnM9e2wyUG9zaXRpb25zfSBkYXRhLWpzPVwiZmlsdGVycy1sMi1kcm9wZG93blwiPlxuICAgICAgICA8U0NGb2N1c2FibGUgcmVmPXtGT0NVU0FCTEVfRUxFTUVOVF9SRUZ9IGRhdGEtcm9ib3QtaWQ9XCJmaWx0ZXJzLWwyZHJvcGRvd24taW5wdXRcIiAvPlxuICAgICAgICB7IWlzU2ltcGxlRmlsdGVyICYmIChcbiAgICAgICAgICA8VGl0bGVDb250YWluZXJcbiAgICAgICAgICAgIHRpdGxlPXtmaWx0ZXJUaXRsZSB8fCBpZH1cbiAgICAgICAgICAgIG9uQ2xvc2U9e29uQ2xvc2V9XG4gICAgICAgICAgICBvbkdvQmFjaz17b25Hb0JhY2tTZWxlY3Rvcn1cbiAgICAgICAgICAgIHNob3dCYWNrQnV0dG9uPXtzaG93QmFja0J1dHRvbn1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICB7aGFzU2VhcmNoICYmICFoYXNGaWx0ZXIgJiYgIWxvYWRpbmcgJiYgPFNlYXJjaCBvblNlYXJjaD17b25TZWFyY2h9IC8+fVxuICAgICAgICB7aGFzRmlsdGVyICYmICFoYXNTZWFyY2ggJiYgPFNlYXJjaCBkYXRhPXtkYXRhVG9GaWx0ZXJ9IHNldERhdGE9e3NldEZpbHRlcmVkRGF0YX0gaXNGaWx0ZXI9e2hhc0ZpbHRlcn0gLz59XG4gICAgICAgIHshZXJyb3JTdGF0ZSA/IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAge2xvYWRpbmcgJiYgdHlwZSA9PT0gTGlzdFR5cGVzLnRleHQgJiYgPEwyVGV4dFNrZWxldG9ucyAvPn1cbiAgICAgICAgICAgIHtsb2FkaW5nICYmIHR5cGUgPT09IExpc3RUeXBlcy5hdmF0YXJzICYmIDxMMkF2YXRhclNrZWxldG9ucyAvPn1cbiAgICAgICAgICAgIHtsb2FkaW5nICYmIHR5cGUgPT09IExpc3RUeXBlcy5wb3NpdGlvbnMgJiYgPEwyUG9zaXRpb25zU2tlbGV0b25zIC8+fVxuICAgICAgICAgICAgeyFsb2FkaW5nICYmIEwyT3B0aW9uc1tpc0N1c3RvbURhdGUgPyBDVVNUT01fVElUTEUgOiB0eXBlXX1cbiAgICAgICAgICAgIHsoISFmaWx0ZXJlZERhdGE/Lmxlbmd0aCB8fCB0eXBlID09PSBTRUFSQ0hfVFlQRSkgJiYgIWlzU2ltcGxlRmlsdGVyICYmIChcbiAgICAgICAgICAgICAgPFNDQ29uZmlybUJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4gaGFuZGxlU3VibWl0KHt9LCBlKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNDb25maXJtQnV0dG9uRGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgZGF0YS1yb2JvdC1pZD1cImZpbHRlcnMtbDJkcm9wZG93bi1idXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3QoJ2NvbmZpcm0nKX1cbiAgICAgICAgICAgICAgPC9TQ0NvbmZpcm1CdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxTQ0VtcHR5V3JhcHBlcj5cbiAgICAgICAgICAgIDxTQ0ltYWdlIHNyYz17U2VhcmNoSW1nfSBhbHQ9XCJUaGVyZSdzIG5vIHJlc3VsdHNcIiBkYXRhLXJvYm90LWlkPVwiZmlsdGVycy1sMmRyb3Bkb3duLWltZ1wiIC8+XG4gICAgICAgICAgICA8U0NUZXh0IGRhdGEtcm9ib3QtaWQ9XCJmaWx0ZXJzLWwyZHJvcGRvd24tbXNnXCI+e3QoJ2Vycm9yTWVzc2FnZScpfTwvU0NUZXh0PlxuICAgICAgICAgIDwvU0NFbXB0eVdyYXBwZXI+XG4gICAgICAgICl9XG4gICAgICA8L1NDV3JhcHBlcj5cbiAgICAgIDxTQ0JhY2tkcm9wIGFyaWEtbGFiZWw9XCJiYWNrZHJvcFwiIG9uQ2xpY2s9e2hhbmRsZUNhbmNlbH0gZGF0YS1yb2JvdC1pZD1cImZpbHRlcnMtbDJkcm9wZG93bi1iYWNrZHJvcFwiIC8+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IEwyRHJvcGRvd24gPSAocHJvcHM6IEwyRHJvcGRvd25UeXBlcyk6IFJlYWN0UG9ydGFsIHwgbnVsbCA9PiB7XG4gIGNvbnN0IHsgcG9ydGFsRWxlbWVudElkIH0gPSBwcm9wc1xuICBjb25zdCBkZWZhdWx0RWxlbWVudElkID0gcG9ydGFsRWxlbWVudElkIHx8ICcjcm9vdCdcbiAgY29uc3Qgc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlZmF1bHRFbGVtZW50SWQpXG5cbiAgcmV0dXJuIHNlbGVjdG9yID8gUmVhY3RET00uY3JlYXRlUG9ydGFsKDxMMkRyb3Bkb3duUG9ydGFsIHsuLi5wcm9wc30gLz4sIHNlbGVjdG9yKSA6IG51bGxcbn1cbiJdLCJtYXBwaW5ncyI6ImsyREFrRE1BLGFBQVksQ0FBRyxRQUFRLENBQ3ZCQyxPQUFPLENBQUcsU0FBUyxDQUNuQkMsV0FBVyxDQUFHLFFBQVEsQ0FFdEJDLGdCQUFvRCxDQUFHLFdBb0J6QyxJQW5CbEJDLEVBQU8sR0FBUEEsT0FBTyxDQUNQQyxDQUFRLEdBQVJBLFFBQVEsQ0FDUkMsQ0FBVyxHQUFYQSxXQUFXLENBQ1hDLENBQWMsR0FBZEEsY0FBYyxDQUNkQyxDQUFlLEdBQWZBLGVBQWUsS0FDZkMsWUFBWSxDQUFaQSxDQUFZLFlBQUcsRUFBRSxHQUNqQkMsQ0FBZSxHQUFmQSxlQUFlLENBQ2ZDLENBQWtCLEdBQWxCQSxrQkFBa0IsQ0FDbEJDLENBQVksR0FBWkEsWUFBWSxLQUNaQyxVQUFVLENBQ1ZDLENBQWMsR0FBZEEsY0FBYyxDQUNkQyxDQUFPLEdBQVBBLE9BQU8sQ0FDUEMsQ0FBTyxHQUFQQSxPQUFPLENBQ1BDLENBQWlCLEdBQWpCQSxpQkFBaUIsQ0FDakJDLENBQWUsR0FBZkEsZUFBZSxDQUNmQyxDQUFVLEdBQVZBLFVBQVUsQ0FDVkMsQ0FBYSxHQUFiQSxhQUFhLENBQ2JDLENBQWtCLEdBQWxCQSxrQkFBa0IsQ0FDbEJDLENBQWtCLEdBQWxCQSxrQkFBa0IsR0FFYSxHQUFBQyxpQkFBVSxFQUFDQyxzQkFBYSxDQUFDLENBQWhEQyxDQUFVLEdBQVZBLFVBQVUsQ0FBRUMsQ0FBTSxHQUFOQSxNQUFNLENBQ2xCQyxDQUFFLENBQTBEbkIsQ0FBZSxDQUEzRW1CLEVBQUUsQ0FBUUMsQ0FBWSxDQUFzQ3BCLENBQWUs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