"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModalComments=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=require("react"),_colors=_interopRequireDefault(require("@projectcor/theme/lib/base/colors")),_CUButton=require("@projectcor/button/lib/components/CUButton"),_titleMaker=require("../title-maker"),_styles=require("./styles"),_jsxRuntime=require("react/jsx-runtime"),MAX_CARACTERS=5e3,ModalComments=function(a){var b=a.title,c=a.marginTitle,d=void 0===c?"0 0 4px 0":c,e=a.onAcceptAction,f=a.onCancelAction,g=a.textButtonAccept,h=a.textButtonCancel,i=a.messageError,j=a.comment,k=a.setNewComment,l=a.modalCommentPlaceholder,m=a.characterExceeded,n=void 0===m?function(){return null}:m,o=(0,_react.useState)(""),p=(0,_slicedToArray2.default)(o,2),q=p[0],r=p[1],s=(0,_react.useState)(!1),t=(0,_slicedToArray2.default)(s,2),u=t[0],v=t[1];(0,_react.useEffect)(function(){(null===j||void 0===j?void 0:j.length)>MAX_CARACTERS?(v(!0),r(j.slice(0,MAX_CARACTERS))):(v(!1),r(j))},[j]);var w=function(){e(q)},x=u?_colors.default.error.main:_colors.default.grey[500],y=u?_colors.default.error.main:_colors.default.transparent.main;return(0,_jsxRuntime.jsxs)(_styles.SCMCWrapper,{onBlur:function handleSetNewComment(a){k(a.target.value)},onKeyDown:function handlePressCombiantionKeys(a){(a.ctrlKey||a.metaKey)&&"Enter"===a.key&&(k(a.target.value),w())},children:[(0,_jsxRuntime.jsx)(_titleMaker.TitleMaker,{text:b,textMargin:d,textColor:x}),(0,_jsxRuntime.jsx)(_styles.SCMCTextArea,{value:q,onChange:function handleChangeTextArea(a){return a.target.value.length>MAX_CARACTERS?(v(!0),n(),void r(a.target.value.slice(0,MAX_CARACTERS))):void(u&&v(!1),r(a.target.value))},border:y,autoFocus:!0,spellCheck:!1,placeholder:l}),u&&(0,_jsxRuntime.jsx)(_styles.SCMCMessageError,{children:i}),(0,_jsxRuntime.jsxs)(_styles.SCMCWrapperButton,{error:u,children:[(0,_jsxRuntime.jsx)(_CUButton.CUButton,{variant:"text",size:"medium",onClick:f,children:h}),(0,_jsxRuntime.jsx)(_CUButton.CUButton,{variant:"contained",size:"medium",onClick:w,children:g})]})]})};exports.ModalComments=ModalComments;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNQVhfQ0FSQUNURVJTIiwiTW9kYWxDb21tZW50cyIsInRpdGxlIiwibWFyZ2luVGl0bGUiLCJvbkFjY2VwdEFjdGlvbiIsIm9uQ2FuY2VsQWN0aW9uIiwidGV4dEJ1dHRvbkFjY2VwdCIsInRleHRCdXR0b25DYW5jZWwiLCJtZXNzYWdlRXJyb3IiLCJjb21tZW50Iiwic2V0TmV3Q29tbWVudCIsIm1vZGFsQ29tbWVudFBsYWNlaG9sZGVyIiwiY2hhcmFjdGVyRXhjZWVkZWQiLCJ1c2VTdGF0ZSIsInRleHRBcmVhIiwic2V0VGV4dEFyZWEiLCJlcnJvckV4Y2VlZGVkQ2hhcmFjdGVycyIsInNldEVycm9yRXhjZWVkZWRDaGFyYWN0ZXJzIiwidXNlRWZmZWN0IiwibGVuZ3RoIiwic2xpY2UiLCJoYW5kbGVBY2NlcHRDb21tZW50cyIsIlRJVExFX0NPTE9SIiwiQ29sb3JzIiwiZXJyb3IiLCJtYWluIiwiZ3JleSIsIkJPUkRFUl9URVhUQVJFQSIsInRyYW5zcGFyZW50IiwiaGFuZGxlU2V0TmV3Q29tbWVudCIsImV2ZW50IiwidGFyZ2V0IiwidmFsdWUiLCJoYW5kbGVQcmVzc0NvbWJpYW50aW9uS2V5cyIsImN0cmxLZXkiLCJtZXRhS2V5Iiwia2V5IiwiaGFuZGxlQ2hhbmdlVGV4dEFyZWEiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9tb2RhbC1jb21tZW50cy9Nb2RhbENvbW1lbnRzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VFdmVudCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgRm9jdXNFdmVudCwgS2V5Ym9hcmRFdmVudCwgUmVhY3RFbGVtZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgQ29sb3JzIGZyb20gJ0Bwcm9qZWN0Y29yL3RoZW1lL2xpYi9iYXNlL2NvbG9ycydcbmltcG9ydCB7IENVQnV0dG9uIGFzIEN1c3RvbUJ1dHRvbSB9IGZyb20gJ0Bwcm9qZWN0Y29yL2J1dHRvbi9saWIvY29tcG9uZW50cy9DVUJ1dHRvbidcbmltcG9ydCB7IFRpdGxlTWFrZXIgfSBmcm9tICcuLi90aXRsZS1tYWtlcidcbmltcG9ydCB7IE1vZGFsQ29tbWVudHNQcm9wcyB9IGZyb20gJy4vTW9kYWxDb21tZW50cy5pbnRlcmZhY2UnXG5pbXBvcnQgeyBTQ01DVGV4dEFyZWEsIFNDTUNXcmFwcGVyLCBTQ01DV3JhcHBlckJ1dHRvbiwgU0NNQ01lc3NhZ2VFcnJvciB9IGZyb20gJy4vc3R5bGVzJ1xuXG5jb25zdCBNQVhfQ0FSQUNURVJTID0gNTAwMFxuZXhwb3J0IGNvbnN0IE1vZGFsQ29tbWVudHMgPSAoe1xuICB0aXRsZSxcbiAgbWFyZ2luVGl0bGUgPSAnMCAwIDRweCAwJyxcbiAgb25BY2NlcHRBY3Rpb24sXG4gIG9uQ2FuY2VsQWN0aW9uLFxuICB0ZXh0QnV0dG9uQWNjZXB0LFxuICB0ZXh0QnV0dG9uQ2FuY2VsLFxuICBtZXNzYWdlRXJyb3IsXG4gIGNvbW1lbnQsXG4gIHNldE5ld0NvbW1lbnQsXG4gIG1vZGFsQ29tbWVudFBsYWNlaG9sZGVyLFxuICBjaGFyYWN0ZXJFeGNlZWRlZCA9ICgpID0+IG51bGwsXG59OiBNb2RhbENvbW1lbnRzUHJvcHMpOiBSZWFjdEVsZW1lbnQgPT4ge1xuICBjb25zdCBbdGV4dEFyZWEsIHNldFRleHRBcmVhXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpXG4gIGNvbnN0IFtlcnJvckV4Y2VlZGVkQ2hhcmFjdGVycywgc2V0RXJyb3JFeGNlZWRlZENoYXJhY3RlcnNdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY29tbWVudD8ubGVuZ3RoID4gTUFYX0NBUkFDVEVSUykge1xuICAgICAgc2V0RXJyb3JFeGNlZWRlZENoYXJhY3RlcnModHJ1ZSlcbiAgICAgIHNldFRleHRBcmVhKGNvbW1lbnQuc2xpY2UoMCwgTUFYX0NBUkFDVEVSUykpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEVycm9yRXhjZWVkZWRDaGFyYWN0ZXJzKGZhbHNlKVxuICAgICAgc2V0VGV4dEFyZWEoY29tbWVudClcbiAgICB9XG4gIH0sIFtjb21tZW50XSlcblxuICBjb25zdCBoYW5kbGVDaGFuZ2VUZXh0QXJlYSA9IChldmVudDogQ2hhbmdlRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlLmxlbmd0aCA+IE1BWF9DQVJBQ1RFUlMpIHtcbiAgICAgIHNldEVycm9yRXhjZWVkZWRDaGFyYWN0ZXJzKHRydWUpXG4gICAgICBjaGFyYWN0ZXJFeGNlZWRlZCgpXG4gICAgICBzZXRUZXh0QXJlYShldmVudC50YXJnZXQudmFsdWUuc2xpY2UoMCwgTUFYX0NBUkFDVEVSUykpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgZXJyb3JFeGNlZWRlZENoYXJhY3RlcnMgJiYgc2V0RXJyb3JFeGNlZWRlZENoYXJhY3RlcnMoZmFsc2UpXG4gICAgc2V0VGV4dEFyZWEoZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU2V0TmV3Q29tbWVudCA9IChldmVudDogRm9jdXNFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIHNldE5ld0NvbW1lbnQoZXZlbnQudGFyZ2V0LnZhbHVlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQWNjZXB0Q29tbWVudHMgPSAoKSA9PiB7XG4gICAgb25BY2NlcHRBY3Rpb24odGV4dEFyZWEpXG4gIH1cblxuICBjb25zdCBoYW5kbGVQcmVzc0NvbWJpYW50aW9uS2V5cyA9IChldmVudDogS2V5Ym9hcmRFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGlmICgoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSAmJiBldmVudC5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgIHNldE5ld0NvbW1lbnQoKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSlcbiAgICAgIGhhbmRsZUFjY2VwdENvbW1lbnRzKClcbiAgICB9XG4gIH1cblxuICBjb25zdCBUSVRMRV9DT0xPUiA9IGVycm9yRXhjZWVkZWRDaGFyYWN0ZXJzID8gQ29sb3JzLmVycm9yLm1haW4gOiBDb2xvcnMuZ3JleVs1MDBdXG4gIGNvbnN0IEJPUkRFUl9URVhUQVJFQSA9IGVycm9yRXhjZWVkZWRDaGFyYWN0ZXJzID8gQ29sb3JzLmVycm9yLm1haW4gOiBDb2xvcnMudHJhbnNwYXJlbnQubWFpblxuXG4gIHJldHVybiAoXG4gICAgPFNDTUNXcmFwcGVyIG9uQmx1cj17aGFuZGxlU2V0TmV3Q29tbWVudH0gb25LZXlEb3duPXtoYW5kbGVQcmVzc0NvbWJpYW50aW9uS2V5c30+XG4gICAgICA8VGl0bGVNYWtlciB0ZXh0PXt0aXRsZX0gdGV4dE1hcmdpbj17bWFyZ2luVGl0bGV9IHRleHRDb2xvcj17VElUTEVfQ09MT1J9IC8+XG4gICAgICA8U0NNQ1RleHRBcmVhXG4gICAgICAgIHZhbHVlPXt0ZXh0QXJlYX1cbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZVRleHRBcmVhfVxuICAgICAgICBib3JkZXI9e0JPUkRFUl9URVhUQVJFQX1cbiAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgIHNwZWxsQ2hlY2s9e2ZhbHNlfVxuICAgICAgICBwbGFjZWhvbGRlcj17bW9kYWxDb21tZW50UGxhY2Vob2xkZXJ9XG4gICAgICAvPlxuICAgICAge2Vycm9yRXhjZWVkZWRDaGFyYWN0ZXJzICYmIDxTQ01DTWVzc2FnZUVycm9yPnttZXNzYWdlRXJyb3J9PC9TQ01DTWVzc2FnZUVycm9yPn1cbiAgICAgIDxTQ01DV3JhcHBlckJ1dHRvbiBlcnJvcj17ZXJyb3JFeGNlZWRlZENoYXJhY3RlcnN9PlxuICAgICAgICA8Q3VzdG9tQnV0dG9tIHZhcmlhbnQ9XCJ0ZXh0XCIgc2l6ZT1cIm1lZGl1bVwiIG9uQ2xpY2s9e29uQ2FuY2VsQWN0aW9ufT5cbiAgICAgICAgICB7dGV4dEJ1dHRvbkNhbmNlbH1cbiAgICAgICAgPC9DdXN0b21CdXR0b20+XG4gICAgICAgIDxDdXN0b21CdXR0b20gdmFyaWFudD1cImNvbnRhaW5lZFwiIHNpemU9XCJtZWRpdW1cIiBvbkNsaWNrPXtoYW5kbGVBY2NlcHRDb21tZW50c30+XG4gICAgICAgICAge3RleHRCdXR0b25BY2NlcHR9XG4gICAgICAgIDwvQ3VzdG9tQnV0dG9tPlxuICAgICAgPC9TQ01DV3JhcHBlckJ1dHRvbj5cbiAgICA8L1NDTUNXcmFwcGVyPlxuICApXG59XG4iXSwibWFwcGluZ3MiOiJnaUJBT01BLGFBQWEsQ0FBRyxHQUFJLENBQ2JDLGFBQWEsQ0FBRyxXQVlXLElBWHRDQyxFQUFLLEdBQUxBLEtBQUssS0FDTEMsV0FBVyxDQUFYQSxDQUFXLFlBQUcsV0FBVyxHQUN6QkMsQ0FBYyxHQUFkQSxjQUFjLENBQ2RDLENBQWMsR0FBZEEsY0FBYyxDQUNkQyxDQUFnQixHQUFoQkEsZ0JBQWdCLENBQ2hCQyxDQUFnQixHQUFoQkEsZ0JBQWdCLENBQ2hCQyxDQUFZLEdBQVpBLFlBQVksQ0FDWkMsQ0FBTyxHQUFQQSxPQUFPLENBQ1BDLENBQWEsR0FBYkEsYUFBYSxDQUNiQyxDQUF1QixHQUF2QkEsdUJBQXVCLEtBQ3ZCQyxpQkFBaUIsQ0FBakJBLENBQWlCLFlBQUcsaUJBQU0sS0FBSSxNQUVFLEdBQUFDLGVBQVEsRUFBUyxFQUFFLENBQUMsb0NBQTdDQyxDQUFRLE1BQUVDLENBQVcsUUFDa0MsR0FBQUYsZUFBUSxLQUFnQixvQ0FBL0VHLENBQXVCLE1BQUVDLENBQTBCLE1BRTFELEdBQUFDLGdCQUFTLEVBQUMsVUFBTSxDQUNWLFFBQUFULENBQU8sV0FBUEEsQ0FBTyxRQUFQQSxDQUFPLENBQUVVLE1BQU0sRUFBR25CLGFBQWEsRUFDakNpQixDQUEwQixJQUFNLENBQ2hDRixDQUFXLENBQUNOLENBQU8sQ0FBQ1csS0FBSyxDQUFDLENBQUMsQ0FBRXBCLGFBQWEsQ0FBQyxDQUFDLEdBRTVDaUIsQ0FBMEIsSUFBTyxDQUNqQ0YsQ0FBVyxDQUFDTixDQUFPLENBQUMsQ0FFeEIsQ0FBQyxDQUFFLENBQUNBLENBQU8sQ0FBQyxDQUFDLElBaUJQWSxFQUFvQixDQUFHLFVBQU0sQ0FDakNqQixDQUFjLENBQUNVLENBQVEsQ0FDekIsQ0FBQyxDQVNLUSxDQUFXLENBQUdOLENBQXVCLENBQUdPLGVBQU0sQ0FBQ0MsS0FBSyxDQUFDQyxJQUFJLENBQUdGLGVBQU0sQ0FBQ0csSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUM1RUMsQ0FBZSxDQUFHWCxDQUF1QixDQUFHTyxlQUFNLENBQUNDLEtBQUssQ0FBQ0MsSUFBSSxDQUFHRixlQUFNLENBQUNLLFdBQVcsQ0FBQ0gsSUFBSSxDQUU3RixNQUNFLHFCQUFDLG1CQUFXLEVBQUMsTUFBTSxDQW5CTyxRQUF0Qkksb0JBQW1CLENBQUlDLENBQW1DLENBQUssQ0FDbkVwQixDQUFhLENBQUNvQixDQUFLLENBQUNDLE1BQU0sQ0FBQ0MsS0FBSyxDQUNsQyxDQWlCMkMsQ0FBQyxTQUFTLENBWGxCLFFBQTdCQywyQkFBMEIsQ0FBSUgsQ0FBc0MsQ0FBSyxDQUN6RSxDQUFDQSxDQUFLLENBQUNJLE9BQU8sRUFBSUosQ0FBSyxDQUFDSyxPQUFPLEdBQW1CLE9BQU8sR0FBckJMLENBQUssQ0FBQ00sR0FBZSxHQUMzRDFCLENBQWEsQ0FBRW9CLENBQUssQ0FBQ0MsTUFBTSxDQUFzQkMsS0FBSyxDQUFDLENBQ3ZEWCxDQUFvQixFQUFFLENBRTFCLENBTWtGLFdBQzlFLG9CQUFDLHNCQUFVLEVBQUMsSUFBSSxDQUFFbkIsQ0FBTSxDQUFDLFVBQVUsQ0FBRUMsQ0FBWSxDQUFDLFNBQVMsQ0FBRW1CLENBQVksRUFBRyxDQUM1RSxvQkFBQyxvQkFBWSxFQUNYLEtBQUssQ0FBRVIsQ0FBUyxDQUNoQixRQUFRLENBbENlLFFBQXZCdUIscUJBQW9CLENBQUlQLENBQXVDLENBQUssT0FDcEVBLEVBQUssQ0FBQ0MsTUFBTSxDQUFDQyxLQUFLLENBQUNiLE1BQU0sQ0FBR25CLGFBQWEsRUFDM0NpQixDQUEwQixJQUFNLENBQ2hDTCxDQUFpQixFQUFFLEtBQ25CRyxFQUFXLENBQUNlLENBQUssQ0FBQ0MsTUFBTSxDQUFDQyxLQUFLLENBQUNaLEtBQUssQ0FBQyxDQUFDLENBQUVwQixhQUFhLENBQUMsQ0FBQyxPQUd6RGdCLENBQXVCLEVBQUlDLENBQTBCLElBQU8sQ0FDNURGLENBQVcsQ0FBQ2UsQ0FBSyxDQUFDQyxNQUFNLENBQUNDLEtBQUssQ0FBQyxDQUNqQyxDQXlCcUMsQ0FDL0IsTUFBTSxDQUFFTCxDQUFnQixDQUN4QixTQUFTLElBQ1QsVUFBVSxHQUFRLENBQ2xCLFdBQVcsQ0FBRWhCLENBQXdCLEVBQ3JDLENBQ0RLLENBQXVCLEVBQUksb0JBQUMsd0JBQWdCLFdBQUVSLENBQVksRUFBb0IsQ0FDL0UscUJBQUMseUJBQWlCLEVBQUMsS0FBSyxDQUFFUSxDQUF3QixXQUNoRCxvQkFBQyxrQkFBWSxFQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUVYLENBQWUsVUFDaEVFLENBQWdCLEVBQ0osQ0FDZixvQkFBQyxrQkFBWSxFQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUVjLENBQXFCLFVBQzNFZixDQUFnQixFQUNKLEdBQ0csR0FHMUIsQ0FBQyJ9