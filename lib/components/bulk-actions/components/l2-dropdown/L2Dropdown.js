"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.L2Dropdown=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=require("react"),_reactI18next=require("react-i18next"),_Context=require("../../Context"),_list=require("../list"),_users=require("../users"),_datetime=require("../datetime"),_titleContainer=require("./components/title-container"),_userAssigner=require("../../../user-assigner"),_style=require("./style"),_config=require("../../utils/config"),_jsxRuntime=require("react/jsx-runtime"),L2Dropdown=function(a){var b=a.data,c=a.type,d=a.title,e=a.users,f=a.myData,g=a.onClose,h=a.onGoBack,i=a.handleFetcher,j=a.modalElementId,k=a.handleSelectValues,l=(0,_reactI18next.useTranslation)("globals"),m=l.t,n=(0,_react.useState)(null),o=(0,_slicedToArray2.default)(n,2),p=o[0],q=o[1],r=(0,_react.useContext)(_Context.BulkActionsContext),s=r.trackEvent,t=b.values,u=b.id,v=(0,_react.useCallback)(function(a){var b,c,d={deadline:a,status:null===(b=a[0])||void 0===b?void 0:b.id,priority:null===(c=a[0])||void 0===c?void 0:c.value};q(d[u])},[u]),w=(0,_react.useCallback)(function(a){k(u,a)},[u]),x={date:(0,_jsxRuntime.jsx)(_datetime.Datetime,{handleChangeDate:v,lang:f.lang}),text:(0,_jsxRuntime.jsx)(_list.List,{data:t,onSelect:v,id:u}),avatars:(0,_jsxRuntime.jsx)(_users.Users,{myData:f,dataUsers:e,onChange:w,fetchUsers:i,modalElementId:j,translations:b.translations,userType:u===_userAssigner.UserAssignerUserType.PM?u:_userAssigner.UserAssignerUserType.COLLABORATOR})};return(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[(0,_jsxRuntime.jsxs)(_style.SCWrapper,{children:[(0,_jsxRuntime.jsx)(_titleContainer.TitleContainer,{title:d,onClose:g,onGoBack:h}),x[c],(0,_jsxRuntime.jsx)(_style.SCConfirmButton,{onClick:function handleSubmit(){s({event:_config.AMPLITUDE_EVENTS.MORE_ACTIONS[u]}),k(u,p),g()},disabled:!p,children:m("confirm")})]}),(0,_jsxRuntime.jsx)(_style.SCBackdrop,{"data-testid":"backdrop",onClick:g})]})};exports.L2Dropdown=L2Dropdown;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMMkRyb3Bkb3duIiwiZGF0YSIsInR5cGUiLCJ0aXRsZSIsInVzZXJzIiwibXlEYXRhIiwib25DbG9zZSIsIm9uR29CYWNrIiwiaGFuZGxlRmV0Y2hlciIsIm1vZGFsRWxlbWVudElkIiwiaGFuZGxlU2VsZWN0VmFsdWVzIiwidXNlVHJhbnNsYXRpb24iLCJ0IiwidXNlU3RhdGUiLCJzZWxlY3RlZE9wdGlvbiIsInNldFNlbGVjdGVkT3B0aW9uIiwidXNlQ29udGV4dCIsIkJ1bGtBY3Rpb25zQ29udGV4dCIsInRyYWNrRXZlbnQiLCJkYXRhRm9yQWN0aW9uIiwidmFsdWVzIiwiaWQiLCJoYW5kbGVTZWxlY3QiLCJ1c2VDYWxsYmFjayIsInNlbGVjdGlvbiIsImZvcm1hdERhdGEiLCJkZWFkbGluZSIsInN0YXR1cyIsInByaW9yaXR5IiwidmFsdWUiLCJvbkNoYW5nZVVzZXJzIiwidXNlcnNTZWxlY3RlZCIsIkwyT3B0aW9ucyIsImRhdGUiLCJsYW5nIiwidGV4dCIsImF2YXRhcnMiLCJ0cmFuc2xhdGlvbnMiLCJVc2VyQXNzaWduZXJVc2VyVHlwZSIsIlBNIiwiQ09MTEFCT1JBVE9SIiwiaGFuZGxlU3VibWl0IiwiZXZlbnQiLCJBTVBMSVRVREVfRVZFTlRTIiwiTU9SRV9BQ1RJT05TIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvYnVsay1hY3Rpb25zL2NvbXBvbmVudHMvbDItZHJvcGRvd24vTDJEcm9wZG93bi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRnVuY3Rpb25Db21wb25lbnQsIFJlYWN0RWxlbWVudCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG4vLyBXb3JkaW5nXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnXG4vLyBDb250ZXh0XG5pbXBvcnQgeyBCdWxrQWN0aW9uc0NvbnRleHQgfSBmcm9tICcuLi8uLi9Db250ZXh0J1xuLy8gVHlwZXNcbmltcG9ydCB7IEwyRHJvcGRvd25UeXBlcyB9IGZyb20gJy4vTDJEcm9wZG93bi5pbnRlcmZhY2UnXG4vLyBVSSBDb21wb25lbnRzXG5pbXBvcnQgeyBMaXN0IH0gZnJvbSAnLi4vbGlzdCdcbmltcG9ydCB7IFVzZXJzIH0gZnJvbSAnLi4vdXNlcnMnXG5pbXBvcnQgeyBEYXRldGltZSB9IGZyb20gJy4uL2RhdGV0aW1lJ1xuaW1wb3J0IHsgVGl0bGVDb250YWluZXIgfSBmcm9tICcuL2NvbXBvbmVudHMvdGl0bGUtY29udGFpbmVyJ1xuaW1wb3J0IHsgVXNlckFzc2lnbmVyVXNlclR5cGUgfSBmcm9tICcuLi8uLi8uLi91c2VyLWFzc2lnbmVyJ1xuLy8gU3R5bGVzXG5pbXBvcnQgeyBTQ0NvbmZpcm1CdXR0b24sIFNDV3JhcHBlciwgU0NCYWNrZHJvcCB9IGZyb20gJy4vc3R5bGUnXG4vLyBDb25zdGFudHNcbmltcG9ydCB7IEFNUExJVFVERV9FVkVOVFMgfSBmcm9tICcuLi8uLi91dGlscy9jb25maWcnXG5cbmV4cG9ydCBjb25zdCBMMkRyb3Bkb3duOiBGdW5jdGlvbkNvbXBvbmVudDxMMkRyb3Bkb3duVHlwZXM+ID0gKHtcbiAgZGF0YSxcbiAgdHlwZSxcbiAgdGl0bGUsXG4gIHVzZXJzLFxuICBteURhdGEsXG4gIG9uQ2xvc2UsXG4gIG9uR29CYWNrLFxuICBoYW5kbGVGZXRjaGVyLFxuICBtb2RhbEVsZW1lbnRJZCxcbiAgaGFuZGxlU2VsZWN0VmFsdWVzLFxufSk6IFJlYWN0RWxlbWVudCA9PiB7XG4gIGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2dsb2JhbHMnKVxuICBjb25zdCBbc2VsZWN0ZWRPcHRpb24sIHNldFNlbGVjdGVkT3B0aW9uXSA9IHVzZVN0YXRlKG51bGwpXG4gIGNvbnN0IHsgdHJhY2tFdmVudCB9ID0gdXNlQ29udGV4dChCdWxrQWN0aW9uc0NvbnRleHQpXG5cbiAgY29uc3QgeyB2YWx1ZXM6IGRhdGFGb3JBY3Rpb24sIGlkIH0gPSBkYXRhXG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKCkgPT4ge1xuICAgIHRyYWNrRXZlbnQoe1xuICAgICAgZXZlbnQ6IEFNUExJVFVERV9FVkVOVFMuTU9SRV9BQ1RJT05TW2lkXSxcbiAgICB9KVxuICAgIGhhbmRsZVNlbGVjdFZhbHVlcyhpZCwgc2VsZWN0ZWRPcHRpb24pXG4gICAgb25DbG9zZSgpXG4gIH1cblxuICAvKipcbiAgICogU2V0ZWEgbGEgb3BjacOzbiBzZWxlY2Npb25hZGEgZGUgbGEgbGlzdGFcbiAgICovXG4gIGNvbnN0IGhhbmRsZVNlbGVjdCA9IHVzZUNhbGxiYWNrKFxuICAgIHNlbGVjdGlvbiA9PiB7XG4gICAgICBjb25zdCBmb3JtYXREYXRhID0ge1xuICAgICAgICBkZWFkbGluZTogc2VsZWN0aW9uLFxuICAgICAgICBzdGF0dXM6IHNlbGVjdGlvblswXT8uaWQsXG4gICAgICAgIHByaW9yaXR5OiBzZWxlY3Rpb25bMF0/LnZhbHVlLFxuICAgICAgfVxuICAgICAgc2V0U2VsZWN0ZWRPcHRpb24oZm9ybWF0RGF0YVtpZF0pXG4gICAgfSxcbiAgICBbaWRdXG4gIClcblxuICBjb25zdCBvbkNoYW5nZVVzZXJzID0gdXNlQ2FsbGJhY2soXG4gICAgdXNlcnNTZWxlY3RlZCA9PiB7XG4gICAgICBoYW5kbGVTZWxlY3RWYWx1ZXMoaWQsIHVzZXJzU2VsZWN0ZWQpXG4gICAgfSxcbiAgICBbaWRdXG4gIClcblxuICBjb25zdCBMMk9wdGlvbnMgPSB7XG4gICAgZGF0ZTogPERhdGV0aW1lIGhhbmRsZUNoYW5nZURhdGU9e2hhbmRsZVNlbGVjdH0gbGFuZz17bXlEYXRhLmxhbmd9IC8+LFxuICAgIHRleHQ6IDxMaXN0IGRhdGE9e2RhdGFGb3JBY3Rpb259IG9uU2VsZWN0PXtoYW5kbGVTZWxlY3R9IGlkPXtpZH0gLz4sXG4gICAgYXZhdGFyczogKFxuICAgICAgPFVzZXJzXG4gICAgICAgIG15RGF0YT17bXlEYXRhfVxuICAgICAgICBkYXRhVXNlcnM9e3VzZXJzfVxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2VVc2Vyc31cbiAgICAgICAgZmV0Y2hVc2Vycz17aGFuZGxlRmV0Y2hlcn1cbiAgICAgICAgbW9kYWxFbGVtZW50SWQ9e21vZGFsRWxlbWVudElkfVxuICAgICAgICB0cmFuc2xhdGlvbnM9e2RhdGEudHJhbnNsYXRpb25zfVxuICAgICAgICB1c2VyVHlwZT17aWQgPT09IFVzZXJBc3NpZ25lclVzZXJUeXBlLlBNID8gaWQgOiBVc2VyQXNzaWduZXJVc2VyVHlwZS5DT0xMQUJPUkFUT1J9XG4gICAgICAvPlxuICAgICksXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8U0NXcmFwcGVyPlxuICAgICAgICA8VGl0bGVDb250YWluZXIgdGl0bGU9e3RpdGxlfSBvbkNsb3NlPXtvbkNsb3NlfSBvbkdvQmFjaz17b25Hb0JhY2t9IC8+XG4gICAgICAgIHtMMk9wdGlvbnNbdHlwZV19XG4gICAgICAgIDxTQ0NvbmZpcm1CdXR0b24gb25DbGljaz17aGFuZGxlU3VibWl0fSBkaXNhYmxlZD17IXNlbGVjdGVkT3B0aW9ufT5cbiAgICAgICAgICB7dCgnY29uZmlybScpfVxuICAgICAgICA8L1NDQ29uZmlybUJ1dHRvbj5cbiAgICAgIDwvU0NXcmFwcGVyPlxuICAgICAgPFNDQmFja2Ryb3AgZGF0YS10ZXN0aWQ9XCJiYWNrZHJvcFwiIG9uQ2xpY2s9e29uQ2xvc2V9IC8+XG4gICAgPC8+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Im9wQkFrQmFBLFVBQThDLENBQUcsV0FXMUMsSUFWbEJDLEVBQUksR0FBSkEsSUFBSSxDQUNKQyxDQUFJLEdBQUpBLElBQUksQ0FDSkMsQ0FBSyxHQUFMQSxLQUFLLENBQ0xDLENBQUssR0FBTEEsS0FBSyxDQUNMQyxDQUFNLEdBQU5BLE1BQU0sQ0FDTkMsQ0FBTyxHQUFQQSxPQUFPLENBQ1BDLENBQVEsR0FBUkEsUUFBUSxDQUNSQyxDQUFhLEdBQWJBLGFBQWEsQ0FDYkMsQ0FBYyxHQUFkQSxjQUFjLENBQ2RDLENBQWtCLEdB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