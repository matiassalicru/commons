"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateMaxYForModal=void 0,exports.calculateMaxYForTooltip=calculateMaxYForTooltip,exports.mapGraphQLTypeElement=mapGraphQLTypeElement,exports.mapSelectedDataAvatar=mapSelectedDataAvatar,exports.mapSelectedDataName=mapSelectedDataName,exports.sliceArraMaxElements=sliceArraMaxElements,exports.updateDataAdd=updateDataAdd,exports.updateDataRemove=updateDataRemove;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_UserAssignerAvatar=require("./avatar/UserAssignerAvatar"),_constants=require("./constants");function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){(0,_defineProperty2.default)(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}var EMPTY_CHAR="-";function mapSelectedDataAvatar(a){if(Array.isArray(a)){if(0===a.length)return{type:_UserAssignerAvatar.UserAssignerAvatarType.EMPTY_STATE};if(1===a.length){var b=a[0],c=b.roleId,d=b.remainingHours,e=b.picture,f=b.firstName,g=b.lastName,h=b.id;return{id:h,type:_UserAssignerAvatar.UserAssignerAvatarType.PHOTO,picture:e,remainingHours:d,firstName:f,lastName:g,roleId:c}}return{type:_UserAssignerAvatar.UserAssignerAvatarType.NUMBER,total:a.length}}if(a){var i=a.roleId,j=a.remainingHours,k=a.picture,l=a.firstName,m=a.lastName,n=a.id;return{id:n,type:_UserAssignerAvatar.UserAssignerAvatarType.PHOTO,picture:k,remainingHours:j,firstName:l,lastName:m,roleId:i}}return{type:_UserAssignerAvatar.UserAssignerAvatarType.EMPTY_STATE}}function mapSelectedDataName(a){if(!a)return EMPTY_CHAR;if(Array.isArray(a)){if(!a.length)return EMPTY_CHAR;var b=a[0],c=b.firstName,d=b.lastName,e=1<a.length?" +".concat(a.length-1):"";return"".concat(c," ").concat(d).concat(e)}return"".concat(a.firstName," ").concat(a.lastName)}function sliceArraMaxElements(a,b){var c=(0,_toConsumableArray2.default)(a),d=0;return c.length>b&&(c=a.slice(0,b),d=a.slice(c.length)),{array:c,rest:d}}function mapGraphQLTypeElement(a,b){var c,d=(c={},(0,_defineProperty2.default)(c,_constants.UserAssignerUserType.COLLABORATOR,"Collaborator"),(0,_defineProperty2.default)(c,_constants.UserAssignerUserType.PM,"PM"),(0,_defineProperty2.default)(c,_constants.UserAssignerUserType.FOLLOWER,"Follower"),c);return d[b]||"User"}function updateDataAdd(a,b,c,d,e){if(b===_constants.UserAssignerEntityType.TASK){var h=_objectSpread({},a[b]);if(Array.isArray(h[c])){var i=(0,_toConsumableArray2.default)(h[c]);return i.push(d),_objectSpread(_objectSpread({},a),{},(0,_defineProperty2.default)({},b,_objectSpread(_objectSpread({},h),{},(0,_defineProperty2.default)({},c,i))))}return(0,_defineProperty2.default)({},b,_objectSpread(_objectSpread({},h),{},(0,_defineProperty2.default)({},c,d)))}if(b===_constants.UserAssignerEntityType.SUBTASK){var f=a.subtasks.findIndex(function(a){return+a._id===+e}),g=a.subtasks[f].collaborators;g.push(d);var j=(0,_toConsumableArray2.default)(a.subtasks);return j[f].collaborators=g,_objectSpread(_objectSpread({},a),{},{subtasks:j})}}function updateDataRemove(a,b,c,d,e){if(b===_constants.UserAssignerEntityType.TASK){var f=a[b],g=f[c];return Array.isArray(g)?(g=g.filter(function(a){return+a.id!==+d.id}),_objectSpread(_objectSpread({},a),{},(0,_defineProperty2.default)({},b,_objectSpread(_objectSpread({},f),{},(0,_defineProperty2.default)({},c,g))))):(0,_defineProperty2.default)({},b,_objectSpread(_objectSpread({},f),{},(0,_defineProperty2.default)({},c,null)))}if(b===_constants.UserAssignerEntityType.SUBTASK){var h=a.subtasks.findIndex(function(a){return+a._id===+e}),i=a.subtasks[h].collaborators.filter(function(a){return+a.id!==+d.id}),j=(0,_toConsumableArray2.default)(a.subtasks);return j[h].collaborators=i,_objectSpread(_objectSpread({},a),{},{subtasks:j})}}function calculateMaxYForTooltip(a,b){var c=window,d=document,e=d.documentElement,f=d.getElementsByTagName("body")[0],g=c.innerHeight||e.clientHeight||f.clientHeight;return a>g-b?g-b:a}var calculateMaxYForModal=function(a,b,c){var d=document.documentElement,e=document.getElementsByTagName("body")[0],f=window.innerHeight||d.clientHeight||e.clientHeight;return a>f-100-c?1.5*b-c:b};exports.calculateMaxYForModal=calculateMaxYForModal;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFTVBUWV9DSEFSIiwibWFwU2VsZWN0ZWREYXRhQXZhdGFyIiwiZGF0YSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInR5cGUiLCJVc2VyQXNzaWduZXJBdmF0YXJUeXBlIiwiRU1QVFlfU1RBVEUiLCJyb2xlSWQiLCJyZW1haW5pbmdIb3VycyIsInBpY3R1cmUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImlkIiwiUEhPVE8iLCJOVU1CRVIiLCJ0b3RhbCIsIm1hcFNlbGVjdGVkRGF0YU5hbWUiLCJtb3JlUGVvcGxlIiwic2xpY2VBcnJhTWF4RWxlbWVudHMiLCJfYXJyYXkiLCJtYXhFbGVtZW50cyIsImFycmF5IiwicmVzdCIsInNsaWNlIiwibWFwR3JhcGhRTFR5cGVFbGVtZW50IiwidXNlciIsIk1BUCIsIlVzZXJBc3NpZ25lclVzZXJUeXBlIiwiQ09MTEFCT1JBVE9SIiwiUE0iLCJGT0xMT1dFUiIsInVwZGF0ZURhdGFBZGQiLCJjYWNoZSIsImVudGl0eVR5cGUiLCJ1c2VyVHlwZSIsIm5ld1VzZXIiLCJlbnRpdHlJZCIsIlVzZXJBc3NpZ25lckVudGl0eVR5cGUiLCJUQVNLIiwiZGF0YVR5cGUiLCJuZXh0VXNlcnMiLCJwdXNoIiwiU1VCVEFTSyIsInN1YnRhc2tJbmRleCIsInN1YnRhc2tzIiwiZmluZEluZGV4Iiwic3VidGFzayIsIl9pZCIsIm5ld1N1YnRhc2tzIiwidXBkYXRlRGF0YVJlbW92ZSIsImZpbHRlciIsInUiLCJjIiwiY2FsY3VsYXRlTWF4WUZvclRvb2x0aXAiLCJ5IiwidG9vbHRpcEhlaWdodCIsIndpbiIsIndpbmRvdyIsImRvYyIsImRvY3VtZW50IiwiZG9jRWxlbSIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInZpZXdwb3J0SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJjYWxjdWxhdGVNYXhZRm9yTW9kYWwiLCJ0b3AiLCJvZmZzZXRZIiwiaGVpZ2h0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvdXNlci1hc3NpZ25lci91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyQXNzaWduZXJBdmF0YXJUeXBlIH0gZnJvbSAnLi9hdmF0YXIvVXNlckFzc2lnbmVyQXZhdGFyJ1xuaW1wb3J0IHsgVXNlckFzc2lnbmVyVXNlclR5cGUsIFVzZXJBc3NpZ25lckVudGl0eVR5cGUgfSBmcm9tICcuL2NvbnN0YW50cydcblxuY29uc3QgRU1QVFlfQ0hBUiA9ICctJ1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwU2VsZWN0ZWREYXRhQXZhdGFyKGRhdGEpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogVXNlckFzc2lnbmVyQXZhdGFyVHlwZS5FTVBUWV9TVEFURSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgIHJvbGVJZCxcbiAgICAgICAgICAgICAgICByZW1haW5pbmdIb3VycyxcbiAgICAgICAgICAgICAgICBwaWN0dXJlLFxuICAgICAgICAgICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIH0gPSBkYXRhWzBdXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogVXNlckFzc2lnbmVyQXZhdGFyVHlwZS5QSE9UTyxcbiAgICAgICAgICAgICAgICBwaWN0dXJlLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZ0hvdXJzLFxuICAgICAgICAgICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICAgICAgICByb2xlSWQsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogVXNlckFzc2lnbmVyQXZhdGFyVHlwZS5OVU1CRVIsXG4gICAgICAgICAgICB0b3RhbDogZGF0YS5sZW5ndGgsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YSkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICByb2xlSWQsXG4gICAgICAgICAgICByZW1haW5pbmdIb3VycyxcbiAgICAgICAgICAgIHBpY3R1cmUsXG4gICAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICB9ID0gZGF0YVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHR5cGU6IFVzZXJBc3NpZ25lckF2YXRhclR5cGUuUEhPVE8sXG4gICAgICAgICAgICBwaWN0dXJlLFxuICAgICAgICAgICAgcmVtYWluaW5nSG91cnMsXG4gICAgICAgICAgICBmaXJzdE5hbWUsXG4gICAgICAgICAgICBsYXN0TmFtZSxcbiAgICAgICAgICAgIHJvbGVJZCxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFVzZXJBc3NpZ25lckF2YXRhclR5cGUuRU1QVFlfU1RBVEUsXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwU2VsZWN0ZWREYXRhTmFtZShkYXRhKSB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHJldHVybiBFTVBUWV9DSEFSXG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIEVNUFRZX0NIQVJcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUgfSA9IGRhdGFbMF1cbiAgICAgICAgY29uc3QgbW9yZVBlb3BsZSA9IGRhdGEubGVuZ3RoID4gMSA/IGAgKyR7ZGF0YS5sZW5ndGggLSAxfWAgOiAnJ1xuXG4gICAgICAgIHJldHVybiBgJHtmaXJzdE5hbWV9ICR7bGFzdE5hbWV9JHttb3JlUGVvcGxlfWBcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7ZGF0YS5maXJzdE5hbWV9ICR7ZGF0YS5sYXN0TmFtZX1gXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbGljZUFycmFNYXhFbGVtZW50cyhfYXJyYXksIG1heEVsZW1lbnRzKSB7XG4gICAgbGV0IGFycmF5ID0gWy4uLl9hcnJheV1cbiAgICBsZXQgcmVzdCA9IDBcblxuICAgIGlmIChhcnJheS5sZW5ndGggPiBtYXhFbGVtZW50cykge1xuICAgICAgICBhcnJheSA9IF9hcnJheS5zbGljZSgwLCBtYXhFbGVtZW50cylcbiAgICAgICAgcmVzdCA9IF9hcnJheS5zbGljZShhcnJheS5sZW5ndGgpXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXJyYXksXG4gICAgICAgIHJlc3QsXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwR3JhcGhRTFR5cGVFbGVtZW50KHVzZXIsIHR5cGUpIHtcbiAgICBjb25zdCBNQVAgPSB7XG4gICAgICAgIFtVc2VyQXNzaWduZXJVc2VyVHlwZS5DT0xMQUJPUkFUT1JdOiAnQ29sbGFib3JhdG9yJyxcbiAgICAgICAgW1VzZXJBc3NpZ25lclVzZXJUeXBlLlBNXTogJ1BNJyxcbiAgICAgICAgW1VzZXJBc3NpZ25lclVzZXJUeXBlLkZPTExPV0VSXTogJ0ZvbGxvd2VyJyxcbiAgICB9XG5cbiAgICByZXR1cm4gTUFQW3R5cGVdIHx8ICdVc2VyJ1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEYXRhQWRkKGNhY2hlLCBlbnRpdHlUeXBlLCB1c2VyVHlwZSwgbmV3VXNlciwgZW50aXR5SWQpIHtcbiAgICAvLyBUQVNLXG4gICAgaWYgKGVudGl0eVR5cGUgPT09IFVzZXJBc3NpZ25lckVudGl0eVR5cGUuVEFTSykge1xuICAgICAgICBjb25zdCBkYXRhVHlwZSA9IHsgLi4uY2FjaGVbZW50aXR5VHlwZV0gfVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFUeXBlW3VzZXJUeXBlXSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRVc2VycyA9IFsuLi5kYXRhVHlwZVt1c2VyVHlwZV1dXG4gICAgICAgICAgICBuZXh0VXNlcnMucHVzaChuZXdVc2VyKVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmNhY2hlLFxuICAgICAgICAgICAgICAgIFtlbnRpdHlUeXBlXToge1xuICAgICAgICAgICAgICAgICAgICAuLi5kYXRhVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgW3VzZXJUeXBlXTogbmV4dFVzZXJzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2VudGl0eVR5cGVdOiB7XG4gICAgICAgICAgICAgICAgLi4uZGF0YVR5cGUsXG4gICAgICAgICAgICAgICAgW3VzZXJUeXBlXTogbmV3VXNlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTVUJUQVNLXG4gICAgaWYgKGVudGl0eVR5cGUgPT09IFVzZXJBc3NpZ25lckVudGl0eVR5cGUuU1VCVEFTSykge1xuICAgICAgICBjb25zdCBzdWJ0YXNrSW5kZXggPSBjYWNoZS5zdWJ0YXNrcy5maW5kSW5kZXgoXG4gICAgICAgICAgICBzdWJ0YXNrID0+IE51bWJlcihzdWJ0YXNrLl9pZCkgPT09IE51bWJlcihlbnRpdHlJZClcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBuZXh0VXNlcnMgPSBjYWNoZS5zdWJ0YXNrc1tzdWJ0YXNrSW5kZXhdWydjb2xsYWJvcmF0b3JzJ11cbiAgICAgICAgbmV4dFVzZXJzLnB1c2gobmV3VXNlcilcblxuICAgICAgICBjb25zdCBuZXdTdWJ0YXNrcyA9IFsuLi5jYWNoZS5zdWJ0YXNrc11cbiAgICAgICAgbmV3U3VidGFza3Nbc3VidGFza0luZGV4XVsnY29sbGFib3JhdG9ycyddID0gbmV4dFVzZXJzXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmNhY2hlLFxuICAgICAgICAgICAgc3VidGFza3M6IG5ld1N1YnRhc2tzLFxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRGF0YVJlbW92ZShcbiAgICBjYWNoZSxcbiAgICBlbnRpdHlUeXBlLFxuICAgIHVzZXJUeXBlLFxuICAgIG5ld1VzZXIsXG4gICAgZW50aXR5SWRcbikge1xuICAgIC8vIFRBU0tcbiAgICBpZiAoZW50aXR5VHlwZSA9PT0gVXNlckFzc2lnbmVyRW50aXR5VHlwZS5UQVNLKSB7XG4gICAgICAgIGNvbnN0IGRhdGFUeXBlID0gY2FjaGVbZW50aXR5VHlwZV1cbiAgICAgICAgbGV0IG5leHRVc2VycyA9IGRhdGFUeXBlW3VzZXJUeXBlXVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRVc2VycykpIHtcbiAgICAgICAgICAgIG5leHRVc2VycyA9IG5leHRVc2Vycy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgdSA9PiBOdW1iZXIodS5pZCkgIT09IE51bWJlcihuZXdVc2VyLmlkKVxuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmNhY2hlLFxuICAgICAgICAgICAgICAgIFtlbnRpdHlUeXBlXToge1xuICAgICAgICAgICAgICAgICAgICAuLi5kYXRhVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgW3VzZXJUeXBlXTogbmV4dFVzZXJzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2VudGl0eVR5cGVdOiB7XG4gICAgICAgICAgICAgICAgLi4uZGF0YVR5cGUsXG4gICAgICAgICAgICAgICAgW3VzZXJUeXBlXTogbnVsbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTVUJUQVNLXG4gICAgaWYgKGVudGl0eVR5cGUgPT09IFVzZXJBc3NpZ25lckVudGl0eVR5cGUuU1VCVEFTSykge1xuICAgICAgICBjb25zdCBzdWJ0YXNrSW5kZXggPSBjYWNoZS5zdWJ0YXNrcy5maW5kSW5kZXgoXG4gICAgICAgICAgICBzdWJ0YXNrID0+IE51bWJlcihzdWJ0YXNrLl9pZCkgPT09IE51bWJlcihlbnRpdHlJZClcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBuZXh0VXNlcnMgPSBjYWNoZS5zdWJ0YXNrc1tzdWJ0YXNrSW5kZXhdWydjb2xsYWJvcmF0b3JzJ10uZmlsdGVyKFxuICAgICAgICAgICAgYyA9PiBOdW1iZXIoYy5pZCkgIT09IE51bWJlcihuZXdVc2VyLmlkKVxuICAgICAgICApXG5cbiAgICAgICAgY29uc3QgbmV3U3VidGFza3MgPSBbLi4uY2FjaGUuc3VidGFza3NdXG4gICAgICAgIG5ld1N1YnRhc2tzW3N1YnRhc2tJbmRleF1bJ2NvbGxhYm9yYXRvcnMnXSA9IG5leHRVc2Vyc1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jYWNoZSxcbiAgICAgICAgICAgIHN1YnRhc2tzOiBuZXdTdWJ0YXNrcyxcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZU1heFlGb3JUb29sdGlwKHksIHRvb2x0aXBIZWlnaHQpIHtcbiAgICBjb25zdCB3aW4gPSB3aW5kb3csXG4gICAgICAgIGRvYyA9IGRvY3VtZW50LFxuICAgICAgICBkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgYm9keSA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdXG5cbiAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9XG4gICAgICAgIHdpbi5pbm5lckhlaWdodCB8fCBkb2NFbGVtLmNsaWVudEhlaWdodCB8fCBib2R5LmNsaWVudEhlaWdodFxuXG4gICAgaWYgKHkgPiB2aWV3cG9ydEhlaWdodCAtIHRvb2x0aXBIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHZpZXdwb3J0SGVpZ2h0IC0gdG9vbHRpcEhlaWdodFxuICAgIH1cblxuICAgIHJldHVybiB5XG59XG5cblxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZU1heFlGb3JNb2RhbCA9ICh0b3AsIG9mZnNldFksIGhlaWdodCkgPT4ge1xuICAgIGNvbnN0IGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXVxuICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY0VsZW0uY2xpZW50SGVpZ2h0IHx8IGJvZHkuY2xpZW50SGVpZ2h0XG4gICAgY29uc3QgYmFja3VwT2Zmc2V0ID0gMTAwXG5cbiAgICBpZiAodG9wID4gdmlld3BvcnRIZWlnaHQgLSBiYWNrdXBPZmZzZXQgLSBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIG9mZnNldFkgKiAxLjUgLSBoZWlnaHRcbiAgICB9XG5cbiAgICByZXR1cm4gb2Zmc2V0WVxufSJdLCJtYXBwaW5ncyI6InM1Q0FHQSxHQUFNQSxXQUFVLENBQUcsR0FBRyxDQUVmLFFBQVNDLHNCQUFxQixDQUFDQyxDQUFJLENBQUUsQ0FDeEMsR0FBSUMsS0FBSyxDQUFDQyxPQUFPLENBQUNGLENBQUksQ0FBQyxDQUFFLENBQ3JCLEdBQW9CLENBQUMsR0FBakJBLENBQUksQ0FBQ0csTUFBWSxDQUNqQixNQUFPLENBQ0hDLElBQUksQ0FBRUMsMENBQXNCLENBQUNDLFdBQ2pDLENBQUMsQ0FHTCxHQUFvQixDQUFDLEdBQWpCTixD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