"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.CalendarIntegration=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=require("react"),_moment=_interopRequireDefault(require("moment")),_ChevronUp=require("@projectcor/icons/lib/components/ChevronUp"),_ChevronDown=require("@projectcor/icons/lib/components/ChevronDown"),_colors=_interopRequireDefault(require("@projectcor/theme/lib/base/colors")),_style=require("./style"),_calendar=require("./calendar"),_jsxRuntime=require("react/jsx-runtime");function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){(0,_defineProperty2.default)(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}var CalendarIntegration=function(a){var b=a.language,c=void 0===b?"en":b,d=a.showDaysAgo,e=void 0===d?30:d,f=a.selected,g=void 0===f?"":f,h=a.pointData,i=void 0===h?[{date:""}]:h,j=a.onSelectedDay,k=void 0===j?function(){}:j,l=a.setOpenCalendarState,m=void 0===l?function(){}:l,n=a.legend,o=a.amplitudEventOpenDatePicker,p=void 0===o?function(){}:o;_moment.default.locale(c);var q=(0,_react.useState)(!1),r=(0,_slicedToArray2.default)(q,2),s=r[0],t=r[1],u=(0,_react.useState)({}),v=(0,_slicedToArray2.default)(u,2),w=v[0],x=v[1],y=(0,_react.useState)(""),z=(0,_slicedToArray2.default)(y,2),A=z[0],B=z[1],C=(0,_react.useState)(""),D=(0,_slicedToArray2.default)(C,2),E=D[0],F=D[1];(0,_react.useEffect)(function(){var a=g?(0,_moment.default)(g):(0,_moment.default)();x(a),B((0,_moment.default)(a).get("year").toString()),F((0,_moment.default)(a,c).format("ddd, MMM DD"))},[]);var G=(0,_moment.default)().subtract(e,"days"),H={width:"14px",height:"14px",color:_colors.default.white.main};return(0,_jsxRuntime.jsxs)(_style.SCCIWrapper,{children:[(0,_jsxRuntime.jsxs)(_style.SCCIWrapperHeader,{onClick:function handleOpenCalendar(){m(!s),t(!s),p()},children:[(0,_jsxRuntime.jsxs)(_style.SCCIWrapperDate,{children:[(0,_jsxRuntime.jsx)(_style.SCCIYear,{children:A}),(0,_jsxRuntime.jsx)(_style.SCCIDate,{children:E})]}),s?(0,_jsxRuntime.jsx)(_ChevronUp.ChevronUp,_objectSpread({},H)):(0,_jsxRuntime.jsx)(_ChevronDown.ChevronDown,_objectSpread({},H))]}),s&&(0,_jsxRuntime.jsx)(_calendar.Calendar,{locale:c,dayValue:w,handleChangeDate:function handleChangeDate(a){x((0,_moment.default)(a)),s&&t(!1),m(!1),k(a)},oneMonthAgo:G,pointData:i,legend:n})]})};exports.CalendarIntegration=CalendarIntegration;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDYWxlbmRhckludGVncmF0aW9uIiwibGFuZ3VhZ2UiLCJzaG93RGF5c0FnbyIsInNlbGVjdGVkIiwicG9pbnREYXRhIiwiZGF0ZSIsIm9uU2VsZWN0ZWREYXkiLCJzZXRPcGVuQ2FsZW5kYXJTdGF0ZSIsImxlZ2VuZCIsImFtcGxpdHVkRXZlbnRPcGVuRGF0ZVBpY2tlciIsIm1vbWVudCIsImxvY2FsZSIsInVzZVN0YXRlIiwib3BlbkNhbGVuZGFyIiwic2V0T3BlbkNhbGVuZGFyIiwiZGF5VmFsdWUiLCJzZXREYXlWYWx1ZSIsInllYXIiLCJzZXRZZWFyIiwic2V0RGF0ZSIsInVzZUVmZmVjdCIsImRheSIsImdldCIsInRvU3RyaW5nIiwiZm9ybWF0Iiwib25lTW9udGhBZ28iLCJzdWJ0cmFjdCIsImljb25TdHlsZXMiLCJ3aWR0aCIsImhlaWdodCIsImNvbG9yIiwiQ29sb3JzIiwid2hpdGUiLCJtYWluIiwiaGFuZGxlT3BlbkNhbGVuZGFyIiwiaGFuZGxlQ2hhbmdlRGF0ZSIsIm11aURhdGUiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9jYWxlbmRhci1pbnRlZ3JhdGlvbi9DYWxlbmRhckludGVncmF0aW9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIFJlYWN0RWxlbWVudCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IE1hdGVyaWFsVWlQaWNrZXJzRGF0ZSB9IGZyb20gJ0BtYXRlcmlhbC11aS9waWNrZXJzL3R5cGluZ3MvZGF0ZSdcbmltcG9ydCBtb21lbnQsIHsgTW9tZW50IH0gZnJvbSAnbW9tZW50J1xuaW1wb3J0IHsgQ2hldnJvblVwIH0gZnJvbSAnQHByb2plY3Rjb3IvaWNvbnMvbGliL2NvbXBvbmVudHMvQ2hldnJvblVwJ1xuaW1wb3J0IHsgQ2hldnJvbkRvd24gfSBmcm9tICdAcHJvamVjdGNvci9pY29ucy9saWIvY29tcG9uZW50cy9DaGV2cm9uRG93bidcbmltcG9ydCBDb2xvcnMgZnJvbSAnQHByb2plY3Rjb3IvdGhlbWUvbGliL2Jhc2UvY29sb3JzJ1xuaW1wb3J0IHsgQ2FsZW5kYXJJbnRlZ3JhdGlvblByb3BzIH0gZnJvbSAnLi9DYWxlbmRhckludGVncmF0aW9uLmludGVyZmFjZSdcbmltcG9ydCB7IFNDQ0lXcmFwcGVyLCBTQ0NJV3JhcHBlckhlYWRlciwgU0NDSVllYXIsIFNDQ0lEYXRlLCBTQ0NJV3JhcHBlckRhdGUgfSBmcm9tICcuL3N0eWxlJ1xuaW1wb3J0IHsgQ2FsZW5kYXIgfSBmcm9tICcuL2NhbGVuZGFyJ1xuXG5leHBvcnQgY29uc3QgQ2FsZW5kYXJJbnRlZ3JhdGlvbiA9ICh7XG4gIGxhbmd1YWdlID0gJ2VuJyxcbiAgc2hvd0RheXNBZ28gPSAzMCxcbiAgc2VsZWN0ZWQgPSAnJyxcbiAgcG9pbnREYXRhID0gW3sgZGF0ZTogJycgfV0sXG4gIG9uU2VsZWN0ZWREYXkgPSAoKSA9PiB1bmRlZmluZWQsXG4gIHNldE9wZW5DYWxlbmRhclN0YXRlID0gKCkgPT4gdW5kZWZpbmVkLFxuICBsZWdlbmQsXG4gIGFtcGxpdHVkRXZlbnRPcGVuRGF0ZVBpY2tlciA9ICgpID0+IHVuZGVmaW5lZCxcbn06IENhbGVuZGFySW50ZWdyYXRpb25Qcm9wcyk6IFJlYWN0RWxlbWVudCA9PiB7XG4gIG1vbWVudC5sb2NhbGUobGFuZ3VhZ2UpXG4gIGNvbnN0IFtvcGVuQ2FsZW5kYXIsIHNldE9wZW5DYWxlbmRhcl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2RheVZhbHVlLCBzZXREYXlWYWx1ZV0gPSB1c2VTdGF0ZSh7fSBhcyBNb21lbnQpXG4gIGNvbnN0IFt5ZWFyLCBzZXRZZWFyXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbZGF0ZSwgc2V0RGF0ZV0gPSB1c2VTdGF0ZSgnJylcblxuICBjb25zdCBGT1JNQVRfREFURSA9ICdkZGQsIE1NTSBERCdcblxuICBjb25zdCBoYW5kbGVPcGVuQ2FsZW5kYXIgPSAoKTogdm9pZCA9PiB7XG4gICAgc2V0T3BlbkNhbGVuZGFyU3RhdGUoIW9wZW5DYWxlbmRhcilcbiAgICBzZXRPcGVuQ2FsZW5kYXIoIW9wZW5DYWxlbmRhcilcbiAgICBhbXBsaXR1ZEV2ZW50T3BlbkRhdGVQaWNrZXIoKVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBkYXkgPSBzZWxlY3RlZCA/IG1vbWVudChzZWxlY3RlZCkgOiBtb21lbnQoKVxuICAgIHNldERheVZhbHVlKGRheSlcbiAgICBzZXRZZWFyKG1vbWVudChkYXkpLmdldCgneWVhcicpLnRvU3RyaW5nKCkpXG4gICAgc2V0RGF0ZShtb21lbnQoZGF5LCBsYW5ndWFnZSkuZm9ybWF0KEZPUk1BVF9EQVRFKSlcbiAgfSwgW10pXG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlRGF0ZSA9IChtdWlEYXRlOiBNYXRlcmlhbFVpUGlja2Vyc0RhdGUpOiB2b2lkID0+IHtcbiAgICBzZXREYXlWYWx1ZShtb21lbnQobXVpRGF0ZSkpXG4gICAgb3BlbkNhbGVuZGFyICYmIHNldE9wZW5DYWxlbmRhcihmYWxzZSlcbiAgICBzZXRPcGVuQ2FsZW5kYXJTdGF0ZShmYWxzZSlcbiAgICBvblNlbGVjdGVkRGF5KG11aURhdGUpXG4gIH1cblxuICBjb25zdCBvbmVNb250aEFnbyA9IG1vbWVudCgpLnN1YnRyYWN0KHNob3dEYXlzQWdvLCAnZGF5cycpXG5cbiAgY29uc3QgaWNvblN0eWxlcyA9IHtcbiAgICB3aWR0aDogJzE0cHgnLFxuICAgIGhlaWdodDogJzE0cHgnLFxuICAgIGNvbG9yOiBDb2xvcnMud2hpdGUubWFpbixcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFNDQ0lXcmFwcGVyPlxuICAgICAgPFNDQ0lXcmFwcGVySGVhZGVyIG9uQ2xpY2s9e2hhbmRsZU9wZW5DYWxlbmRhcn0+XG4gICAgICAgIDxTQ0NJV3JhcHBlckRhdGU+XG4gICAgICAgICAgPFNDQ0lZZWFyPnt5ZWFyfTwvU0NDSVllYXI+XG4gICAgICAgICAgPFNDQ0lEYXRlPntkYXRlfTwvU0NDSURhdGU+XG4gICAgICAgIDwvU0NDSVdyYXBwZXJEYXRlPlxuICAgICAgICB7b3BlbkNhbGVuZGFyID8gPENoZXZyb25VcCB7Li4uaWNvblN0eWxlc30gLz4gOiA8Q2hldnJvbkRvd24gey4uLmljb25TdHlsZXN9IC8+fVxuICAgICAgPC9TQ0NJV3JhcHBlckhlYWRlcj5cbiAgICAgIHtvcGVuQ2FsZW5kYXIgJiYgKFxuICAgICAgICA8Q2FsZW5kYXJcbiAgICAgICAgICBsb2NhbGU9e2xhbmd1YWdlfVxuICAgICAgICAgIGRheVZhbHVlPXtkYXlWYWx1ZX1cbiAgICAgICAgICBoYW5kbGVDaGFuZ2VEYXRlPXtoYW5kbGVDaGFuZ2VEYXRlfVxuICAgICAgICAgIG9uZU1vbnRoQWdvPXtvbmVNb250aEFnb31cbiAgICAgICAgICBwb2ludERhdGE9e3BvaW50RGF0YX1cbiAgICAgICAgICBsZWdlbmQ9e2xlZ2VuZH1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9TQ0NJV3JhcHBlcj5cbiAgKVxufVxuIl0sIm1hcHBpbmdzIjoiKzFDQVVPLEdBQU1BLG9CQUFtQixDQUFHLFdBU1csU0FSNUNDLFFBQVEsQ0FBUkEsQ0FBUSxZQUFHLElBQUksT0FDZkMsV0FBVyxDQUFYQSxDQUFXLFlBQUcsRUFBRSxPQUNoQkMsUUFBUSxDQUFSQSxDQUFRLFlBQUcsRUFBRSxPQUNiQyxTQUFTLENBQVRBLENBQVMsWUFBRyxDQUFDLENBQUVDLElBQUksQ0FBRSxFQUFHLENBQUMsQ0FBQyxPQUMxQkMsYUFBYSxDQUFiQSxDQUFhLFlBQUcsWUFBZSxPQUMvQkMsb0JBQW9CLENBQXBCQSxDQUFvQixZQUFHLFlBQWUsR0FDdENDLENBQU0sR0FBTkEsTUFBTSxLQUNOQywyQkFBMkIsQ0FBM0JBLENBQTJCLFlBQUcsWUFBZSxHQUU3Q0MsZUFBTSxDQUFDQyxNQUFNLENBQUNWLENBQVEsQ0FBQyxPQUNpQixHQUFBVyxlQUFRLEtBQU8sb0NBQWhEQyxDQUFZLE1BQUVDLENBQWUsUUFDSixHQUFBRixlQUFRLEVBQUMsQ0FBQyxDQUFDLENBQVcsb0NBQS9DRyxDQUFRLE1BQUVDLENBQVcsUUFDSixHQUFBSixlQUFRLEVBQUMsRUFBRSxDQUFDLG9DQUE3QkssQ0FBSSxNQUFFQyxDQUFPLFFBQ0ksR0FBQU4sZUFBUSxFQUFDLEVBQUUsQ0FBQyxvQ0FBN0JQLENBQUksTUFBRWMsQ0FBTyxNQVVwQixHQUFBQyxnQkFBUyxFQUFDLFVBQU0sQ0FDZCxHQUFNQyxFQUFHLENBQUdsQixDQUFRLENBQUcsR0FBQU8sZUFBTSxFQUFDUCxDQUFRLENBQUMsQ0FBRyxHQUFBTyxlQUFNLEdBQUUsQ0FDbERNLENBQVcsQ0FBQ0ssQ0FBRyxDQUFDLENBQ2hCSCxDQUFPLENBQUMsR0FBQVIsZUFBTSxFQUFDVyxDQUFHLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDQyxRQUFRLEVBQUUsQ0FBQyxDQUMzQ0osQ0FBTyxDQUFDLEdBQUFULGVBQU0sRUFBQ1csQ0FBRyxDQUFFcEIsQ0FBUSxDQUFDLENBQUN1QixNQUFNLENBWmxCLGFBQWEsQ0FZa0IsQ0FDbkQsQ0FBQyxDQUFFLEVBQUUsQ0FBQyxJQVNBQyxFQUFXLENBQUcsR0FBQWYsZUFBTSxHQUFFLENBQUNnQixRQUFRLENBQUN4QixDQUFXLENBQUUsTUFBTSxDQUFDLENBRXBEeUIsQ0FBVSxDQUFHLENBQ2pCQyxLQUFLLENBQUUsTUFBTSxDQUNiQyxNQUFNLENBQUUsTUFBTSxDQUNkQyxLQUFLLENBQUVDLGVBQU0sQ0FBQ0MsS0FBSyxDQUFDQyxJQUN0QixDQUFDLENBRUQsTUFDRSxxQkFBQyxrQkFBVyxZQUNWLHFCQUFDLHdCQUFpQixFQUFDLE9BQU8sQ0E5QkgsUUFBckJDLG1CQUFrQixFQUFlLENBQ3JDM0IsQ0FBb0IsQ0FBQyxDQUFDTSxDQUFZLENBQUMsQ0FDbkNDLENBQWUsQ0FBQyxDQUFDRCxDQUFZLENBQUMsQ0FDOUJKLENBQTJCLEVBQzdCLENBMEJtRCxXQUM3QyxxQkFBQyxzQkFBZSxZQUNkLG9CQUFDLGVBQVEsV0FBRVEsQ0FBSSxFQUFZLENBQzNCLG9CQUFDLGVBQVEsV0FBRVosQ0FBSSxFQUFZLEdBQ1gsQ0FDakJRLENBQVksQ0FBRyxvQkFBQyxvQkFBUyxrQkFBS2MsQ0FBVSxFQUFJLENBQUcsb0JBQUMsd0JBQVcsa0JBQUtBLENBQVUsRUFBSSxHQUM3RCxDQUNuQmQsQ0FBWSxFQUNYLG9CQUFDLGtCQUFRLEVBQ1AsTUFBTSxDQUFFWixDQUFTLENBQ2pCLFFBQVEsQ0FBRWMsQ0FBUyxDQUNuQixnQkFBZ0IsQ0E1QkMsUUFBbkJvQixpQkFBZ0IsQ0FBSUMsQ0FBOEIsQ0FBVyxDQUNqRXBCLENBQVcsQ0FBQyxHQUFBTixlQUFNLEVBQUMwQixDQUFPLENBQUMsQ0FBQyxDQUM1QnZCLENBQVksRUFBSUMsQ0FBZSxJQUFPLENBQ3RDUCxDQUFvQixJQUFPLENBQzNCRCxDQUFhLENBQUM4QixDQUFPLENBQ3ZCLENBdUIyQyxDQUNuQyxXQUFXLENBQUVYLENBQVksQ0FDekIsU0FBUyxDQUFFckIsQ0FBVSxDQUNyQixNQUFNLENBQUVJLENBQU8sRUFFbEIsR0FHUCxDQUFDIn0=