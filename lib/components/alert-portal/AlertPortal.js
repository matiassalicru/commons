"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.AlertPortal=AlertPortal;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_react=require("react"),_reactDom=_interopRequireDefault(require("react-dom")),_reactRouterDom=require("react-router-dom"),_svgIcon=require("../svg-icon"),_SpinnerLottie=require("../spinner-lottie/SpinnerLottie"),_style=require("./style"),_AltertPortal=require("./AltertPortal.interface"),_jsxRuntime=require("react/jsx-runtime");function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){(0,_defineProperty2.default)(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}var OFFSET=30,TRANSITION={duration:.5},fromBottom={initial:{opacity:0,y:30},animate:{opacity:1,y:0,transition:_objectSpread({},TRANSITION)},exit:{opacity:0,y:30,transition:_objectSpread({},TRANSITION)}},fromRight={initial:{opacity:0,x:30},animate:{opacity:1,x:0,transition:_objectSpread({},TRANSITION)},exit:{opacity:0,x:30,transition:_objectSpread({},TRANSITION)}},defaultProps={position:_AltertPortal.PositionType.centerBottom,text:"",variant:_AltertPortal.VariantType.success,icon:"",timeOut:3500,onClose:function onClose(){},idPortal:"alerts-portal",spinner:!1,withLink:{title:"",route:""}},Alert=function(a){var b=a.position,c=a.text,d=a.variant,e=a.icon,f=a.timeOut,g=a.onClose,h=a.spinner,i=a.withLink;(0,_react.useEffect)(function(){setTimeout(function(){g()},f)},[g,f]);var j=b===_AltertPortal.PositionType.centerBottom?fromBottom:fromRight,k=(0,_reactRouterDom.useHistory)(),l=(0,_react.useCallback)(function(){i&&k.push(i.route)},[k,i]);return(0,_jsxRuntime.jsx)(_style.SCWrapper,{position:b,"data-testid":"AlertPortalWrapper",children:(0,_jsxRuntime.jsxs)(_style.SCAlert,{initial:"initial",animate:"animate",exit:"exit",variants:j,variant:d,children:[e&&(0,_jsxRuntime.jsx)(_svgIcon.SvgIcon,{iconName:e}),h&&(0,_jsxRuntime.jsx)(_SpinnerLottie.SpinnerLottie,{width:25,height:20,type:"cor-grey"}),(0,_jsxRuntime.jsx)("span",{children:c}),(0,_jsxRuntime.jsx)(_style.SCAlertRedirect,{onClick:l,children:i?i.title:""})]})})};function AlertPortal(a){var b=a.idPortal,c=document.querySelector("#".concat(b));return c?_reactDom.default.createPortal((0,_jsxRuntime.jsx)(Alert,_objectSpread({},a)),c):null}AlertPortal.defaultProps=defaultProps;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPRkZTRVQiLCJUUkFOU0lUSU9OIiwiZHVyYXRpb24iLCJmcm9tQm90dG9tIiwiaW5pdGlhbCIsIm9wYWNpdHkiLCJ5IiwiYW5pbWF0ZSIsInRyYW5zaXRpb24iLCJleGl0IiwiZnJvbVJpZ2h0IiwieCIsImRlZmF1bHRQcm9wcyIsInBvc2l0aW9uIiwiUG9zaXRpb25UeXBlIiwiY2VudGVyQm90dG9tIiwidGV4dCIsInZhcmlhbnQiLCJWYXJpYW50VHlwZSIsInN1Y2Nlc3MiLCJpY29uIiwidGltZU91dCIsIm9uQ2xvc2UiLCJpZFBvcnRhbCIsInNwaW5uZXIiLCJ3aXRoTGluayIsInRpdGxlIiwicm91dGUiLCJBbGVydCIsInVzZUVmZmVjdCIsInNldFRpbWVvdXQiLCJpblBvc2l0aW9uIiwiaGlzdG9yeSIsInVzZUhpc3RvcnkiLCJoYW5kbGVSZWRpcmVjdCIsInVzZUNhbGxiYWNrIiwicHVzaCIsIkFsZXJ0UG9ydGFsIiwicHJvcHMiLCJzZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlJlYWN0RE9NIiwiY3JlYXRlUG9ydGFsIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvYWxlcnQtcG9ydGFsL0FsZXJ0UG9ydGFsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdFBvcnRhbCwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuXG4vLyBHbG9iYWwgVUkgQ29tcG9uZW50XG5pbXBvcnQgeyBTdmdJY29uIH0gZnJvbSAnLi4vc3ZnLWljb24nXG5pbXBvcnQgeyBTcGlubmVyTG90dGllIH0gZnJvbSAnLi4vc3Bpbm5lci1sb3R0aWUvU3Bpbm5lckxvdHRpZSdcbi8vIFN0eWxlc1xuaW1wb3J0IHsgU0NXcmFwcGVyLCBTQ0FsZXJ0LCBTQ0FsZXJ0UmVkaXJlY3QgfSBmcm9tICcuL3N0eWxlJ1xuLy8gSW50ZXJmYWNlXG5pbXBvcnQgeyBBbGVydFBvcnRhbFByb3BzLCBWYXJpYW50VHlwZSwgUG9zaXRpb25UeXBlIH0gZnJvbSAnLi9BbHRlcnRQb3J0YWwuaW50ZXJmYWNlJ1xuXG5jb25zdCBPRkZTRVQgPSAzMFxuY29uc3QgVFJBTlNJVElPTiA9IHsgZHVyYXRpb246IDAuNSB9XG5cbmNvbnN0IGZyb21Cb3R0b20gPSB7XG4gIGluaXRpYWw6IHtcbiAgICBvcGFjaXR5OiAwLFxuICAgIHk6IE9GRlNFVCxcbiAgfSxcbiAgYW5pbWF0ZToge1xuICAgIG9wYWNpdHk6IDEsXG4gICAgeTogMCxcbiAgICB0cmFuc2l0aW9uOiB7IC4uLlRSQU5TSVRJT04gfSxcbiAgfSxcbiAgZXhpdDoge1xuICAgIG9wYWNpdHk6IDAsXG4gICAgeTogT0ZGU0VULFxuICAgIHRyYW5zaXRpb246IHsgLi4uVFJBTlNJVElPTiB9LFxuICB9LFxufVxuXG5jb25zdCBmcm9tUmlnaHQgPSB7XG4gIGluaXRpYWw6IHtcbiAgICBvcGFjaXR5OiAwLFxuICAgIHg6IE9GRlNFVCxcbiAgfSxcbiAgYW5pbWF0ZToge1xuICAgIG9wYWNpdHk6IDEsXG4gICAgeDogMCxcbiAgICB0cmFuc2l0aW9uOiB7IC4uLlRSQU5TSVRJT04gfSxcbiAgfSxcbiAgZXhpdDoge1xuICAgIG9wYWNpdHk6IDAsXG4gICAgeDogT0ZGU0VULFxuICAgIHRyYW5zaXRpb246IHsgLi4uVFJBTlNJVElPTiB9LFxuICB9LFxufVxuXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIHBvc2l0aW9uOiBQb3NpdGlvblR5cGUuY2VudGVyQm90dG9tLFxuICB0ZXh0OiAnJyxcbiAgdmFyaWFudDogVmFyaWFudFR5cGUuc3VjY2VzcyxcbiAgaWNvbjogJycsXG4gIHRpbWVPdXQ6IDM1MDAsXG4gIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAvLyBDbG9zZSBmdW5jdGlvbiBkZWZhdWx0IHByb3AuXG4gIH0sXG4gIGlkUG9ydGFsOiAnYWxlcnRzLXBvcnRhbCcsXG4gIHNwaW5uZXI6IGZhbHNlLFxuICB3aXRoTGluazogeyB0aXRsZTogJycsIHJvdXRlOiAnJyB9LFxufSBhcyBBbGVydFBvcnRhbFByb3BzXG5cbmNvbnN0IEFsZXJ0ID0gKHsgcG9zaXRpb24sIHRleHQsIHZhcmlhbnQsIGljb24sIHRpbWVPdXQsIG9uQ2xvc2UsIHNwaW5uZXIsIHdpdGhMaW5rIH06IEFsZXJ0UG9ydGFsUHJvcHMpID0+IHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG9uQ2xvc2UoKVxuICAgIH0sIHRpbWVPdXQpXG4gIH0sIFtvbkNsb3NlLCB0aW1lT3V0XSlcblxuICBjb25zdCBpblBvc2l0aW9uID0gcG9zaXRpb24gPT09IFBvc2l0aW9uVHlwZS5jZW50ZXJCb3R0b20gPyBmcm9tQm90dG9tIDogZnJvbVJpZ2h0XG4gIGNvbnN0IGhpc3RvcnkgPSB1c2VIaXN0b3J5KClcblxuICBjb25zdCBoYW5kbGVSZWRpcmVjdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAod2l0aExpbmspIGhpc3RvcnkucHVzaCh3aXRoTGluay5yb3V0ZSlcbiAgfSwgW2hpc3RvcnksIHdpdGhMaW5rXSlcblxuICByZXR1cm4gKFxuICAgIDxTQ1dyYXBwZXIgcG9zaXRpb249e3Bvc2l0aW9ufSBkYXRhLXRlc3RpZD1cIkFsZXJ0UG9ydGFsV3JhcHBlclwiPlxuICAgICAgPFNDQWxlcnQgaW5pdGlhbD1cImluaXRpYWxcIiBhbmltYXRlPVwiYW5pbWF0ZVwiIGV4aXQ9XCJleGl0XCIgdmFyaWFudHM9e2luUG9zaXRpb259IHZhcmlhbnQ9e3ZhcmlhbnR9PlxuICAgICAgICB7aWNvbiAmJiA8U3ZnSWNvbiBpY29uTmFtZT17aWNvbn0gLz59XG4gICAgICAgIHtzcGlubmVyICYmIDxTcGlubmVyTG90dGllIHdpZHRoPXsyNX0gaGVpZ2h0PXsyMH0gdHlwZT1cImNvci1ncmV5XCIgLz59XG4gICAgICAgIDxzcGFuPnt0ZXh0fTwvc3Bhbj5cbiAgICAgICAgPFNDQWxlcnRSZWRpcmVjdCBvbkNsaWNrPXtoYW5kbGVSZWRpcmVjdH0+e3dpdGhMaW5rID8gd2l0aExpbmsudGl0bGUgOiAnJ308L1NDQWxlcnRSZWRpcmVjdD5cbiAgICAgIDwvU0NBbGVydD5cbiAgICA8L1NDV3JhcHBlcj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQWxlcnRQb3J0YWwocHJvcHM6IEFsZXJ0UG9ydGFsUHJvcHMpOiBSZWFjdFBvcnRhbCB8IG51bGwge1xuICBjb25zdCB7IGlkUG9ydGFsIH0gPSBwcm9wc1xuICBjb25zdCBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkUG9ydGFsfWApXG4gIHJldHVybiBzZWxlY3RvciA/IFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCg8QWxlcnQgey4uLnByb3BzfSAvPiwgc2VsZWN0b3IpIDogbnVsbFxufVxuXG5BbGVydFBvcnRhbC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHNcbiJdLCJtYXBwaW5ncyI6Iml0Q0FZTUEsT0FBTSxDQUFHLEVBQUUsQ0FDWEMsVUFBVSxDQUFHLENBQUVDLFFBQVEsQ0FBRSxFQUFJLENBQUMsQ0FFOUJDLFVBQVUsQ0FBRyxDQUNqQkMsT0FBTyxDQUFFLENBQ1BDLE9BQU8sQ0FBRSxDQUFDLENBQ1ZDLENBQUMsR0FDSCxDQUFDLENBQ0RDLE9BQU8sQ0FBRSxDQUNQRixPQUFPLENBQUUsQ0FBQyxDQUNWQyxDQUFDLENBQUUsQ0FBQyxDQUNKRSxVQUFVLGtCQUFPUCxVQUFVLENBQzdCLENBQUMsQ0FDRFEsSUFBSSxDQUFFLENBQ0pKLE9BQU8sQ0FBRSxDQUFDLENBQ1ZDLENBQUMsR0FBUSxDQUNURSxVQUFVLGtCQUFPUCxVQUFVLENBQzdCLENBQ0YsQ0FBQyxDQUVLUyxTQUFTLENBQUcsQ0FDaEJOLE9BQU8sQ0FBRSxDQUNQQyxPQUFPLENBQUUsQ0FBQyxDQUNWTSxDQUFDLEdBQ0gsQ0FBQyxDQUNESixPQUFPLENBQUUsQ0FDUEYsT0FBTyxDQUFFLENBQUMsQ0FDVk0sQ0FBQyxDQUFFLENBQUMsQ0FDSkgsVUFBVSxrQkFBT1AsVUFBVSxDQUM3QixDQUFDLENBQ0RRLElBQUksQ0FBRSxDQUNKSixPQUFPLENBQUUsQ0FBQyxDQUNWTSxDQUFDLEdBQVEsQ0FDVEgsVUFBVSxrQkFBT1AsVUFBVSxDQUM3QixDQUNGLENBQUMsQ0FFS1csWUFBWSxDQUFHLENBQ25CQyxRQUFRLENBQUVDLDBCQUFZLENBQUNDLFlBQVksQ0FDbkNDLElBQUksQ0FBRSxFQUFFLENBQ1JDLE9BQU8sQ0FBRUMseUJBQVcsQ0FBQ0MsT0FBTyxDQUM1QkMsSUFBSSxDQUFFLEVBQUUsQ0FDUkMsT0FBTyxDQUFFLElBQUksQ0FDYkMsT0FBTyxDQUFFLGtCQUFNLENBRWYsQ0FBQyxDQUNEQyxRQUFRLENBQUUsZUFBZSxDQUN6QkMsT0FBTyxHQUFPLENBQ2RDLFFBQVEsQ0FBRSxDQUFFQyxLQUFLLENBQUUsRUFBRSxDQUFFQyxLQUFLLENBQUUsRUFBRyxDQUNuQyxDQUFxQixDQUVmQyxLQUFLLENBQUcsV0FBOEYsSUFBM0ZmLEVBQVEsR0FBUkEsUUFBUSxDQUFFRyxDQUFJLEdBQUpBLElBQUksQ0FBRUMsQ0FBTyxHQUFQQSxPQUFPLENBQUVHLENBQUksR0FBSkEsSUFBSSxDQUFFQyxDQUFPLEdBQVBBLE9BQU8sQ0FBRUMsQ0FBTyxHQUFQQSxPQUFPLENBQUVFLENBQU8sR0FBUEEsT0FBTyxDQUFFQyxDQUFRLEdBQVJBLFFBQVEsQ0FDakYsR0FBQUksZ0JBQVMsRUFBQyxVQUFNLENBQ2RDLFVBQVUsQ0FBQyxVQUFNLENBQ2ZSLENBQU8sRUFDVCxDQUFDLENBQUVELENBQU8sQ0FDWixDQUFDLENBQUUsQ0FBQ0MsQ0FBTyxDQUFFRCxDQUFPLENBQUMsQ0FBQyxJQUVoQlUsRUFBVSxDQUFHbEIsQ0FBUSxHQUFLQywwQkFBWSxDQUFDQyxZQUFZLENBQUdaLFVBQVUsQ0FBR08sU0FBUyxDQUM1RXNCLENBQU8sQ0FBRyxHQUFBQywwQkFBVSxHQUFFLENBRXRCQyxDQUFjLENBQUcsR0FBQUMsa0JBQVcsRUFBQyxVQUFNLENBQ25DVixDQUFRLEVBQUVPLENBQU8sQ0FBQ0ksSUFBSSxDQUFDWCxDQUFRLENBQUNFLEtBQUssQ0FDM0MsQ0FBQyxDQUFFLENBQUNLLENBQU8sQ0FBRVAsQ0FBUSxDQUFDLENBQUMsQ0FFdkIsTUFDRSxvQkFBQyxnQkFBUyxFQUFDLFFBQVEsQ0FBRVosQ0FBUyxDQUFDLGNBQVksb0JBQW9CLFVBQzdELHFCQUFDLGNBQU8sRUFBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUVrQixDQUFXLENBQUMsT0FBTyxDQUFFZCxDQUFRLFdBQzdGRyxDQUFJLEVBQUksb0JBQUMsZ0JBQU8sRUFBQyxRQUFRLENBQUVBLENBQUssRUFBRyxDQUNuQ0ksQ0FBTyxFQUFJLG9CQUFDLDRCQUFhLEVBQUMsS0FBSyxDQUFFLEVBQUcsQ0FBQyxNQUFNLENBQUUsRUFBRyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUcsQ0FDcEUscUNBQU9SLENBQUksRUFBUSxDQUNuQixvQkFBQyxzQkFBZSxFQUFDLE9BQU8sQ0FBRWtCLENBQWUsVUFBRVQsQ0FBUSxDQUFHQSxDQUFRLENBQUNDLEtBQUssQ0FBRyxFQUFFLEVBQW1CLEdBQ3BGLEVBR2hCLENBQUMsQ0FFTSxRQUFTVyxZQUFXLENBQUNDLENBQXVCLENBQXNCLElBQy9EZixFQUFRLENBQUtlLENBQUssQ0FBbEJmLFFBQVEsQ0FDVmdCLENBQVEsQ0FBR0MsUUFBUSxDQUFDQyxhQUFhLFlBQUtsQixDQUFRLEVBQUcsQ0FDdkQsTUFBT2dCLEVBQVEsQ0FBR0csaUJBQVEsQ0FBQ0MsWUFBWSxDQUFDLG9CQUFDLEtBQUssa0JBQUtMLENBQUssRUFBSSxDQUFFQyxDQUFRLENBQUMsQ0FBRyxJQUM1RSxDQUVBRixXQUFXLENBQUN6QixZQUFZLENBQUdBLFlBQVkifQ==