"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlayContainer=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=require("react"),_propTypes=_interopRequireDefault(require("prop-types")),_reactI18next=require("react-i18next"),_style=require("./style"),_play=require("../../../../play"),_alertPortal=require("../../../../alert-portal"),_play2=require("../../constants/play"),_status=require("../../constants/status"),_timeFromNow=_interopRequireDefault(require("../../../../../utils/timeFromNow")),_formatHours=_interopRequireDefault(require("../../../../../utils/formatHours")),_concatenatedStatus=_interopRequireDefault(require("../../../../../utils/concatenatedStatus")),_jsxRuntime=require("react/jsx-runtime");function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==(0,_typeof2.default)(a)&&"function"!=typeof a)return{default:a};var c=_getRequireWildcardCache(b);if(c&&c.has(a))return c.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!=f&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}return d.default=a,c&&c.set(a,d),d}var ModalPortal=(0,_react.lazy)(function(){return Promise.resolve().then(function(){return _interopRequireWildcard(require("../../../../modal-portal"))}).then(function(a){return{default:a.ModalPortal}})}),PlayContainer=function(a){var b=a.title,c=a.status,d=a.taskId,e=a.project,f=void 0===e?{}:e,g=a.getLinks,h=a.dataCounter,i=a.handleUpdate,j=a.thisTaskHasPlay,k=h.stop,l=h.start,m=h.playData,n=h.stopError,o=h.playError,p=h.handleDeleteHour,q={name:(null===f||void 0===f?void 0:f.name)||null,clientName:(null===f||void 0===f?void 0:f.client_name)||null,brandName:(null===f||void 0===f?void 0:f.brand_name)||null},r=(0,_react.useRef)(null),s=(0,_react.useState)(!1),u=(0,_slicedToArray2.default)(s,2),v=u[0],w=u[1],x=m.active,y=m.currentTime,z=m.counterId,A=(0,_react.useState)(!1),B=(0,_slicedToArray2.default)(A,2),C=B[0],D=B[1],E=(0,_react.useState)(!1),F=(0,_slicedToArray2.default)(E,2),G=F[0],H=F[1],I=(0,_react.useState)({}),J=(0,_slicedToArray2.default)(I,2),K=J[0],L=J[1],M=(0,_react.useState)({show:!1,message:""}),N=(0,_slicedToArray2.default)(M,2),O=N[0],P=N[1],Q=(0,_react.useState)(!1),R=(0,_slicedToArray2.default)(Q,2),S=R[0],T=R[1],U=(0,_reactI18next.useTranslation)(["modals","alerts","counter","tooltips","task_panel","new_hour_modal"]),V=U.t;(0,_react.useEffect)(function(){if(o)try{var a=document.querySelectorAll("[data-js='playIcon']:not([data-js-id='playTaskId".concat(d,"'])"));o.code===_play2.CT004_ERROR_PLAY&&(a.forEach(function(a){a.style.visibility="visible"}),P({show:!0,message:V("new_hour_modal:message_limit")})),o.code===_play2.CT008_ERROR_PLAY&&a.forEach(function(a){a.style.visibility="hidden"}),w(!1)}catch(a){P({show:!0,message:V("alerts:errorApi")})}},[o,r]),(0,_react.useEffect)(function(){if(null!==n&&void 0!==n&&n.message){try{var a=JSON.parse(n.message),b=null===a||void 0===a?void 0:a.code;b===_play2.CT004_ERROR_PLAY&&H(!0)}catch(a){P({show:!0,message:V("alerts:errorApi")})}w(!1)}},[n,r]);var t=(0,_react.useCallback)(function(){if(null!==n&&void 0!==n&&n.message)try{var a=JSON.parse(n.message),b=a.meta;b&&p(b.counterId)}catch(a){P({show:!0,message:V("alerts:errorApi")})}H(!1)},[n]),W=(0,_react.useCallback)(function(){if(null!==n&&void 0!==n&&n.message){var a=JSON.parse(n.message),b=null===a||void 0===a?void 0:a.meta;null!==b&&void 0!==b&&b.hoursCharged||p(b.counterId)}H(!1)},[n]),X=(0,_react.useCallback)(function(){var a=0,b=0;if(null!==n&&void 0!==n&&n.message){var c=JSON.parse(n.message),d=null===c||void 0===c?void 0:c.meta;if(d){var e=d.hoursCharged,f=d.hoursNotCharged;a=(0,_formatHours.default)(e),b=(0,_formatHours.default)(f)}}return{hoursCharged:a,hoursNotCharged:b}},[n]),Y=(0,_react.useCallback)(function(){H(!1)},[]),Z=(0,_react.useCallback)(function(){P({show:!1,message:""})},[]),$=function(){var a=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function a(){var e,f,h;return _regenerator.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=document.querySelectorAll("[data-js='playIcon']:not([data-js-id='playTaskId".concat(d,"'])")),w(!0),!j){a.next=6;break}D(!0),a.next=18;break;case 6:return a.prev=6,a.next=9,g();case 9:f=a.sent,h=f.data,L(h.taskLinks),c!==_status.STATUS_PROCESS&&(0,_concatenatedStatus.default)(h.taskLinks).hasDependencies?T(!0):(e.forEach(function(a){a.style.visibility="hidden"}),l({title:b,taskID:d,projectTimeKeeper:q},function(){w(!1)}),c!==_status.STATUS_PROCESS&&i({status:_status.STATUS_PROCESS})),a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](6),P({show:!0,message:V("alerts:errorApi")});case 18:case"end":return a.stop();}},a,null,[[6,15]])}));return function(){return a.apply(this,arguments)}}(),_=(0,_react.useCallback)(function(){T(!1),w(!1)},[r]),aa=(0,_react.useCallback)(function(){var a=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return{accept:V("".concat(a?"general_abm:save":"modals:accept")),cancel:V("".concat(a?"counter:delete_hour":"modals:cancel"))}},[]),ba=(0,_react.useCallback)(function(){var a=document.querySelectorAll("[data-js='playIcon']:not([data-js-id='playTaskId".concat(d,"'])"));a.forEach(function(a){a.style.visibility="visible"}),k({taskId:d,counterId:z,currentTime:y},function(){w(!1)}),D(!1)},[d,z,y,r]),ca=(0,_react.useCallback)(function(){D(!1),w(!1)},[r]);return(0,_jsxRuntime.jsxs)(_style.LYWrapper,{"data-js":"playIcon","data-js-id":"playTaskId".concat(d),isPlay:!(x&&j),showPlay:j||!x,children:[(0,_jsxRuntime.jsx)(_play.Play,{taskID:d,ref:r,hasMargin:!1,playVariant:"normal",isDisabled:v,handleClick:$,status:x&&j?_play2.STOP:_play2.PLAY,wordingTip:V("tooltips:".concat(x&&j?_play2.STOP:_play2.PLAY))}),(0,_jsxRuntime.jsxs)(_react.Suspense,{fallback:(0,_jsxRuntime.jsx)("div",{}),children:[C&&(0,_jsxRuntime.jsx)(ModalPortal,{variant:"normal",closeModal:ca,translations:aa(),clickButtonAccept:ba,clickButtonCancel:ca,title:V("modals:titleChargeHours"),elementId:"#modals-portal-taskpanel",textContent:V("modals:contentChargeHours",{timer:(0,_timeFromNow.default)(y),title:b})}),S&&(0,_jsxRuntime.jsx)(ModalPortal,{variant:"danger",closeModal:_,translations:aa(),clickButtonAccept:function handleAcceptConcatenate(){var a=document.querySelectorAll("[data-js='playIcon']:not([data-js-id='playTaskId".concat(d,"'])"));a.forEach(function(a){a.style.visibility="hidden"});var c=(0,_concatenatedStatus.default)(K);T(!1),l({title:b,taskID:d,projectTimeKeeper:q},function(){return w(!1)}),i({status:_status.STATUS_PROCESS,linkOption:{option:"delete_".concat(c.type,"_link"),filterByStatus:c.status,change_type:"status"}})},elementId:"#modals-portal-taskpanel",clickButtonCancel:_,title:V("task_panel:concatenated_dependencies_title_modal"),textContent:V("task_panel:concatenated_dependencies",{taskName:b}),children:(0,_jsxRuntime.jsx)("b",{children:V("task_panel:concatenated_dependencies_question_modal")})}),G&&(0,_jsxRuntime.jsx)(ModalPortal,{variant:"normal",clickButtonCancel:t,title:V("counter:hours_limit"),translations:aa(!0),elementId:"#modals-portal-taskpanel",closeModal:W,clickButtonAccept:Y,textContent:V("counter:message_limit",X())}),O.show&&(0,_jsxRuntime.jsx)(_alertPortal.AlertPortal,{position:"center-bottom",text:O.message,onClose:Z,variant:"danger",icon:"check",idPortal:"alerts-portal"})]})]})};exports.PlayContainer=PlayContainer,PlayContainer.propTypes={taskId:_propTypes.default.number.isRequired,project:_propTypes.default.object,getLinks:_propTypes.default.func.isRequired};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RhbFBvcnRhbCIsImxhenkiLCJ0aGVuIiwibW9kdWxlIiwiZGVmYXVsdCIsIlBsYXlDb250YWluZXIiLCJ0aXRsZSIsInN0YXR1cyIsInRhc2tJZCIsInByb2plY3QiLCJnZXRMaW5rcyIsImRhdGFDb3VudGVyIiwiaGFuZGxlVXBkYXRlIiwidGhpc1Rhc2tIYXNQbGF5Iiwic3RvcCIsInN0YXJ0IiwicGxheURhdGEiLCJzdG9wRXJyb3IiLCJwbGF5RXJyb3IiLCJoYW5kbGVEZWxldGVIb3VyIiwicHJvamVjdFRpbWVLZWVwZXIiLCJuYW1lIiwiY2xpZW50TmFtZSIsImNsaWVudF9uYW1lIiwiYnJhbmROYW1lIiwiYnJhbmRfbmFtZSIsIkJVVFRPTl9SRUYiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsImRpc2FibGVkIiwic2V0RGlzYWJsZWQiLCJhY3RpdmUiLCJjdXJyZW50VGltZSIsImNvdW50ZXJJZCIsInNob3dNb2RhbFN0b3AiLCJzZXRTaG93TW9kYWxTdG9wIiwic2hvd01vZGFsTWF4SG91ciIsInNldFNob3dNb2RhbE1heEhvdXIiLCJjb25jYXRlbmF0ZWREYXRhIiwic2V0Q29uY2F0ZW5hdGVkRGF0YSIsInNob3ciLCJtZXNzYWdlIiwic2hvd0Vycm9yIiwic2V0U2hvd0Vycm9yIiwic2hvd01vZGFsQ29uY2F0ZW5hdGUiLCJzZXRTaG93TW9kYWxDb25jYXRlbmF0ZSIsInVzZVRyYW5zbGF0aW9uIiwidCIsInVzZUVmZmVjdCIsImljb25zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29kZSIsIkNUMDA0X0VSUk9SX1BMQVkiLCJmb3JFYWNoIiwiZWxlbWVudCIsInN0eWxlIiwidmlzaWJpbGl0eSIsIkNUMDA4X0VSUk9SX1BMQVkiLCJlcnIiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsImRlbGV0ZUhvdXIiLCJ1c2VDYWxsYmFjayIsIm1ldGEiLCJoYW5kbGVDbG9zZU1vZGFsTWF4SG91ciIsImhvdXJzQ2hhcmdlZCIsImdldEhvdXJzV2l0aEZvcm1hdCIsImNoYXJnZWQiLCJub0NoYXJnZWQiLCJob3Vyc05vdENoYXJnZWQiLCJmb3JtYXRIb3Vyc01pbnV0ZXNXaXRoTGV0dGVyIiwiaGFuZGxlQWNjZXB0TW9kYWxNYXhIb3VyIiwiaGFuZGxlSGlkZUVycm9yIiwiaGFuZGxlQ2xpY2siLCJkYXRhIiwidGFza0xpbmtzIiwiU1RBVFVTX1BST0NFU1MiLCJ3YXJuQ29uY2F0ZW5hdGVkIiwiaGFzRGVwZW5kZW5jaWVzIiwidGFza0lEIiwiaGFuZGxlQ2xvc2VNb2RhbCIsInRyYW5zbGF0ZXNNb2RhbCIsIndvcmRpbmdDdXN0b20iLCJhY2NlcHQiLCJjYW5jZWwiLCJoYW5kbGVBY2NlcHRNb2RhbFN0b3AiLCJoYW5kbGVDbG9zZU1vZGFsU3RvcCIsIlNUT1AiLCJQTEFZIiwidGltZXIiLCJ0aW1lRnJvbU5vdyIsImhhbmRsZUFjY2VwdENvbmNhdGVuYXRlIiwiQ09OQ0FURU5BVEVEX1VUSUwiLCJsaW5rT3B0aW9uIiwib3B0aW9uIiwidHlwZSIsImZpbHRlckJ5U3RhdHVzIiwiY2hhbmdlX3R5cGUiLCJ0YXNrTmFtZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm51bWJlciIsImlzUmVxdWlyZWQiLCJvYmplY3QiLCJmdW5jIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvdGFzay1yb3cvc3JjL2NvbnRhaW5lcnMvUGxheS1vbGQvUGxheUNvbnRhaW5lci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VSZWYsIHVzZVN0YXRlLCBTdXNwZW5zZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgbGF6eSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuLy8gV29yZGluZ1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0J1xuLy8gU3R5bGVzXG5pbXBvcnQgeyBMWVdyYXBwZXIgfSBmcm9tICcuL3N0eWxlJ1xuLy8gR2xvYmFsIGNvbXBvbmVudHNcbmltcG9ydCB7IFBsYXkgfSBmcm9tICcuLi8uLi8uLi8uLi9wbGF5J1xuaW1wb3J0IHsgQWxlcnRQb3J0YWwgfSBmcm9tICcuLi8uLi8uLi8uLi9hbGVydC1wb3J0YWwnXG4vLyBDb25zdGFudHNcbmltcG9ydCB7IFNUT1AsIFBMQVksIENUMDA4X0VSUk9SX1BMQVksIENUMDA0X0VSUk9SX1BMQVkgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcGxheSdcbmltcG9ydCB7IFNUQVRVU19QUk9DRVNTIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3N0YXR1cydcbi8vIFV0aWxzXG5pbXBvcnQgdGltZUZyb21Ob3cgZnJvbSAnLi4vLi4vLi4vLi4vLi4vdXRpbHMvdGltZUZyb21Ob3cnXG5pbXBvcnQgZm9ybWF0SG91cnNNaW51dGVzV2l0aExldHRlciBmcm9tICcuLi8uLi8uLi8uLi8uLi91dGlscy9mb3JtYXRIb3VycydcbmltcG9ydCB3YXJuQ29uY2F0ZW5hdGVkIGZyb20gJy4uLy4uLy4uLy4uLy4uL3V0aWxzL2NvbmNhdGVuYXRlZFN0YXR1cydcbi8vIExhenkgaW1wb3J0c1xuY29uc3QgTW9kYWxQb3J0YWwgPSBsYXp5KCgpID0+XG4gIGltcG9ydCgnLi4vLi4vLi4vLi4vbW9kYWwtcG9ydGFsJykudGhlbihtb2R1bGUgPT4gKHtcbiAgICBkZWZhdWx0OiBtb2R1bGUuTW9kYWxQb3J0YWwsXG4gIH0pKVxuKVxuXG5leHBvcnQgY29uc3QgUGxheUNvbnRhaW5lciA9ICh7XG4gIHRpdGxlLFxuICBzdGF0dXMsXG4gIHRhc2tJZCxcbiAgcHJvamVjdCA9IHt9LFxuICBnZXRMaW5rcyxcbiAgZGF0YUNvdW50ZXIsXG4gIGhhbmRsZVVwZGF0ZSxcbiAgdGhpc1Rhc2tIYXNQbGF5LFxufSkgPT4ge1xuICBjb25zdCB7IHN0b3AsIHN0YXJ0LCBwbGF5RGF0YSwgc3RvcEVycm9yLCBwbGF5RXJyb3IsIGhhbmRsZURlbGV0ZUhvdXIgfSA9IGRhdGFDb3VudGVyXG5cbiAgY29uc3QgcHJvamVjdFRpbWVLZWVwZXIgPSB7XG4gICAgbmFtZTogcHJvamVjdD8ubmFtZSB8fCBudWxsLFxuICAgIGNsaWVudE5hbWU6IHByb2plY3Q/LmNsaWVudF9uYW1lIHx8IG51bGwsXG4gICAgYnJhbmROYW1lOiBwcm9qZWN0Py5icmFuZF9uYW1lIHx8IG51bGwsXG4gIH1cblxuICBjb25zdCBCVVRUT05fUkVGID0gdXNlUmVmKG51bGwpXG5cbiAgY29uc3QgW2Rpc2FibGVkLCBzZXREaXNhYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgeyBhY3RpdmUsIGN1cnJlbnRUaW1lLCBjb3VudGVySWQgfSA9IHBsYXlEYXRhXG5cbiAgY29uc3QgW3Nob3dNb2RhbFN0b3AsIHNldFNob3dNb2RhbFN0b3BdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzaG93TW9kYWxNYXhIb3VyLCBzZXRTaG93TW9kYWxNYXhIb3VyXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbY29uY2F0ZW5hdGVkRGF0YSwgc2V0Q29uY2F0ZW5hdGVkRGF0YV0gPSB1c2VTdGF0ZSh7fSlcbiAgY29uc3QgW3Nob3dFcnJvciwgc2V0U2hvd0Vycm9yXSA9IHVzZVN0YXRlKHsgc2hvdzogZmFsc2UsIG1lc3NhZ2U6ICcnIH0pXG4gIGNvbnN0IFtzaG93TW9kYWxDb25jYXRlbmF0ZSwgc2V0U2hvd01vZGFsQ29uY2F0ZW5hdGVdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbihbJ21vZGFscycsICdhbGVydHMnLCAnY291bnRlcicsICd0b29sdGlwcycsICd0YXNrX3BhbmVsJywgJ25ld19ob3VyX21vZGFsJ10pXG5cbiAgLyoqLS0tLS0tLS0tLS0tLS0tLS0tLU1hbmVqbyBkZSBlcnJvcmVzIChwbGF5L1N0b3ApLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHBsYXlFcnJvcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1qcz0ncGxheUljb24nXTpub3QoW2RhdGEtanMtaWQ9J3BsYXlUYXNrSWQke3Rhc2tJZH0nXSlgKVxuXG4gICAgICAgIGlmIChwbGF5RXJyb3IuY29kZSA9PT0gQ1QwMDRfRVJST1JfUExBWSkge1xuICAgICAgICAgIGljb25zLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcbiAgICAgICAgICB9KVxuICAgICAgICAgIHNldFNob3dFcnJvcih7XG4gICAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogdCgnbmV3X2hvdXJfbW9kYWw6bWVzc2FnZV9saW1pdCcpLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBsYXlFcnJvci5jb2RlID09PSBDVDAwOF9FUlJPUl9QTEFZKSB7XG4gICAgICAgICAgaWNvbnMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBzZXREaXNhYmxlZChmYWxzZSlcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRTaG93RXJyb3Ioe1xuICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogdCgnYWxlcnRzOmVycm9yQXBpJyksXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9LCBbcGxheUVycm9yLCBCVVRUT05fUkVGXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzdG9wRXJyb3I/Lm1lc3NhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKHN0b3BFcnJvci5tZXNzYWdlKVxuICAgICAgICBjb25zdCBjb2RlID0gbWVzc2FnZT8uY29kZVxuICAgICAgICBpZiAoY29kZSA9PT0gQ1QwMDRfRVJST1JfUExBWSkge1xuICAgICAgICAgIHNldFNob3dNb2RhbE1heEhvdXIodHJ1ZSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgc2V0U2hvd0Vycm9yKHtcbiAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6IHQoJ2FsZXJ0czplcnJvckFwaScpLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgc2V0RGlzYWJsZWQoZmFsc2UpXG4gICAgfVxuICB9LCBbc3RvcEVycm9yLCBCVVRUT05fUkVGXSlcblxuICAvKipcbiAgICogRWxpbWluYSBsYSBob3JhXG4gICAqL1xuICBjb25zdCBkZWxldGVIb3VyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChzdG9wRXJyb3I/Lm1lc3NhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgbWV0YSB9ID0gSlNPTi5wYXJzZShzdG9wRXJyb3IubWVzc2FnZSlcbiAgICAgICAgbWV0YSAmJiBoYW5kbGVEZWxldGVIb3VyKG1ldGEuY291bnRlcklkKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgc2V0U2hvd0Vycm9yKHtcbiAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6IHQoJ2FsZXJ0czplcnJvckFwaScpLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBzZXRTaG93TW9kYWxNYXhIb3VyKGZhbHNlKVxuICB9LCBbc3RvcEVycm9yXSlcblxuICAvKipcbiAgICogQ2llcnJhIGVsIG1vZGFsIHF1ZSBpbmRpY2EgcXVlIGhheSBob3JhcyBlbiBleGNlc28sIHkgZGEgbGEgb3BjacOzbiBkZSBlbGltaW5hciBsYSBob3JhXG4gICAqL1xuICBjb25zdCBoYW5kbGVDbG9zZU1vZGFsTWF4SG91ciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoc3RvcEVycm9yPy5tZXNzYWdlKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShzdG9wRXJyb3IubWVzc2FnZSlcbiAgICAgIGNvbnN0IG1ldGEgPSBtZXNzYWdlPy5tZXRhXG4gICAgICBpZiAoIW1ldGE/LmhvdXJzQ2hhcmdlZCkge1xuICAgICAgICBoYW5kbGVEZWxldGVIb3VyKG1ldGEuY291bnRlcklkKVxuICAgICAgfVxuICAgIH1cbiAgICBzZXRTaG93TW9kYWxNYXhIb3VyKGZhbHNlKVxuICB9LCBbc3RvcEVycm9yXSlcblxuICBjb25zdCBnZXRIb3Vyc1dpdGhGb3JtYXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgbGV0IGNoYXJnZWQgPSAwXG4gICAgbGV0IG5vQ2hhcmdlZCA9IDBcbiAgICBpZiAoc3RvcEVycm9yPy5tZXNzYWdlKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShzdG9wRXJyb3IubWVzc2FnZSlcbiAgICAgIGNvbnN0IG1ldGEgPSBtZXNzYWdlPy5tZXRhXG4gICAgICBpZiAobWV0YSkge1xuICAgICAgICBjb25zdCB7IGhvdXJzQ2hhcmdlZCwgaG91cnNOb3RDaGFyZ2VkIH0gPSBtZXRhXG4gICAgICAgIGNoYXJnZWQgPSBmb3JtYXRIb3Vyc01pbnV0ZXNXaXRoTGV0dGVyKGhvdXJzQ2hhcmdlZClcbiAgICAgICAgbm9DaGFyZ2VkID0gZm9ybWF0SG91cnNNaW51dGVzV2l0aExldHRlcihob3Vyc05vdENoYXJnZWQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBob3Vyc0NoYXJnZWQ6IGNoYXJnZWQsXG4gICAgICBob3Vyc05vdENoYXJnZWQ6IG5vQ2hhcmdlZCxcbiAgICB9XG4gIH0sIFtzdG9wRXJyb3JdKVxuXG4gIGNvbnN0IGhhbmRsZUFjY2VwdE1vZGFsTWF4SG91ciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTaG93TW9kYWxNYXhIb3VyKGZhbHNlKVxuICB9LCBbXSlcblxuICAvKipcbiAgICogT2N1bHRhIGVsIEFsZXJ0UG9ydGFsXG4gICAqL1xuICBjb25zdCBoYW5kbGVIaWRlRXJyb3IgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0U2hvd0Vycm9yKHtcbiAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogJycsXG4gICAgfSlcbiAgfSwgW10pXG4gIC8qKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENsaWNrIGVuIGVsIGljb25vIChzdG9wL3BsYXkpXG4gICAqL1xuICBjb25zdCBoYW5kbGVDbGljayA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBpY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWpzPSdwbGF5SWNvbiddOm5vdChbZGF0YS1qcy1pZD0ncGxheVRhc2tJZCR7dGFza0lkfSddKWApXG4gICAgc2V0RGlzYWJsZWQodHJ1ZSlcbiAgICBpZiAodGhpc1Rhc2tIYXNQbGF5KSB7XG4gICAgICBzZXRTaG93TW9kYWxTdG9wKHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgZ2V0TGlua3MoKVxuICAgICAgICBzZXRDb25jYXRlbmF0ZWREYXRhKGRhdGEudGFza0xpbmtzKVxuICAgICAgICAvL2NsaWNrIHBsYXlcbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gU1RBVFVTX1BST0NFU1MgJiYgd2FybkNvbmNhdGVuYXRlZChkYXRhLnRhc2tMaW5rcykuaGFzRGVwZW5kZW5jaWVzKSB7XG4gICAgICAgICAgc2V0U2hvd01vZGFsQ29uY2F0ZW5hdGUodHJ1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpY29ucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgc3RhcnQoeyB0aXRsZSwgdGFza0lEOiB0YXNrSWQsIHByb2plY3RUaW1lS2VlcGVyIH0sICgpID0+IHtcbiAgICAgICAgICAgIHNldERpc2FibGVkKGZhbHNlKVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBpZiAoc3RhdHVzICE9PSBTVEFUVVNfUFJPQ0VTUykge1xuICAgICAgICAgICAgaGFuZGxlVXBkYXRlKHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBTVEFUVVNfUFJPQ0VTUyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBzZXRTaG93RXJyb3Ioe1xuICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgbWVzc2FnZTogdCgnYWxlcnRzOmVycm9yQXBpJyksXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFjZXB0YXIgbW9kYWwgZGUgY29uY2F0ZW5hY2nDs25cbiAgICovXG4gIGNvbnN0IGhhbmRsZUFjY2VwdENvbmNhdGVuYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtanM9J3BsYXlJY29uJ106bm90KFtkYXRhLWpzLWlkPSdwbGF5VGFza0lkJHt0YXNrSWR9J10pYClcblxuICAgIGljb25zLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xuICAgIH0pXG5cbiAgICBjb25zdCBDT05DQVRFTkFURURfVVRJTCA9IHdhcm5Db25jYXRlbmF0ZWQoY29uY2F0ZW5hdGVkRGF0YSlcbiAgICBzZXRTaG93TW9kYWxDb25jYXRlbmF0ZShmYWxzZSlcbiAgICBzdGFydCh7IHRpdGxlLCB0YXNrSUQ6IHRhc2tJZCwgcHJvamVjdFRpbWVLZWVwZXIgfSwgKCkgPT4gc2V0RGlzYWJsZWQoZmFsc2UpKVxuICAgIGhhbmRsZVVwZGF0ZSh7XG4gICAgICBzdGF0dXM6IFNUQVRVU19QUk9DRVNTLFxuICAgICAgbGlua09wdGlvbjoge1xuICAgICAgICBvcHRpb246IGBkZWxldGVfJHtDT05DQVRFTkFURURfVVRJTC50eXBlfV9saW5rYCxcbiAgICAgICAgZmlsdGVyQnlTdGF0dXM6IENPTkNBVEVOQVRFRF9VVElMLnN0YXR1cyxcbiAgICAgICAgY2hhbmdlX3R5cGU6ICdzdGF0dXMnLFxuICAgICAgfSxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENpZXJyZSBkZWwgbW9kYWwgcXVlIGluZGljYSBzaSBlc3TDoSBzZWd1cm8gZGUgc3RvcGVhciBsYSB0YXJlYVxuICAgKi9cbiAgY29uc3QgaGFuZGxlQ2xvc2VNb2RhbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTaG93TW9kYWxDb25jYXRlbmF0ZShmYWxzZSlcbiAgICBzZXREaXNhYmxlZChmYWxzZSlcbiAgfSwgW0JVVFRPTl9SRUZdKVxuXG4gIC8qKlxuICAgKiBSZXRvcm5hIGxhcyB0cmFkdWNjaW9uZXMgcGFyYSBsb3MgbW9kYWxlc1xuICAgKi9cbiAgY29uc3QgdHJhbnNsYXRlc01vZGFsID0gdXNlQ2FsbGJhY2soKHdvcmRpbmdDdXN0b20gPSBmYWxzZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBhY2NlcHQ6IHQoYCR7d29yZGluZ0N1c3RvbSA/ICdnZW5lcmFsX2FibTpzYXZlJyA6ICdtb2RhbHM6YWNjZXB0J31gKSxcbiAgICAgIGNhbmNlbDogdChgJHt3b3JkaW5nQ3VzdG9tID8gJ2NvdW50ZXI6ZGVsZXRlX2hvdXInIDogJ21vZGFsczpjYW5jZWwnfWApLFxuICAgIH1cbiAgfSwgW10pXG5cbiAgLyoqXG4gICAqIEhhbmRsZSBxdWUgYWNlcHRhIHN0b3BlYXIgdW5hIHRhcmVhXG4gICAqL1xuICBjb25zdCBoYW5kbGVBY2NlcHRNb2RhbFN0b3AgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgaWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1qcz0ncGxheUljb24nXTpub3QoW2RhdGEtanMtaWQ9J3BsYXlUYXNrSWQke3Rhc2tJZH0nXSlgKVxuICAgIGljb25zLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSdcbiAgICB9KVxuICAgIHN0b3AoXG4gICAgICB7XG4gICAgICAgIHRhc2tJZCxcbiAgICAgICAgY291bnRlcklkLFxuICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHNldERpc2FibGVkKGZhbHNlKVxuICAgICAgfVxuICAgIClcbiAgICBzZXRTaG93TW9kYWxTdG9wKGZhbHNlKVxuICB9LCBbdGFza0lkLCBjb3VudGVySWQsIGN1cnJlbnRUaW1lLCBCVVRUT05fUkVGXSlcblxuICAvKipcbiAgICogSGFuZGxlIHF1ZSBjaWVycmEgZWwgbW9kYWwgcXVlIGFjZXB0YSBvIG5vIHN0b3BlYXIgdW5hIHRhcmVhXG4gICAqL1xuICBjb25zdCBoYW5kbGVDbG9zZU1vZGFsU3RvcCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTaG93TW9kYWxTdG9wKGZhbHNlKVxuICAgIHNldERpc2FibGVkKGZhbHNlKVxuICB9LCBbQlVUVE9OX1JFRl0pXG5cbiAgcmV0dXJuIChcbiAgICA8TFlXcmFwcGVyXG4gICAgICBkYXRhLWpzPXsncGxheUljb24nfVxuICAgICAgZGF0YS1qcy1pZD17YHBsYXlUYXNrSWQke3Rhc2tJZH1gfVxuICAgICAgaXNQbGF5PXshKGFjdGl2ZSAmJiB0aGlzVGFza0hhc1BsYXkpfVxuICAgICAgc2hvd1BsYXk9e3RoaXNUYXNrSGFzUGxheSB8fCAhYWN0aXZlfVxuICAgID5cbiAgICAgIDxQbGF5XG4gICAgICAgIHRhc2tJRD17dGFza0lkfVxuICAgICAgICByZWY9e0JVVFRPTl9SRUZ9XG4gICAgICAgIGhhc01hcmdpbj17ZmFsc2V9XG4gICAgICAgIHBsYXlWYXJpYW50PVwibm9ybWFsXCJcbiAgICAgICAgaXNEaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgIGhhbmRsZUNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgICAgc3RhdHVzPXthY3RpdmUgJiYgdGhpc1Rhc2tIYXNQbGF5ID8gU1RPUCA6IFBMQVl9XG4gICAgICAgIHdvcmRpbmdUaXA9e3QoYHRvb2x0aXBzOiR7YWN0aXZlICYmIHRoaXNUYXNrSGFzUGxheSA/IFNUT1AgOiBQTEFZfWApfVxuICAgICAgLz5cbiAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdiAvPn0+XG4gICAgICAgIHtzaG93TW9kYWxTdG9wICYmIChcbiAgICAgICAgICA8TW9kYWxQb3J0YWxcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJub3JtYWxcIlxuICAgICAgICAgICAgY2xvc2VNb2RhbD17aGFuZGxlQ2xvc2VNb2RhbFN0b3B9XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnM9e3RyYW5zbGF0ZXNNb2RhbCgpfVxuICAgICAgICAgICAgY2xpY2tCdXR0b25BY2NlcHQ9e2hhbmRsZUFjY2VwdE1vZGFsU3RvcH1cbiAgICAgICAgICAgIGNsaWNrQnV0dG9uQ2FuY2VsPXtoYW5kbGVDbG9zZU1vZGFsU3RvcH1cbiAgICAgICAgICAgIHRpdGxlPXt0KCdtb2RhbHM6dGl0bGVDaGFyZ2VIb3VycycpfVxuICAgICAgICAgICAgZWxlbWVudElkPVwiI21vZGFscy1wb3J0YWwtdGFza3BhbmVsXCJcbiAgICAgICAgICAgIHRleHRDb250ZW50PXt0KCdtb2RhbHM6Y29udGVudENoYXJnZUhvdXJzJywge1xuICAgICAgICAgICAgICB0aW1lcjogdGltZUZyb21Ob3coY3VycmVudFRpbWUpLFxuICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIHtzaG93TW9kYWxDb25jYXRlbmF0ZSAmJiAoXG4gICAgICAgICAgPE1vZGFsUG9ydGFsXG4gICAgICAgICAgICB2YXJpYW50PVwiZGFuZ2VyXCJcbiAgICAgICAgICAgIGNsb3NlTW9kYWw9e2hhbmRsZUNsb3NlTW9kYWx9XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnM9e3RyYW5zbGF0ZXNNb2RhbCgpfVxuICAgICAgICAgICAgY2xpY2tCdXR0b25BY2NlcHQ9e2hhbmRsZUFjY2VwdENvbmNhdGVuYXRlfVxuICAgICAgICAgICAgZWxlbWVudElkPVwiI21vZGFscy1wb3J0YWwtdGFza3BhbmVsXCJcbiAgICAgICAgICAgIGNsaWNrQnV0dG9uQ2FuY2VsPXtoYW5kbGVDbG9zZU1vZGFsfVxuICAgICAgICAgICAgdGl0bGU9e3QoJ3Rhc2tfcGFuZWw6Y29uY2F0ZW5hdGVkX2RlcGVuZGVuY2llc190aXRsZV9tb2RhbCcpfVxuICAgICAgICAgICAgdGV4dENvbnRlbnQ9e3QoJ3Rhc2tfcGFuZWw6Y29uY2F0ZW5hdGVkX2RlcGVuZGVuY2llcycsIHtcbiAgICAgICAgICAgICAgdGFza05hbWU6IHRpdGxlLFxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGI+e3QoJ3Rhc2tfcGFuZWw6Y29uY2F0ZW5hdGVkX2RlcGVuZGVuY2llc19xdWVzdGlvbl9tb2RhbCcpfTwvYj5cbiAgICAgICAgICA8L01vZGFsUG9ydGFsPlxuICAgICAgICApfVxuICAgICAgICB7c2hvd01vZGFsTWF4SG91ciAmJiAoXG4gICAgICAgICAgPE1vZGFsUG9ydGFsXG4gICAgICAgICAgICB2YXJpYW50PVwibm9ybWFsXCJcbiAgICAgICAgICAgIGNsaWNrQnV0dG9uQ2FuY2VsPXtkZWxldGVIb3VyfVxuICAgICAgICAgICAgdGl0bGU9e3QoJ2NvdW50ZXI6aG91cnNfbGltaXQnKX1cbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucz17dHJhbnNsYXRlc01vZGFsKHRydWUpfVxuICAgICAgICAgICAgZWxlbWVudElkPVwiI21vZGFscy1wb3J0YWwtdGFza3BhbmVsXCJcbiAgICAgICAgICAgIGNsb3NlTW9kYWw9e2hhbmRsZUNsb3NlTW9kYWxNYXhIb3VyfVxuICAgICAgICAgICAgY2xpY2tCdXR0b25BY2NlcHQ9e2hhbmRsZUFjY2VwdE1vZGFsTWF4SG91cn1cbiAgICAgICAgICAgIHRleHRDb250ZW50PXt0KCdjb3VudGVyOm1lc3NhZ2VfbGltaXQnLCBnZXRIb3Vyc1dpdGhGb3JtYXQoKSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAge3Nob3dFcnJvci5zaG93ICYmIChcbiAgICAgICAgICA8QWxlcnRQb3J0YWxcbiAgICAgICAgICAgIHBvc2l0aW9uPVwiY2VudGVyLWJvdHRvbVwiXG4gICAgICAgICAgICB0ZXh0PXtzaG93RXJyb3IubWVzc2FnZX1cbiAgICAgICAgICAgIG9uQ2xvc2U9e2hhbmRsZUhpZGVFcnJvcn1cbiAgICAgICAgICAgIHZhcmlhbnQ9XCJkYW5nZXJcIlxuICAgICAgICAgICAgaWNvbj1cImNoZWNrXCJcbiAgICAgICAgICAgIGlkUG9ydGFsPVwiYWxlcnRzLXBvcnRhbFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvU3VzcGVuc2U+XG4gICAgPC9MWVdyYXBwZXI+XG4gIClcbn1cblxuUGxheUNvbnRhaW5lci5wcm9wVHlwZXMgPSB7XG4gIHRhc2tJZDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogRGF0b3MgZGVsIHByb2plY3QgKGlkLCBuYW1lLCBjbGllbnQsIGJyYW5kKVxuICAgKi9cbiAgcHJvamVjdDogUHJvcFR5cGVzLm9iamVjdCxcbiAgLyoqXG4gICAqIENhbGxiYWNrIHF1ZSBvYnRpZW5lIGxvcyBsaW5rcyBkZSBsYSB0YXJlYVxuICAgKi9cbiAgZ2V0TGlua3M6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG59XG4iXSwibWFwcGluZ3MiOiI2d0RBaUJNQSxZQUFXLENBQUcsR0FBQUMsV0FBSSxFQUFDLGlCQUN2QiwwRUFBTywwQkFBMEIsS0FBRUMsSUFBSSxDQUFDLFNBQUFDLENB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