"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeadlineContainer=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_react=_interopRequireWildcard(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_moment=_interopRequireDefault(require("moment")),_reactI18next=require("react-i18next"),_core=require("@material-ui/core"),_datesManagement=require("../../../../../utils/datesManagement"),_permissions=require("../../../../../utils/permissions"),_datetime=require("../../../../datetime"),_UserProvider=require("../../../../../providers/UserProvider"),_style=require("./style"),_status=require("../../constants/status"),_jsxRuntime=require("react/jsx-runtime");function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){(0,_defineProperty2.default)(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==(0,_typeof2.default)(a)&&"function"!=typeof a)return{default:a};var c=_getRequireWildcardCache(b);if(c&&c.has(a))return c.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!=f&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}return d.default=a,c&&c.set(a,d),d}var ModalPortal=_react.default.lazy(function(){return Promise.resolve().then(function(){return _interopRequireWildcard(require("../../../../modal-portal"))}).then(function(a){return{default:a.ModalPortal}})}),DarkRadio=(0,_core.withStyles)({root:{color:"#000","&$checked":{color:"#000"}},checked:{}})(function(a){return(0,_jsxRuntime.jsx)(_core.Radio,_objectSpread({color:"default"},a))}),DeadlineContainer=(0,_react.memo)(function(a){var b=a.title,c=a.taskId,d=a.status,e=a.datetime,f=a.getLinks,g=a.estimated,h=a.projectId,i=a.updateTask,j=a.deadline,k=void 0===j?null:j,l=a.handleShowError,m=(0,_reactI18next.useTranslation)(["tooltips","datepicker, task_panel, modals"]),n=m.t,o=(0,_react.useContext)(_UserProvider.UserContext),p=o.lang,q=o.permissions;_moment.default.locale("br"===p?"pt-br":p);var r=(0,_react.useState)({}),s=(0,_slicedToArray2.default)(r,2),t=s[0],u=s[1],v=(0,_react.useState)(!1),w=(0,_slicedToArray2.default)(v,2),x=w[0],y=w[1],z=(0,_react.useState)(_datesManagement.OPTION_DELETE_FATHER_LINK),A=(0,_slicedToArray2.default)(z,2),B=A[0],C=A[1],D=(0,_react.useMemo)(function(){return(0,_permissions.checkPermissions)(q,_permissions.SECTION_TASK_DEADLINE,_permissions.ACTION_EDIT)},[]),E=(0,_react.useMemo)(function(){return(0,_permissions.checkPermissions)(q,_permissions.SECTION_TASK_DEADLINE,_permissions.ACTION_DELETE)},[]),F=(0,_react.useMemo)(function(){return{ok:n("datepicker:ok"),clear:n("datepicker:clear"),today:n("datepicker:today"),addDate:n("datepicker:addDate"),cancel:n("datepicker:cancel")}},[]),G=(0,_react.useMemo)(function(){var a=(0,_moment.default)().format("YYYY-MM-DD"),b=(0,_moment.default)(k).format("YYYY-MM-DD"),c=(0,_moment.default)(b).diff(a,"days");return{today:n("datepicker:today"),tomorrow:n("datepicker:tomorrow"),moreDays:n("datepicker:moreDays",{days:c})}},[k]),H=(0,_react.useMemo)(function(){return(0,_datesManagement.formatFewDays)(k,G)},[k]),I=(0,_react.useMemo)(function(){var a=(0,_moment.default)().format("YYYY-MM-DD HH:mm"),b=k?(0,_moment.default)(k):null,c=k?(0,_moment.default)(k).toNow("dd"):null,d=k?(0,_moment.default)(k).format("HH:mm"):null;return null===b?D?n("tooltips:deadline"):void 0:b.isBefore(a)?n("tooltips:taskEnded",{days:c,hrs:d}):b.isAfter(a)?n("tooltips:tasksEnds",{days:c,hrs:d}):b.isSame((0,_moment.default)().format("YYYY-MM-DD"),"day")?n("tooltips:tasksEndsToday",{hrs:d}):void 0},[k]),J=(0,_react.useMemo)(function(){return d!==_status.STATUS_FINISHED&&(0,_moment.default)(k).isBefore((0,_moment.default)())},[d,k]),K=(0,_react.useCallback)(function(a,b,c){if(null!==c&&void 0!==c&&c.showModal)u(c),y(!0);else{var d=c.linkOption;i({datetime:a,deadline:b,linkOption:d})}},[]),L=(0,_react.useCallback)(function(){var a=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function b(a){var c,d;return _regenerator.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,f();case 3:c=b.sent,d=c.data.taskLinks,(0,_datesManagement.verifyDeadlineAndUpdate)({start:e,deadline:k,estimated:g,projectId:h,dateChanged:a,permissionDelete:E,concatenatedData:d,callbackUpdate:K}),b.next=11;break;case 8:b.prev=8,b.t0=b["catch"](0),l();case 11:case"end":return b.stop();}},b,null,[[0,8]])}));return function(){return a.apply(this,arguments)}}(),[e,k,g]),M=(0,_react.useCallback)(function(a){C(a.target.value)},[]),N=(0,_react.useMemo)(function(){var a,b,c=(0,_datesManagement.specialFormat)(e),d=(0,_datesManagement.specialFormat)(k),f=null===t||void 0===t||null===(a=t.changeDate)||void 0===a?void 0:a.datetime,g=null===t||void 0===t||null===(b=t.changeDate)||void 0===b?void 0:b.deadline;return{datetime:(0,_moment.default)(f).format(c),deadline:(0,_moment.default)(g).format(d)}},[t]),O=(0,_react.useCallback)(function(){y(!1)},[]),P=(0,_react.useCallback)(function(){B===_datesManagement.OPTION_DELETE_FATHER_LINK&&null!==t&&void 0!==t&&t.deleteOption?i(t.deleteOption):B===_datesManagement.OPTION_CHANGE_DATE&&i(t.changeDate),y(!1)},[t,B]),Q=(0,_react.useMemo)(function(){return{accept:n("modals:accept"),cancel:n("modals:cancel")}},[]);return(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[(0,_jsxRuntime.jsx)(_datetime.Datetime,{clearable:E,defaultDate:k,disabled:!D,emptyLabel:!1,format:H,handleUpdate:L,icon:!1,id:c,isExpired:J,lang:p,tooltip:I,translations:F}),(0,_jsxRuntime.jsx)(_react.Suspense,{fallback:(0,_jsxRuntime.jsx)("div",{}),children:x&&(0,_jsxRuntime.jsx)(ModalPortal,{elementId:"#modals-portal-taskpanel",closeModal:O,clickButtonCancel:O,clickButtonAccept:P,title:n("task_panel:concatenated_dependencies_title_modal"),variant:"danger",textContent:n("task_panel:concatenated_dependencies",{taskName:b}),translations:Q,children:(0,_jsxRuntime.jsx)(_core.FormControl,{component:"fieldset",children:(0,_jsxRuntime.jsx)(_style.SCFormModal,{children:(0,_jsxRuntime.jsxs)(_core.RadioGroup,{"aria-label":"concatenateOption",name:"concatenateOption",value:B,onChange:M,children:[(0,_jsxRuntime.jsx)(_core.FormControlLabel,{value:_datesManagement.OPTION_DELETE_FATHER_LINK,control:(0,_jsxRuntime.jsx)(DarkRadio,{}),label:n("task_panel:concatenated_dependencies_question_modal")}),(0,_jsxRuntime.jsx)(_core.FormControlLabel,{value:_datesManagement.OPTION_CHANGE_DATE,control:(0,_jsxRuntime.jsx)(DarkRadio,{}),label:n("task_panel:concatenated_change_date",N)})]})})})})})]})},function(a,b){return a.datetime===b.datetime&&a.estimated===b.estimated&&a.deadline===b.deadline&&a.status===b.status&&a.updateTask===b.updateTask});exports.DeadlineContainer=DeadlineContainer,DeadlineContainer.propTypes={title:_propTypes.default.string.isRequired,taskId:_propTypes.default.string.isRequired,getLinks:_propTypes.default.func.isRequired,status:_propTypes.default.string.isRequired,deadline:_propTypes.default.string,estimated:_propTypes.default.string.isRequired,datetime:_propTypes.default.string.isRequired,projectId:_propTypes.default.number,handleShowError:_propTypes.default.func.isRequired};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2RhbFBvcnRhbCIsIlJlYWN0IiwibGF6eSIsInRoZW4iLCJtb2R1bGUiLCJkZWZhdWx0IiwiRGFya1JhZGlvIiwid2l0aFN0eWxlcyIsInJvb3QiLCJjb2xvciIsImNoZWNrZWQiLCJwcm9wcyIsIkRlYWRsaW5lQ29udGFpbmVyIiwibWVtbyIsInRpdGxlIiwidGFza0lkIiwic3RhdHVzIiwiZGF0ZXRpbWUiLCJnZXRMaW5rcyIsImVzdGltYXRlZCIsInByb2plY3RJZCIsInVwZGF0ZVRhc2siLCJkZWFkbGluZSIsImhhbmRsZVNob3dFcnJvciIsInVzZVRyYW5zbGF0aW9uIiwidCIsInVzZUNvbnRleHQiLCJVc2VyQ29udGV4dCIsImxhbmciLCJwZXJtaXNzaW9ucyIsIm1vbWVudCIsImxvY2FsZSIsInVzZVN0YXRlIiwiZGF0YUNvbmNhdGVuYXRlIiwic2V0RGF0YUNvbmNhdGVuYXRlIiwic2hvd01vZGFsQ29uY2F0ZW5hdGUiLCJzZXRTaG93TW9kYWxDb25jYXRlbmF0ZSIsIk9QVElPTl9ERUxFVEVfRkFUSEVSX0xJTksiLCJvcHRpb25WYWx1ZSIsInNldE9wdGlvblZhbHVlIiwicGVybWlzc2lvbnNFZGl0RGVhZGxpbmUiLCJ1c2VNZW1vIiwiY2hlY2tQZXJtaXNzaW9ucyIsIlNFQ1RJT05fVEFTS19ERUFETElORSIsIkFDVElPTl9FRElUIiwicGVybWlzc2lvbnNEZWxldGVEZWFkbGluZSIsIkFDVElPTl9ERUxFVEUiLCJ0cmFuc2xhdGlvbnNEYXRlcGlja2VyIiwib2siLCJjbGVhciIsInRvZGF5IiwiYWRkRGF0ZSIsImNhbmNlbCIsInN0cmluZ0RhdGVQcmV2aWV3IiwiZm9ybWF0IiwiZGF0ZUZvcm1hdGVkIiwiZGlmZiIsInRvbW9ycm93IiwibW9yZURheXMiLCJkYXlzIiwiZm9ybWF0RGF0ZSIsImZvcm1hdEZld0RheXMiLCJ0b29sdGlwc0RlYWRsaW5lIiwibW9tZW50RGF0ZSIsInRvTm93IiwiaHJzIiwiaXNCZWZvcmUiLCJpc0FmdGVyIiwiaXNTYW1lIiwiaXNFeHBpcmVkIiwiU1RBVFVTX0ZJTklTSEVEIiwiaGFuZGxlVXBkYXRlRGVhZGxpbmUiLCJ1c2VDYWxsYmFjayIsIm5ld1N0YXJ0IiwibmV3RGVhZGxpbmUiLCJjb25jYXRlbmF0ZSIsInNob3dNb2RhbCIsImxpbmtPcHRpb24iLCJjaGFuZ2VEZWFkbGluZSIsImRhdGVDaGFuZ2VkIiwiY29uY2F0ZW5hdGVkRGF0YSIsImRhdGEiLCJ0YXNrTGlua3MiLCJ2ZXJpZnlEZWFkbGluZUFuZFVwZGF0ZSIsInN0YXJ0IiwicGVybWlzc2lvbkRlbGV0ZSIsImNhbGxiYWNrVXBkYXRlIiwiaGFuZGxlQ2hhbmdlT3B0aW9uTW9kYWwiLCJldmVudCIsInRhcmdldCIsInZhbHVlIiwid29yZGluZ01vZGFsIiwiZm9ybWF0RGF0ZXRpbWUiLCJzcGVjaWFsRm9ybWF0IiwiZm9ybWF0RGVhZGxpbmUiLCJkYXRldGltZVdvcmRpbmciLCJjaGFuZ2VEYXRlIiwiZGVhZGxpbmVXb3JkaW5nIiwiaGFuZGxlQ2xvc2VNb2RhbENvbmNhdGVuYXRlIiwiaGFuZGxlQWNjZXB0Q29uY2F0ZW5hdGUiLCJkZWxldGVPcHRpb24iLCJPUFRJT05fQ0hBTkdFX0RBVEUiLCJ0cmFuc2xhdGVzTW9kYWwiLCJhY2NlcHQiLCJ0YXNrTmFtZSIsInByZXZQcm9wcyIsIm5leHRQcm9wcyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJmdW5jIiwibnVtYmVyIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvdGFzay1yb3cvc3JjL2NvbnRhaW5lcnMvRGVhZGxpbmUvRGVhZGxpbmVDb250YWluZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgU3VzcGVuc2UsIHVzZUNvbnRleHQsIG1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcydcbi8vIFV0aWxzXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCdcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbi8vIE1hdGVyaWFsXG5pbXBvcnQgeyBGb3JtQ29udHJvbCwgRm9ybUNvbnRyb2xMYWJlbCwgUmFkaW8sIFJhZGlvR3JvdXAsIHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSdcbmltcG9ydCB7XG4gIGZvcm1hdEZld0RheXMsXG4gIHNwZWNpYWxGb3JtYXQsXG4gIHZlcmlmeURlYWRsaW5lQW5kVXBkYXRlLFxuICBPUFRJT05fREVMRVRFX0ZBVEhFUl9MSU5LLFxuICBPUFRJT05fQ0hBTkdFX0RBVEUsXG59IGZyb20gJy4uLy4uLy4uLy4uLy4uL3V0aWxzL2RhdGVzTWFuYWdlbWVudCdcbmltcG9ydCB7IGNoZWNrUGVybWlzc2lvbnMsIEFDVElPTl9FRElULCBBQ1RJT05fREVMRVRFLCBTRUNUSU9OX1RBU0tfREVBRExJTkUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi91dGlscy9wZXJtaXNzaW9ucydcbi8vIFVJIENvbXBvbmVudHNcbmltcG9ydCB7IERhdGV0aW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGF0ZXRpbWUnXG4vLyBDb250ZXh0XG5pbXBvcnQgeyBVc2VyQ29udGV4dCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3Byb3ZpZGVycy9Vc2VyUHJvdmlkZXInXG4vLyBMYXlvdXQgQ29tcG9uZW50c1xuaW1wb3J0IHsgU0NGb3JtTW9kYWwgfSBmcm9tICcuL3N0eWxlJ1xuaW1wb3J0IHsgU1RBVFVTX0ZJTklTSEVEIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3N0YXR1cydcbi8vIExhenkgaW1wb3J0c1xuY29uc3QgTW9kYWxQb3J0YWwgPSBSZWFjdC5sYXp5KCgpID0+XG4gIGltcG9ydCgnLi4vLi4vLi4vLi4vbW9kYWwtcG9ydGFsJykudGhlbihtb2R1bGUgPT4gKHtcbiAgICBkZWZhdWx0OiBtb2R1bGUuTW9kYWxQb3J0YWwsXG4gIH0pKVxuKVxuXG5jb25zdCBEYXJrUmFkaW8gPSB3aXRoU3R5bGVzKHtcbiAgcm9vdDoge1xuICAgIGNvbG9yOiAnIzAwMCcsXG4gICAgJyYkY2hlY2tlZCc6IHtcbiAgICAgIGNvbG9yOiAnIzAwMCcsXG4gICAgfSxcbiAgfSxcbiAgY2hlY2tlZDoge30sXG59KShwcm9wcyA9PiA8UmFkaW8gY29sb3I9XCJkZWZhdWx0XCIgey4uLnByb3BzfSAvPilcblxuZXhwb3J0IGNvbnN0IERlYWRsaW5lQ29udGFpbmVyID0gbWVtbyhcbiAgKHtcbiAgICB0aXRsZSxcbiAgICB0YXNrSWQsXG4gICAgc3RhdHVzLFxuICAgIGRhdGV0aW1lLFxuICAgIGdldExpbmtzLFxuICAgIGVzdGltYXRlZCxcbiAgICBwcm9qZWN0SWQsXG4gICAgdXBkYXRlVGFzayxcbiAgICBkZWFkbGluZSA9IG51bGwsXG4gICAgaGFuZGxlU2hvd0Vycm9yLFxuICB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbihbJ3Rvb2x0aXBzJywgJ2RhdGVwaWNrZXIsIHRhc2tfcGFuZWwsIG1vZGFscyddKVxuICAgIGNvbnN0IHsgbGFuZywgcGVybWlzc2lvbnMgfSA9IHVzZUNvbnRleHQoVXNlckNvbnRleHQpXG4gICAgbW9tZW50LmxvY2FsZShsYW5nID09PSAnYnInID8gJ3B0LWJyJyA6IGxhbmcpXG5cbiAgICBjb25zdCBbZGF0YUNvbmNhdGVuYXRlLCBzZXREYXRhQ29uY2F0ZW5hdGVdID0gdXNlU3RhdGUoe30pXG4gICAgY29uc3QgW3Nob3dNb2RhbENvbmNhdGVuYXRlLCBzZXRTaG93TW9kYWxDb25jYXRlbmF0ZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgICBjb25zdCBbb3B0aW9uVmFsdWUsIHNldE9wdGlvblZhbHVlXSA9IHVzZVN0YXRlKE9QVElPTl9ERUxFVEVfRkFUSEVSX0xJTkspXG5cbiAgICAvKipcbiAgICAgKiBNZW1vcml6byBsYSB2YWxpZGFjaW9uIGRlIHBlcm1pc28gZGUgZWRpdGFyIGRlYWRsaW5lXG4gICAgICovXG4gICAgY29uc3QgcGVybWlzc2lvbnNFZGl0RGVhZGxpbmUgPSB1c2VNZW1vKCgpID0+IGNoZWNrUGVybWlzc2lvbnMocGVybWlzc2lvbnMsIFNFQ1RJT05fVEFTS19ERUFETElORSwgQUNUSU9OX0VESVQpLCBbXSlcbiAgICAvKipcbiAgICAgKiBNZW1vcml6byBsYSB2YWxpZGFjaW9uIGRlIHBlcm1pc28gZGUgZWxpbWluYXIgdW4gZGVhZGxpbmVcbiAgICAgKi9cbiAgICBjb25zdCBwZXJtaXNzaW9uc0RlbGV0ZURlYWRsaW5lID0gdXNlTWVtbyhcbiAgICAgICgpID0+IGNoZWNrUGVybWlzc2lvbnMocGVybWlzc2lvbnMsIFNFQ1RJT05fVEFTS19ERUFETElORSwgQUNUSU9OX0RFTEVURSksXG4gICAgICBbXVxuICAgIClcbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVuIG9iamV0byBxdWUgY29udGllbmUgbGFzIHRyYWR1Y2Npb25lcyBhIHVzYXIgZW4gZWwgY29tcG9uZW50ZSBEYXRldGltZVxuICAgICAqL1xuICAgIGNvbnN0IHRyYW5zbGF0aW9uc0RhdGVwaWNrZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9rOiB0KCdkYXRlcGlja2VyOm9rJyksXG4gICAgICAgIGNsZWFyOiB0KCdkYXRlcGlja2VyOmNsZWFyJyksXG4gICAgICAgIHRvZGF5OiB0KCdkYXRlcGlja2VyOnRvZGF5JyksXG4gICAgICAgIGFkZERhdGU6IHQoJ2RhdGVwaWNrZXI6YWRkRGF0ZScpLFxuICAgICAgICBjYW5jZWw6IHQoJ2RhdGVwaWNrZXI6Y2FuY2VsJyksXG4gICAgICB9XG4gICAgfSwgW10pXG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVuIG9iamV0byBjb24gbGFzIHRyYWR1Y2Npb25lcyBkZSBcImhveSwgbWHDsWFuYSwgZW4gWCBkw61hc1wiXG4gICAgICovXG4gICAgY29uc3Qgc3RyaW5nRGF0ZVByZXZpZXcgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IHRvZGF5ID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICAgIGNvbnN0IGRhdGVGb3JtYXRlZCA9IG1vbWVudChkZWFkbGluZSkuZm9ybWF0KCdZWVlZLU1NLUREJylcbiAgICAgIGNvbnN0IGRpZmYgPSBtb21lbnQoZGF0ZUZvcm1hdGVkKS5kaWZmKHRvZGF5LCAnZGF5cycpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b2RheTogdCgnZGF0ZXBpY2tlcjp0b2RheScpLFxuICAgICAgICB0b21vcnJvdzogdCgnZGF0ZXBpY2tlcjp0b21vcnJvdycpLFxuICAgICAgICBtb3JlRGF5czogdCgnZGF0ZXBpY2tlcjptb3JlRGF5cycsIHsgZGF5czogZGlmZiB9KSxcbiAgICAgIH1cbiAgICB9LCBbZGVhZGxpbmVdKVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1biBzdHJpbmcgY29uIGVsIGZvcm1hdG8gZGUgbGEgZmVjaGEsXG4gICAgICogU2UgdmVyaWZpY2Egc2kgbGEgZmVjaGEgZXN0w6EgZGVudHJvIGRlIGxvcyBwcm94aW1vcyA3IGRpYXMgcGFyYVxuICAgICAqIHVzYXIgZWwgb2JqZXRvIGNvbiBsYXMgdHJhZHVjY2lvbmVzIHF1ZSBzZSBlbnZpYSBjb21vIHNlZ3VuZG8gcGFyw6FtZXRybyxcbiAgICAgKiBzaW5vIHJldG9ybmEgdW4gZm9ybWF0byBlc3RhbmRhci5cbiAgICAgKi9cbiAgICBjb25zdCBmb3JtYXREYXRlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICByZXR1cm4gZm9ybWF0RmV3RGF5cyhkZWFkbGluZSwgc3RyaW5nRGF0ZVByZXZpZXcpXG4gICAgfSwgW2RlYWRsaW5lXSlcblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdW4gc3RyaW5nIGNvbiBlbCB0b29sdGlwIGNvcnJlc3BvbmRpZW50ZSwgZGVwZW5kaWVuZG8gZGVsIGRlYWRsaW5lIHF1ZSBlc3TDoSBzZXRlYWRvXG4gICAgICovXG4gICAgY29uc3QgdG9vbHRpcHNEZWFkbGluZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgY29uc3QgdG9kYXkgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKVxuICAgICAgY29uc3QgbW9tZW50RGF0ZSA9IGRlYWRsaW5lID8gbW9tZW50KGRlYWRsaW5lKSA6IG51bGxcbiAgICAgIGNvbnN0IGRheXMgPSBkZWFkbGluZSA/IG1vbWVudChkZWFkbGluZSkudG9Ob3coJ2RkJykgOiBudWxsXG4gICAgICBjb25zdCBocnMgPSBkZWFkbGluZSA/IG1vbWVudChkZWFkbGluZSkuZm9ybWF0KCdISDptbScpIDogbnVsbFxuXG4gICAgICBpZiAobW9tZW50RGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoIXBlcm1pc3Npb25zRWRpdERlYWRsaW5lKSByZXR1cm5cbiAgICAgICAgcmV0dXJuIHQoJ3Rvb2x0aXBzOmRlYWRsaW5lJylcbiAgICAgIH1cbiAgICAgIGlmIChtb21lbnREYXRlLmlzQmVmb3JlKHRvZGF5KSkge1xuICAgICAgICByZXR1cm4gdCgndG9vbHRpcHM6dGFza0VuZGVkJywgeyBkYXlzLCBocnMgfSlcbiAgICAgIH1cbiAgICAgIGlmIChtb21lbnREYXRlLmlzQWZ0ZXIodG9kYXkpKSB7XG4gICAgICAgIHJldHVybiB0KCd0b29sdGlwczp0YXNrc0VuZHMnLCB7IGRheXMsIGhycyB9KVxuICAgICAgfVxuICAgICAgaWYgKG1vbWVudERhdGUuaXNTYW1lKG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLCAnZGF5JykpIHtcbiAgICAgICAgcmV0dXJuIHQoJ3Rvb2x0aXBzOnRhc2tzRW5kc1RvZGF5JywgeyBocnMgfSlcbiAgICAgIH1cbiAgICB9LCBbZGVhZGxpbmVdKVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1biBib29sZWFuLCBxdWUgaW5kaWNhIHNpIGxhIGZlY2hhIGVzdMOhIG8gbm8gZXhwaXJhZGEsXG4gICAgICogdG9tYW5kbyBlbiBjdWVudGEgZWwgZXN0YWRvIGRlIGxhIHRhcmVhXG4gICAgICovXG4gICAgY29uc3QgaXNFeHBpcmVkID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICBpZiAoc3RhdHVzID09PSBTVEFUVVNfRklOSVNIRUQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICByZXR1cm4gbW9tZW50KGRlYWRsaW5lKS5pc0JlZm9yZShtb21lbnQoKSlcbiAgICB9LCBbc3RhdHVzLCBkZWFkbGluZV0pXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFNlIGV2YWx1YSBzaSBzZSBkZWJlIG1vc3RyYXIgZWwgbW9kYWwgZGUgY29uY2F0ZW5hY2nDs24gbyBubyxcbiAgICAgKiBFbiBjYXNvIGRlIHF1ZSBubywgc2UgYWN0dWFsaXphIGxhcyBmZWNoYXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTdGFydCAgWVlZWS1NTS1ERCBISDptbTpzc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdEZWFkbGluZSBZWVlZLU1NLUREIEhIOm1tOnNzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmNhdGVuYXRlIE9iamV0byBjb24gaW5mb3JtYWNpw7NuIGFkaWNpb25hbCBwYXJhIGFjdHVhbGl6YXIgbGEgZmVjaGFcbiAgICAgKi9cbiAgICBjb25zdCBoYW5kbGVVcGRhdGVEZWFkbGluZSA9IHVzZUNhbGxiYWNrKChuZXdTdGFydCwgbmV3RGVhZGxpbmUsIGNvbmNhdGVuYXRlKSA9PiB7XG4gICAgICBpZiAoY29uY2F0ZW5hdGU/LnNob3dNb2RhbCkge1xuICAgICAgICBzZXREYXRhQ29uY2F0ZW5hdGUoY29uY2F0ZW5hdGUpXG4gICAgICAgIHNldFNob3dNb2RhbENvbmNhdGVuYXRlKHRydWUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IGxpbmtPcHRpb24gfSA9IGNvbmNhdGVuYXRlXG5cbiAgICAgICAgdXBkYXRlVGFzayh7XG4gICAgICAgICAgZGF0ZXRpbWU6IG5ld1N0YXJ0LFxuICAgICAgICAgIGRlYWRsaW5lOiBuZXdEZWFkbGluZSxcbiAgICAgICAgICBsaW5rT3B0aW9uLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sIFtdKVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgcXVlIHNlIGVqZWN1dGEgYWwgY2FtYmlhciBsYSBmZWNoYVxuICAgICAqL1xuICAgIGNvbnN0IGNoYW5nZURlYWRsaW5lID0gdXNlQ2FsbGJhY2soXG4gICAgICBhc3luYyBkYXRlQ2hhbmdlZCA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZGF0YTogeyB0YXNrTGlua3M6IGNvbmNhdGVuYXRlZERhdGEgfSxcbiAgICAgICAgICB9ID0gYXdhaXQgZ2V0TGlua3MoKVxuICAgICAgICAgIHZlcmlmeURlYWRsaW5lQW5kVXBkYXRlKHtcbiAgICAgICAgICAgIHN0YXJ0OiBkYXRldGltZSxcbiAgICAgICAgICAgIGRlYWRsaW5lLFxuICAgICAgICAgICAgZXN0aW1hdGVkLFxuICAgICAgICAgICAgcHJvamVjdElkLFxuICAgICAgICAgICAgZGF0ZUNoYW5nZWQsXG4gICAgICAgICAgICBwZXJtaXNzaW9uRGVsZXRlOiBwZXJtaXNzaW9uc0RlbGV0ZURlYWRsaW5lLFxuICAgICAgICAgICAgY29uY2F0ZW5hdGVkRGF0YSxcbiAgICAgICAgICAgIGNhbGxiYWNrVXBkYXRlOiBoYW5kbGVVcGRhdGVEZWFkbGluZSxcbiAgICAgICAgICB9KVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGhhbmRsZVNob3dFcnJvcigpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbZGF0ZXRpbWUsIGRlYWRsaW5lLCBlc3RpbWF0ZWRdXG4gICAgKVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tTW9kYWwgY29uY2F0ZW5hY2nDs24tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBDYW1iaW8gZGUgb3BjacOzbiBkZWwgcmFkaW8gYnV0dG9uIGVuIGVsIG1vZGFsIGRlIGNvbmNhdGVuYWNpw7NuXG4gICAgICovXG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlT3B0aW9uTW9kYWwgPSB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgICBzZXRPcHRpb25WYWx1ZShldmVudC50YXJnZXQudmFsdWUpXG4gICAgfSwgW10pXG4gICAgLyoqXG4gICAgICogRm9ybWF0ZW8gZGUgZmVjaGFzIHByb3B1ZXN0YXMgZW4gZWwgbW9kYWwgZGUgY29uY2F0ZW5hY2nDs25cbiAgICAgKi9cbiAgICBjb25zdCB3b3JkaW5nTW9kYWwgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IGZvcm1hdERhdGV0aW1lID0gc3BlY2lhbEZvcm1hdChkYXRldGltZSlcbiAgICAgIGNvbnN0IGZvcm1hdERlYWRsaW5lID0gc3BlY2lhbEZvcm1hdChkZWFkbGluZSlcbiAgICAgIGNvbnN0IGRhdGV0aW1lV29yZGluZyA9IGRhdGFDb25jYXRlbmF0ZT8uY2hhbmdlRGF0ZT8uZGF0ZXRpbWVcbiAgICAgIGNvbnN0IGRlYWRsaW5lV29yZGluZyA9IGRhdGFDb25jYXRlbmF0ZT8uY2hhbmdlRGF0ZT8uZGVhZGxpbmVcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGV0aW1lOiBtb21lbnQoZGF0ZXRpbWVXb3JkaW5nKS5mb3JtYXQoZm9ybWF0RGF0ZXRpbWUpLFxuICAgICAgICBkZWFkbGluZTogbW9tZW50KGRlYWRsaW5lV29yZGluZykuZm9ybWF0KGZvcm1hdERlYWRsaW5lKSxcbiAgICAgIH1cbiAgICB9LCBbZGF0YUNvbmNhdGVuYXRlXSlcblxuICAgIC8qXG4gICAgICogQ2llcnJlIGRlbCBtb2RhbCBkZSBjb25jYXRlbmFjacOzblxuICAgICAqL1xuICAgIGNvbnN0IGhhbmRsZUNsb3NlTW9kYWxDb25jYXRlbmF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHNldFNob3dNb2RhbENvbmNhdGVuYXRlKGZhbHNlKVxuICAgIH0sIFtdKVxuXG4gICAgLyoqXG4gICAgICogQWNlcHRhciBtb2RhbCBkZSBjb25jYXRlbmFjacOzblxuICAgICAqL1xuICAgIGNvbnN0IGhhbmRsZUFjY2VwdENvbmNhdGVuYXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgaWYgKG9wdGlvblZhbHVlID09PSBPUFRJT05fREVMRVRFX0ZBVEhFUl9MSU5LICYmIGRhdGFDb25jYXRlbmF0ZT8uZGVsZXRlT3B0aW9uKSB7XG4gICAgICAgIHVwZGF0ZVRhc2soZGF0YUNvbmNhdGVuYXRlLmRlbGV0ZU9wdGlvbilcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uVmFsdWUgPT09IE9QVElPTl9DSEFOR0VfREFURSkge1xuICAgICAgICB1cGRhdGVUYXNrKGRhdGFDb25jYXRlbmF0ZS5jaGFuZ2VEYXRlKVxuICAgICAgfVxuICAgICAgc2V0U2hvd01vZGFsQ29uY2F0ZW5hdGUoZmFsc2UpXG4gICAgfSwgW2RhdGFDb25jYXRlbmF0ZSwgb3B0aW9uVmFsdWVdKVxuXG4gICAgY29uc3QgdHJhbnNsYXRlc01vZGFsID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY2NlcHQ6IHQoJ21vZGFsczphY2NlcHQnKSxcbiAgICAgICAgY2FuY2VsOiB0KCdtb2RhbHM6Y2FuY2VsJyksXG4gICAgICB9XG4gICAgfSwgW10pXG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIDxEYXRldGltZVxuICAgICAgICAgIGNsZWFyYWJsZT17cGVybWlzc2lvbnNEZWxldGVEZWFkbGluZX1cbiAgICAgICAgICBkZWZhdWx0RGF0ZT17ZGVhZGxpbmV9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFwZXJtaXNzaW9uc0VkaXREZWFkbGluZX1cbiAgICAgICAgICBlbXB0eUxhYmVsPXtmYWxzZX1cbiAgICAgICAgICBmb3JtYXQ9e2Zvcm1hdERhdGV9XG4gICAgICAgICAgaGFuZGxlVXBkYXRlPXtjaGFuZ2VEZWFkbGluZX1cbiAgICAgICAgICBpY29uPXtmYWxzZX1cbiAgICAgICAgICBpZD17dGFza0lkfVxuICAgICAgICAgIGlzRXhwaXJlZD17aXNFeHBpcmVkfVxuICAgICAgICAgIGxhbmc9e2xhbmd9XG4gICAgICAgICAgdG9vbHRpcD17dG9vbHRpcHNEZWFkbGluZX1cbiAgICAgICAgICB0cmFuc2xhdGlvbnM9e3RyYW5zbGF0aW9uc0RhdGVwaWNrZXJ9XG4gICAgICAgIC8+XG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdiAvPn0+XG4gICAgICAgICAge3Nob3dNb2RhbENvbmNhdGVuYXRlICYmIChcbiAgICAgICAgICAgIDxNb2RhbFBvcnRhbFxuICAgICAgICAgICAgICBlbGVtZW50SWQ9XCIjbW9kYWxzLXBvcnRhbC10YXNrcGFuZWxcIlxuICAgICAgICAgICAgICBjbG9zZU1vZGFsPXtoYW5kbGVDbG9zZU1vZGFsQ29uY2F0ZW5hdGV9XG4gICAgICAgICAgICAgIGNsaWNrQnV0dG9uQ2FuY2VsPXtoYW5kbGVDbG9zZU1vZGFsQ29uY2F0ZW5hdGV9XG4gICAgICAgICAgICAgIGNsaWNrQnV0dG9uQWNjZXB0PXtoYW5kbGVBY2NlcHRDb25jYXRlbmF0ZX1cbiAgICAgICAgICAgICAgdGl0bGU9e3QoJ3Rhc2tfcGFuZWw6Y29uY2F0ZW5hdGVkX2RlcGVuZGVuY2llc190aXRsZV9tb2RhbCcpfVxuICAgICAgICAgICAgICB2YXJpYW50PVwiZGFuZ2VyXCJcbiAgICAgICAgICAgICAgdGV4dENvbnRlbnQ9e3QoJ3Rhc2tfcGFuZWw6Y29uY2F0ZW5hdGVkX2RlcGVuZGVuY2llcycsIHtcbiAgICAgICAgICAgICAgICB0YXNrTmFtZTogdGl0bGUsXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9e3RyYW5zbGF0ZXNNb2RhbH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEZvcm1Db250cm9sIGNvbXBvbmVudD1cImZpZWxkc2V0XCI+XG4gICAgICAgICAgICAgICAgPFNDRm9ybU1vZGFsPlxuICAgICAgICAgICAgICAgICAgPFJhZGlvR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cImNvbmNhdGVuYXRlT3B0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNvbmNhdGVuYXRlT3B0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e29wdGlvblZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlT3B0aW9uTW9kYWx9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbExhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e09QVElPTl9ERUxFVEVfRkFUSEVSX0xJTkt9XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbD17PERhcmtSYWRpbyAvPn1cbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17dCgndGFza19wYW5lbDpjb25jYXRlbmF0ZWRfZGVwZW5kZW5jaWVzX3F1ZXN0aW9uX21vZGFsJyl9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbExhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e09QVElPTl9DSEFOR0VfREFURX1cbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sPXs8RGFya1JhZGlvIC8+fVxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt0KCd0YXNrX3BhbmVsOmNvbmNhdGVuYXRlZF9jaGFuZ2VfZGF0ZScsIHdvcmRpbmdNb2RhbCl9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L1JhZGlvR3JvdXA+XG4gICAgICAgICAgICAgICAgPC9TQ0Zvcm1Nb2RhbD5cbiAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgIDwvTW9kYWxQb3J0YWw+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9TdXNwZW5zZT5cbiAgICAgIDwvPlxuICAgIClcbiAgfSxcbiAgKHByZXZQcm9wcywgbmV4dFByb3BzKSA9PlxuICAgIHByZXZQcm9wcy5kYXRldGltZSA9PT0gbmV4dFByb3BzLmRhdGV0aW1lICYmXG4gICAgcHJldlByb3BzLmVzdGltYXRlZCA9PT0gbmV4dFByb3BzLmVzdGltYXRlZCAmJlxuICAgIHByZXZQcm9wcy5kZWFkbGluZSA9PT0gbmV4dFByb3BzLmRlYWRsaW5lICYmXG4gICAgcHJldlByb3BzLnN0YXR1cyA9PT0gbmV4dFByb3BzLnN0YXR1cyAmJlxuICAgIHByZXZQcm9wcy51cGRhdGVUYXNrID09PSBuZXh0UHJvcHMudXBkYXRlVGFza1xuKVxuXG5EZWFkbGluZUNvbnRhaW5lci5wcm9wVHlwZXMgPSB7XG4gIC8qKlxuICAgKiB0w610dWxvIGRlIGxhIHRhcmVhXG4gICAqL1xuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogSUQgZGUgbGEgdGFyZWFcbiAgICovXG4gIHRhc2tJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogQ2FsbGJhY2sgcXVlIG9idGllbmUgbG9zIGxpbmtzIGRlIGxhIHRhcmVhXG4gICAqL1xuICBnZXRMaW5rczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgLyoqXG4gICAqIFN0YXR1cyBhY3R1YWxcbiAgICovXG4gIHN0YXR1czogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogRmVjaGEgZGUgZ2luYWxpemFjacOzbiBkZSBsYSB0YXJlYVxuICAgKi9cbiAgZGVhZGxpbmU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBFc3RpbWFjaW9uIGRlIGxhIHRhcmVhIGVuIG1pbnV0b3NcbiAgICovXG4gIGVzdGltYXRlZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogRmVjaGEgZGUgaW5pY2lvIGRlIGxhIHRhcmVhXG4gICAqL1xuICBkYXRldGltZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAvKipcbiAgICogSUQgZGVsIHByb3llY3RvXG4gICAqL1xuICBwcm9qZWN0SWQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIC8qKlxuICAgKiBDYWxsYmFjayBwYXJhIG1vc3RyYXIgZWwgYWxlcnQgZ2VuZXJpY28gZGUgZXJyb3JcbiAgICovXG4gIGhhbmRsZVNob3dFcnJvcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn1cbiJdLCJtYXBwaW5ncyI6Imc3RUF1Qk1BLFlBQVcsQ0FBR0MsY0FBSyxDQUFDQyxJQUFJLENBQUMsaUJBQzdCLDBFQUFPLDBCQUEwQixLQUFFQyxJQUFJLENBQUMsU0FBQUMsQ0FBTSxRQUFLLENBQ2pEQyxPQUFPLENBQUVELENBQU0sQ0FBQ0osV0FDbEIsQ0FBQyxDQUFDLENBQUMsRUFDSixDQUVLTSxTQUFTLENBQUcsR0FBQUMsZ0JBQVUsRUFBQyxDQUMzQkMsSUFBSSxDQUFFLENBQ0pDLEtBQUssQ0FBRSxNQUFNLENBQ2IsWUFBYSxDQUNYQSxLQUFLLENBQUUsTUFDVCxDQUNGLENBQUMsQ0FDREMsT0FBTyxDQUFFLENBQUMsQ0FDWixDQUFDLENBQUMsQ0FBQyxTQUFBQyxDQUFLLFFBQUksb0JBQUMsV0FBSyxnQkFBQyxLQUFLLENBQUMsU0FBUyxFQUFLQSxDQUFLLEVBQUksRUFBQyxDQUVwQ0MsaUJBQWlCLENBQUcsR0FBQUMsV0FBSSxFQUNuQyxXQVdNLElBVkpDLEVBQUssR0FBTEEsS0FBSyxDQUNMQyxDQUFNLEdBQU5BLE1BQU0sQ0FDTkMsQ0FBTSxHQUFOQSxNQUFNLENBQ05DLENBQVEsR0FBUkEsUUFBUSxDQUNSQyxDQUFRLEdBQVJBLFFBQVEsQ0FDUkMsQ0FBUyxHQUFUQSxTQUFTLENBQ1RDLENBQVMsR0FBVEEsU0FBUyxDQUNUQyxDQUFVLEdBQVZBLFVBQVUsS0FDVkMsUUFBUSxDQUFSQSxDQUFRLFlBQUcsSUFBSSxHQUNmQyxDQUFlLEdBQWZBLGVBQWUsR0FFRCxHQUFB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